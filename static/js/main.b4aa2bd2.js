/*! For license information please see main.b4aa2bd2.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},526:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FirebaseError:function(){return du},SDK_VERSION:function(){return lc},_DEFAULT_ENTRY_NAME:function(){return $u},_addComponent:function(){return Zu},_addOrOverwriteComponent:function(){return ec},_apps:function(){return Ju},_clearComponents:function(){return ic},_components:function(){return Xu},_getProvider:function(){return nc},_registerComponent:function(){return tc},_removeServiceInstance:function(){return rc},deleteApp:function(){return pc},getApp:function(){return hc},getApps:function(){return dc},initializeApp:function(){return fc},onLog:function(){return yc},registerVersion:function(){return mc},setLogLevel:function(){return gc}});var i=n(791),a=n(164);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var h,d=h||(h={});d.Pop="POP",d.Push="PUSH",d.Replace="REPLACE";var p=function(e){return e};function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function k(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function w(e,t){if(!e)throw new Error(t)}var b=(0,i.createContext)(null);var x=(0,i.createContext)(null);var _=(0,i.createContext)({outlet:null,matches:[]});function S(e){return function(e){var t=(0,i.useContext)(_).outlet;if(t)return(0,i.createElement)(P.Provider,{value:e},t);return t}(e.context)}function I(e){w(!1)}function E(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,o=e.location,s=e.navigationType,u=void 0===s?h.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;A()&&w(!1);var d=H(n),p=(0,i.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=k(o));var v=o,m=v.pathname,y=void 0===m?"/":m,g=v.search,_=void 0===g?"":g,S=v.hash,I=void 0===S?"":S,E=v.state,T=void 0===E?null:E,C=v.key,N=void 0===C?"default":C,R=(0,i.useMemo)((function(){var e=q(y,d);return null==e?null:{pathname:e,search:_,hash:I,state:T,key:N}}),[d,y,_,I,T,N]);return null==R?null:(0,i.createElement)(b.Provider,{value:p},(0,i.createElement)(x.Provider,{children:a,value:{location:R,navigationType:u}}))}function T(e){var t=e.children,n=e.location;return function(e,t){A()||w(!1);var n=(0,i.useContext)(_).matches,r=n[n.length-1],a=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var s,u=N();if(t){var c,l="string"===typeof t?k(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||w(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=q(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=U(i[o],r);return a}(e,{pathname:h});0;return V(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:W([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:W([o,e.pathnameBase])})})),n)}(D(t),n)}function C(e){A()||w(!1);var t=(0,i.useContext)(b),n=t.basename,r=t.navigator,a=O(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):W([n,s])}return r.createHref({pathname:c,search:u,hash:o})}function A(){return null!=(0,i.useContext)(x)}function N(){return A()||w(!1),(0,i.useContext)(x).location}function R(){A()||w(!1);var e=(0,i.useContext)(b),t=e.basename,n=e.navigator,r=(0,i.useContext)(_).matches,a=N().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,i.useRef)(!1);(0,i.useEffect)((function(){s.current=!0}));var u=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=B(e,JSON.parse(o),a);"/"!==t&&(i.pathname=W([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}var P=(0,i.createContext)(null);function O(e){var t=(0,i.useContext)(_).matches,n=N().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return B(e,JSON.parse(r),n)}),[e,r,n])}function D(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==I&&w(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=D(e.props.children)),t.push(n)}else t.push.apply(t,D(e.props.children))})),t}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=W([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),L(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:F(o,e.index),routesMeta:s})})),t}var M=/^:\w+$/,j=function(e){return"*"===e};function F(e,t){var n=e.split("/"),r=n.length;return n.some(j)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!j(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),r)}function U(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:W([i,l.pathname]),pathnameBase:W([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=W([i,l.pathnameBase]))}return a}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(_.Provider,{children:void 0!==r.route.element?r.route.element:(0,i.createElement)(S,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function B(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:K(a),hash:G(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var W=function(e){return e.join("/").replace(/\/\/+/g,"/")},H=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},K=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function J(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,p({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:g(e)}function r(e,t){return void 0===t&&(t=null),p(f({pathname:d.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:y()}))}function i(e){c=e,e=t(),l=e[0],d=e[1],w.call({action:c,location:d})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)b.call(u),u=null;else{var e=h.Pop,n=t(),r=n[0];if(n=n[1],b.length){if(null!=r){var o=l-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=h.Pop,l=(e=t())[0],d=e[1],w=m(),b=m();return null==l&&(l=0,s.replaceState(f({},s.state,{idx:l}),"")),{get action(){return c},get location(){return d},createHref:n,push:function e(t,a){var u=h.Push,c=r(t,a);if(!b.length||(b.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(je){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=h.Replace,u=r(t,a);b.length&&(b.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&o.addEventListener("beforeunload",v),function(){t(),b.length||o.removeEventListener("beforeunload",v)}}}}({window:r}));var o=a.current,s=l((0,i.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(E,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var X=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=$(e,Y),f=C(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,s=R(),u=N(),c=O(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||g(u)===g(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,r,e])}(c,{replace:o,state:s,target:u});return(0,i.createElement)("a",Q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:u}))}));var Z="/",ee="/browse",te="/signin";function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var se=n(441),ue=n(613),ce=n.n(ue);var le=function(e){function t(e,r,u,c,h){for(var d,p,v,m,w,x=0,_=0,S=0,I=0,E=0,P=0,D=v=d=0,M=0,j=0,F=0,U=0,V=u.length,z=V-1,B="",q="",W="",H="";M<V;){if(p=u.charCodeAt(M),M===z&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,V++,z++),0===_+I+S+x){if(M===z&&(0<j&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=R}if(U=(v=t(r,j,v,p,h+1)).length,0<O&&(w=s(3,v,j=n(R,B,F),r,C,T,U,p,h,c),B=j.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);W+=v,v=F=j=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<j?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<O&&void 0!==(w=s(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}F=j=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(j=1,B+="\0"),0<O*L&&s(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,m=u.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(j=F=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===E&&58===u.charCodeAt(M-3)&&(A=E);case 8:111===P&&(A=P)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+S+I+x&&(j=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*P===533);else d=1;S++}break;case 64:0===_+S+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}P=E,E=p,M++}if(0<(U=q.length)){if(j=r,0<O&&(void 0!==(w=s(2,q,j,e,C,T,U,c,h,c))&&0===(q=w).length))return H+q+W;if(q=j.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<O;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],P=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=P.length=0;break;default:if("function"===typeof t)P[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},fe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var he=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},de=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pe=he((function(e){return de.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ve=n(110),me=n.n(ve);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ke=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,se.typeOf)(e)},we=Object.freeze([]),be=Object.freeze({});function xe(e){return"function"==typeof e}function _e(e){return e.displayName||e.name||"Component"}function Se(e){return e&&"string"==typeof e.styledComponentId}var Ie="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ee="undefined"!=typeof window&&"HTMLElement"in window,Te=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Ce={};function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ne=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ae(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Re=new Map,Pe=new Map,Oe=1,De=function(e){if(Re.has(e))return Re.get(e);for(;Pe.has(Oe);)Oe++;var t=Oe++;return Re.set(e,t),Pe.set(t,e),t},Le=function(e){return Pe.get(e)},Me=function(e,t){t>=Oe&&(Oe=t+1),Re.set(e,t),Pe.set(t,e)},je="style["+Ie+'][data-styled-version="5.3.3"]',Fe=new RegExp("^"+Ie+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ue=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ve=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Fe);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Me(c,u),Ue(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},ze=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Be=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ie))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ie,"active"),r.setAttribute("data-styled-version","5.3.3");var o=ze();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},qe=function(){function e(e){var t=this.element=Be(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ae(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),We=function(){function e(e){var t=this.element=Be(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),He=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ke=Ee,Ge={isServer:!Ee,useCSSOMInjection:!Te},Qe=function(){function e(e,t,n){void 0===e&&(e=be),void 0===t&&(t={}),this.options=ye({},Ge,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ee&&Ke&&(Ke=!1,function(e){for(var t=document.querySelectorAll(je),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ie)&&(Ve(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return De(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ye({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new He(i):r?new qe(i):new We(i),new Ne(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(De(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(De(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(De(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Le(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=Ie+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),$e=/(a)(d)/gi,Ye=function(e){return String.fromCharCode(e+(e>25?39:97))};function Je(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ye(t%52)+n;return(Ye(t%52)+n).replace($e,"$1-$2")}var Xe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ze=function(e){return Xe(5381,e)};function et(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(xe(n)&&!Se(n))return!1}return!0}var tt=Ze("5.3.3"),nt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&et(e),this.componentId=t,this.baseHash=Xe(tt,t),this.baseStyle=n,Qe.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=wt(this.rules,e,t,n).join(""),o=Je(Xe(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Xe(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=wt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Xe(c,p+f),l+=p}}if(l){var v=Je(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),rt=/^\s*\/\/.*$/gm,it=[":","[",".","#"];function at(e){var t,n,r,i,a=void 0===e?be:e,o=a.options,s=void 0===o?be:o,u=a.plugins,c=void 0===u?we:u,l=new le(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==it.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(rt,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ae(15),Xe(e,t.name)}),5381).toString():"",p}var ot=i.createContext(),st=(ot.Consumer,i.createContext()),ut=(st.Consumer,new Qe),ct=at();function lt(){return(0,i.useContext)(ot)||ut}function ft(){return(0,i.useContext)(st)||ct}function ht(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=lt(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,i.useMemo)((function(){return at({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){ce()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ot.Provider,{value:o},i.createElement(st.Provider,{value:s},e.children))}var dt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ct);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ae(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ct),this.name+e.hash},e}(),pt=/([A-Z])/,vt=/([A-Z])/g,mt=/^ms-/,yt=function(e){return"-"+e.toLowerCase()};function gt(e){return pt.test(e)?e.replace(vt,yt).replace(mt,"-ms-"):e}var kt=function(e){return null==e||!1===e||""===e};function wt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=wt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return kt(e)?"":Se(e)?"."+e.styledComponentId:xe(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:wt(e(t),t,n,r):e instanceof dt?n?(e.inject(n,r),e.getName(r)):e:ke(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!kt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||xe(t[o])?a.push(gt(o)+":",t[o],";"):ke(t[o])?a.push.apply(a,e(t[o],o)):a.push(gt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in fe?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var bt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xe(e)||ke(e)?bt(wt(ge(we,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:bt(wt(ge(e,n)))}new Set;var _t=function(e,t,n){return void 0===n&&(n=be),e.theme!==n.theme&&e.theme||t||n.theme},St=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,It=/(^-|-$)/g;function Et(e){return e.replace(St,"-").replace(It,"")}var Tt=function(e){return Je(Ze(e)>>>0)};function Ct(e){return"string"==typeof e&&!0}var At=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Nt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Rt(e,t,n){var r=e[n];At(t)&&At(r)?Pt(r,t):e[n]=t}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(At(o))for(var s in o)Nt(s)&&Rt(e,o[s],s)}return e}var Ot=i.createContext();Ot.Consumer;var Dt={};function Lt(e,t,n){var r=Se(e),a=!Ct(e),o=t.attrs,s=void 0===o?we:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Et(e);Dt[n]=(Dt[n]||0)+1;var r=n+"-"+Tt("5.3.3"+n+Dt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return Ct(e)?"styled."+e:"Styled("+_e(e)+")"}(e):l,h=t.displayName&&t.componentId?Et(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new nt(n,h,r?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=be);var r=ye({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in xe(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(_t(t,(0,i.useContext)(Ot),s)||be,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=lt(),a=ft();return t?e.generateAndInjectStyles(be,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=Ct(y),k=p!==t?ye({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,pe,y):!g||pe(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=ye({},t.style,{},p.style)),w.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,i.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=i.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):we,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ct(e)?e:Et(_e(e)));return Lt(e,ye({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Pt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&me()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Mt=function(e){return function e(t,n,r){if(void 0===r&&(r=be),!(0,se.isValidElementType)(n))return Ae(1,String(n));var i=function(){return t(n,r,xt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ye({},r,{},i))},i.attrs=function(i){return e(t,n,ye({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Lt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Mt[e]=Mt(e)}));var jt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=et(e),Qe.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(wt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Qe.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=xt.apply(void 0,[e].concat(n)),o="sc-global-"+Tt(JSON.stringify(a)),s=new jt(a,o);function u(e){var t=lt(),n=ft(),r=(0,i.useContext)(Ot),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,Ce,n,i);else{var a=ye({},t,{theme:_t(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(u)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ze();return"<style "+[n&&'nonce="'+n+'"',Ie+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ae(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Ae(2);var n=((t={})[Ie]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=ze();return r&&(n.nonce=r),[i.createElement("style",ye({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Qe({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Ae(2):i.createElement(ht,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Ae(3)}}();var Ut,Vt,zt,Bt,qt,Wt,Ht,Kt,Gt,Qt,$t,Yt,Jt,Xt,Zt,en,tn,nn,rn,an,on,sn,un=Mt,cn=un.div(Ut||(Ut=oe(["\n  display: flex;\n  border-bottom: 8px solid #222;\n  padding: 50px 5%;\n  color: white;\n  overflow: hidden;\n"]))),ln=un.div(Vt||(Vt=oe(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n  justify-content: space-between;\n  max-width: 1100px;\n  margin: auto;\n  width: 100%;\n\n  @media (max-width: 1000px) {\n    flex-direction: column;\n  }\n"])),(function(e){return e.direction})),fn=un.div(zt||(zt=oe(["\n  width: 50%;\n\n  @media (max-wdith: 1000px) {\n    width: 100%;\n    padding: 0 45px;\n    text-align: center;\n  }\n"]))),hn=un.h1(Bt||(Bt=oe(["\n  font-size: 50px;\n  line-height: 1.1;\n  margin-botton: 8px;\n\n  @media (max-width: 600px) {\n    font-size: 35px;\n  }\n"]))),dn=un.h2(qt||(qt=oe(["\n  font-size: 26px;\n  font-weight: normal;\n  line-height: normal;\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]))),pn=un.img(Wt||(Wt=oe(["\n  max-width: 100%;\n  height: auto;\n"]))),vn=un.div(Ht||(Ht=oe(["\n  @media (max-width: 1000px) {\n    ",": last-of-type h2 {\n      marign-bottom: 50px;\n    }\n  }\n"])),cn),mn=n(184),yn=["children","direction"],gn=["children"],kn=["children"],wn=["children"],bn=["children"];function xn(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=ae(e,yn);return(0,mn.jsx)(cn,ie(ie({},i),{},{children:(0,mn.jsx)(ln,{direction:r,children:t})}))}xn.Container=function(e){var t=e.children,n=ae(e,gn);return(0,mn.jsx)(vn,ie(ie({},n),{},{children:t}))},xn.Pane=function(e){var t=e.children,n=ae(e,kn);return(0,mn.jsx)(fn,ie(ie({},n),{},{children:t}))},xn.Title=function(e){var t=e.children,n=ae(e,wn);return(0,mn.jsx)(hn,ie(ie({},n),{},{children:t}))},xn.SubTitle=function(e){var t=e.children,n=ae(e,bn);return(0,mn.jsx)(dn,ie(ie({},n),{},{children:t}))},xn.Image=function(e){var t=Object.assign({},e);return(0,mn.jsx)(pn,ie({},t))};var _n,Sn,In,En,Tn,Cn,An,Nn=un.p(Kt||(Kt=oe(["\n    font-size: 24px;\n    color: #e5e5e5;\n    font-weight: bold;\n    margin-left: 56px;\n    margin-right: 56px;\n    margin-top: 0;\n"]))),Rn=un.div(Gt||(Gt=oe(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 50px;\n    box-sizing: border-box;\n\n    > "," {\n        @media (max-width: 1000px) {\n            margin-left: 30px;\n        }\n    }\n\n    &: last-of-type {\n        margin-bottom: 0;\n    }\n"])),Nn),Pn=un.div(Qt||(Qt=oe(["\n    display: flex;\n    flex-direction: ",";\n    ",";\n    ",";\n\n    > ",":first-of-type {\n        @media(min-width: 1100px) {\n            margin-top: -150px;\n        }\n    }\n"])),(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),Rn),On=un.p($t||($t=oe(["\n    font-size: 12px;\n    color: #fff;\n    font-weight: bold;\n    margin-top: 0;\n    margin-bottom: 0;\n    user-select: none;\n    display: none;\n"]))),Dn=un.p(Yt||(Yt=oe(["\n    margin-top: 5px;\n    font-size: 10px;\n    color: #fff;\n    margin-bottom: 0;\n    user-select: none;\n    display: none;\n    line-height: normal;\n"]))),Ln=un.p(Jt||(Jt=oe(["\n    font-size: 18px;\n    color: white;\n    font-weight: ",";\n    margin: 0;\n\n    @media (max-width: 600px) {\n        line-height: 22px;\n    }\n"])),(function(e){return"bold"===e.fontWeight?"bold":"normal"})),Mn=un.div(Xt||(Xt=oe(["\n    display: flex;\n    flex-direction: row;\n    background: url(",");\n    background-size: contain;\n    position: relative;\n    height: 360px;\n    background-position-x: right;\n    background-repeat: no-repeat;\n    background-color: black;\n\n    @media(max-width: 1000px) {\n        height: auto;\n        background-size: auto;\n\n        "," {\n            font-size: 20px;\n            line-height: 20px;\n            margin-bottom: 10px;\n        }\n        "," {\n            font-size: 14px;\n        }\n    }\n"])),(function(e){return e.src}),Nn,Ln),jn=un(Nn)(Zt||(Zt=oe(["\n    margin-left: 0;\n"]))),Fn=un.button(en||(en=oe(["\n    color: white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    cursor: pointer;\n    background-color: transparent;\n    border: 0;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 24px;\n    }\n"]))),Un=un.div(tn||(tn=oe(["\n    background-color: ",";\n    border-radius: 15px;\n    width: 20px;\n    padding: 5px;\n    text-align: center;\n    color: white;\n    font-weight: bold;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);\n    margin-right: 10px;\n    font-size: 12px;\n"])),(function(e){return e.rating>=15?"red":"green"})),Vn=un.div(nn||(nn=oe(["\n    margin: 56px;\n    max-with: 500px;\n    line-height: normal;\n\n    @media(max-width: 1000px) {\n        margin:30px;\n        max-width: none;\n    }\n"]))),zn=un.div(rn||(rn=oe(["\n    display: none;\n    position: absolute;\n    bottom: 0;\n    padding: 10px;\n    background-color: #0000008f;\n"]))),Bn=un.div(an||(an=oe(["\n    display: flex;\n    flex-direction: row;\n"]))),qn=un.div(on||(on=oe(["\n    display: flex;\n    flex-direction: column;\n    margin-right: 5px;\n    position: relative;\n    cursor: pointer;\n    transition: transform 0.9s;\n\n    &:hover {\n        transform: scale(1.3);\n        z-index: 99;\n    }\n\n    @media (min-width: 1200px) {\n        &:hover ",", &:hover ",", &:hover "," {\n            display: block;\n            z-index: 100;\n        }\n    }\n\n    &:first-of-type {\n        margin-left: 56px;\n\n        @media (max-width: 1000px) {\n            margin-left: 30px;\n        }\n    }\n\n    &:last-of-type {\n        margin-right: 56px;\n\n        @media (max-width: 1000px) {\n            margin-right: 30px;\n        }\n    }\n"])),zn,Dn,On),Wn=un.img(sn||(sn=oe(["\n    border: 0;\n    width: 100%;\n    max-width: 305px;\n    cursor: pointer;\n    height: auto;\n    padding: 0;\n    margin: 0;\n"]))),Hn=["children"],Kn=["children"],Gn=["children"],Qn=["children"],$n=["children"],Yn=["children"],Jn=["children"],Xn=["children","category"],Zn=["item","children"],er=(0,i.createContext)();function tr(e){var t=e.children,n=ae(e,Hn),r=l((0,i.useState)(!1),2),a=r[0],o=r[1],s=l((0,i.useState)({}),2),u=s[0],c=s[1];return(0,mn.jsx)(er.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:u,setItemFeature:c},children:(0,mn.jsx)(Rn,ie(ie({},n),{},{children:t}))})}tr.Group=function(e){var t=e.children,n=ae(e,Kn);return(0,mn.jsx)(Pn,ie(ie({},n),{},{children:t}))},tr.Title=function(e){var t=e.children,n=ae(e,Gn);return(0,mn.jsx)(Nn,ie(ie({},n),{},{children:t}))},tr.SubTitle=function(e){var t=e.children,n=ae(e,Qn);return(0,mn.jsx)(On,ie(ie({},n),{},{children:t}))},tr.Text=function(e){var t=e.children,n=ae(e,$n);return(0,mn.jsx)(Dn,ie(ie({},n),{},{children:t}))},tr.Meta=function(e){var t=e.children,n=ae(e,Yn);return(0,mn.jsx)(zn,ie(ie({},n),{},{children:t}))},tr.Entities=function(e){var t=e.children,n=ae(e,Jn);return(0,mn.jsx)(Bn,ie(ie({},n),{},{children:t}))},tr.Feature=function(e){var t=e.children,n=e.category,r=ae(e,Xn),a=(0,i.useContext)(er),o=a.showFeature,s=a.itemFeature,u=a.setShowFeature;return o?(0,mn.jsx)(Mn,ie(ie({},r),{},{src:"./images/".concat(n,"/").concat(s.genre,"/").concat(s.slug,"/large.jpg"),children:(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)(jn,{children:s.title}),(0,mn.jsx)(Ln,{children:s.description}),(0,mn.jsx)(Fn,{onClick:function(){return u(!1)},children:(0,mn.jsx)("img",{src:"./images/icons/close.png",alt:"Close"})}),(0,mn.jsxs)(Pn,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,mn.jsx)(Un,{rating:s.maturity,children:s.maturity<12?"PG":s.maturity}),(0,mn.jsx)(Ln,{fontWeight:"bold",children:s.genre.charAt(0).toUpperCase()+s.genre.slice(1)})]}),t]})})):null},tr.Item=function(e){var t=e.item,n=e.children,r=ae(e,Zn),a=(0,i.useContext)(er),o=a.setShowFeature,s=a.setItemFeature;return(0,mn.jsx)(qn,ie(ie({onClick:function(){s(t),o(!0)}},r),{},{children:n}))},tr.Image=function(e){var t=Object.assign({},e);return(0,mn.jsx)(Wn,ie({},t))};var nr,rr,ir,ar,or,sr,ur=un.div(_n||(_n=oe(["\n    display: flex;\n    padding: 70px 56px;\n    margin: auto;\n    max-width: 1000px;\n    flex-direction: column;\n\n    @media (max-width: 1000px) {\n        padding: 70px 30px;\n    }\n"]))),cr=un.div(Sn||(Sn=oe(["\n    display: flex;\n    flex-direction: column;\n    text-align: left;\n"]))),lr=un.div(In||(In=oe(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));\n    grid-gap: 15px;\n\n    @media (max-width: 1000px) {\n        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    }\n"]))),fr=un.a(En||(En=oe(["\n    color: #757575;\n    margin-bottom: 20px;\n    font-size: 14px;\n    text-decoration: none;\n"]))),hr=un.p(Tn||(Tn=oe(["\n    font-size: 16px;\n    color: #757575;\n    margin-bottom: 40px;\n"]))),dr=un.p(Cn||(Cn=oe(["\n    font-size: 13px;\n    color: #757575;\n    margin-bottom: 40px;\n"]))),pr=un.p(An||(An=oe(["\n    flex-basis: 100%;\n    height: 0;\n"]))),vr=["children"],mr=["children"],yr=["children"],gr=["children"],kr=["children"],wr=["children"],br=["children"];function xr(e){var t=e.children,n=ae(e,vr);return(0,mn.jsx)(ur,ie(ie({},n),{},{children:t}))}xr.Row=function(e){var t=e.children,n=ae(e,mr);return(0,mn.jsx)(lr,ie(ie({},n),{},{children:t}))},xr.Column=function(e){var t=e.children,n=ae(e,yr);return(0,mn.jsx)(cr,ie(ie({},n),{},{children:t}))},xr.Link=function(e){var t=e.children,n=ae(e,gr);return(0,mn.jsx)(fr,ie(ie({},n),{},{children:t}))},xr.Title=function(e){var t=e.children,n=ae(e,kr);return(0,mn.jsx)(hr,ie(ie({},n),{},{children:t}))},xr.Text=function(e){var t=e.children,n=ae(e,wr);return(0,mn.jsx)(dr,ie(ie({},n),{},{children:t}))},xr.Break=function(e){var t=e.children,n=ae(e,br);return(0,mn.jsx)(pr,ie(ie({},n),{},{children:t}))};var _r,Sr,Ir,Er,Tr,Cr=un.div(nr||(nr=oe(["\n    display: flex;\n    border-bottom: 8px solid #222;\n"]))),Ar=un.div(rr||(rr=oe(["\n    display: flex;\n    padding: 70px 45px;\n    flex-direction: column;\n    max-width: 815px;\n    margin: auto;\n"]))),Nr=un.div(ir||(ir=oe(["\n    color: white;\n    margin-bottom: 10px;\n    margin: auto;\n    max-width: 700px;\n    width: 100%;\n\n    &:first-of-type {\n        margin-top: 3em;\n    }\n"]))),Rr=un.div(ar||(ar=oe(["\n    max-height: 1200px;\n    transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\n    font-size: 26px;\n    font-weight: normal;\n    line-height: normal;\n    background: #303030;\n    padding: 0.8em 2.2em 0.8em 1.2em;\n    white-space: pre-wrap;\n    user-select: none;\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),Pr=un.div(or||(or=oe(["\n    display: flex;\n    justify-content: space-between;\n    cursor: pointer;\n    margin-bottom: 1px;\n    font-size: 26px;\n    font-weight: normal;\n    background: #303030;\n    padding: 0.8em 1.2em 0.8em 1.2em;\n    user-select: none;\n    align-items: center;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media (max-width: 600px) {\n            width: 16px;\n        }\n    }\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n    }\n"]))),Or=un.h1(sr||(sr=oe(["\n    font-size: 50px;\n    line-height: 1.1;\n    margin-top: 0;\n    margin-bottom: 8px;\n    color: white;\n    text-align: center;\n\n    @media (max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),Dr=["children"],Lr=["children"],Mr=["children"],jr=["children"],Fr=["children"],Ur=(0,i.createContext)();function Vr(e){var t=e.children,n=ae(e,Dr);return(0,mn.jsx)(Cr,ie(ie({},n),{},{children:(0,mn.jsx)(Ar,{children:t})}))}Vr.Title=function(e){var t=e.children,n=ae(e,Lr);return(0,mn.jsx)(Or,ie(ie({},n),{},{children:t}))},Vr.Item=function(e){var t=e.children,n=ae(e,Mr),r=l((0,i.useState)(!1),2),a=r[0],o=r[1];return(0,mn.jsx)(Ur.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,mn.jsx)(Nr,ie(ie({},n),{},{children:t}))})},Vr.Header=function(e){var t=e.children,n=ae(e,jr),r=(0,i.useContext)(Ur),a=r.toggleShow,o=r.setToggleShow;return(0,mn.jsxs)(Pr,ie(ie({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,mn.jsx)("img",{src:"./images/icons/close-slim.png",alt:"Close"}):(0,mn.jsx)("img",{src:"./images/icons/add.png",alt:"Open"})]}))},Vr.Body=function(e){var t=e.children,n=ae(e,Fr);return(0,i.useContext)(Ur).toggleShow?(0,mn.jsx)(Rr,ie(ie({},n),{},{children:t})):null};var zr,Br,qr,Wr,Hr,Kr,Gr,Qr,$r,Yr,Jr,Xr,Zr,ei,ti,ni,ri=un.div(_r||(_r=oe(["\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    margin-top: 20px;\n    flex-wrap: wrap;\n\n    @media(max-width: 1000px) {\n        flex-direction: column;\n        align-items: center;\n    }\n"]))),ii=un.input(Sr||(Sr=oe(["\n    max-width: 450px;\n    width: 100%;\n    border: 0;\n    padding: 10px;\n    height: 70px;\n    box-sizing: border-box;\n"]))),ai=un.button(Ir||(Ir=oe(["\n    display: flex;\n    align-items: center;\n    height: 70px;\n    background: #e50914;\n    color: white;\n    text-transform: uppercase;\n    padding: 0 32px;\n    border: 0;\n    front-size: 26px;\n    cursor: pointer;\n\n    &:hover {\n        background: #f40612;\n    }\n\n    @media (max-width: 1000px) {\n        height: 50px;\n        font-size: 16px;\n        margin-top: 20px;\n        font-weight: bold;\n    }\n\n    img {\n        margin-left: 10px;\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media(max-width: 1000px) {\n            width: 16px;\n        }\n    }\n"]))),oi=un.p(Er||(Er=oe(["\n    font-size: 19.2px;\n    color: white;\n    text-align: center;\n\n    @media(max-width: 600px) {\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),si=un.div(Tr||(Tr=oe(["\n    flex-basis: 100%;\n    height: 0;\n"]))),ui=["children"],ci=["children"],li=["children"];function fi(e){var t=e.children,n=ae(e,ui);return(0,mn.jsx)(ri,ie(ie({},n),{},{children:t}))}fi.Input=function(e){var t=Object.assign({},e);return(0,mn.jsx)(ii,ie({},t))},fi.Button=function(e){var t=e.children,n=ae(e,ci);return(0,mn.jsxs)(ai,ie(ie({},n),{},{children:[t," ",(0,mn.jsx)("img",{src:"./images/icons/chevron-right.png",alt:"Try Now"})]}))},fi.Text=function(e){var t=e.children,n=ae(e,li);return(0,mn.jsx)(oi,ie(ie({},n),{},{children:t}))},fi.Break=function(e){var t=Object.assign({},e);return(0,mn.jsx)(si,ie({},t))};var hi,di,pi,vi=un.div(zr||(zr=oe(["\n    display: flex;\n    flex-direction: column;\n    background: url(",") \n    top left / cover no-repeat;\n\n    @media (max-wdith: 1100px) {\n        ","\n    }\n"])),(function(e){var t=e.src;return t?"./images/misc/".concat(t,".jpg"):"./images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background: none;"})),mi=un.div(Br||(Br=oe(["\n    display: flex;\n    align-items: center;\n"]))),yi=un.button(qr||(qr=oe(["\n    background: url(",");\n    background-size: contain;\n    border: 0;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n"])),(function(e){return e.src})),gi=un.div(Wr||(Wr=oe(["\n    display: flex;\n    margin: 0 56px;\n    height: 64px;\n    padding: 18px 0;\n    justify-content: space-between;\n    align-items: center;\n\n    a {\n        display: flex;\n    }\n\n    @media (max-width: 1000px) {\n        margin: 0 30px;\n    }\n"]))),ki=un.p(Hr||(Hr=oe(["\n    color: white;\n    text-decoration: none;\n    margin-right: 30px;\n    font-weight: ",";\n    cursor: pointer;\n\n    &:hover {\n        font-weight: bold;\n    }\n    \n    &:last-of-type {\n        margin-right: 0;\n    }\n"])),(function(e){return"true"===e.active?"700":"normal"})),wi=un.div(Kr||(Kr=oe(["\n    display: none;\n    background-color: black;\n    position: absolute;\n    padding: 10px;\n    width: 100px;\n    top: 32px;\n    right: 10px;\n\n    ",":last-of-type "," {\n        cursor: pointer;\n    }\n\n    "," {\n        margin-bottom: 10px;\n\n        &:last-of-type {\n            margin-bottom: 0;\n        }\n        ",","," {\n            cursor: default;\n        }\n\n        button {\n            margin-right: 10px;\n        }\n\n        p {\n            font-size: 12px;\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n"])),mi,ki,mi,ki,yi),bi=un.div(Gr||(Gr=oe(["\n    display: flex;\n    align-teims: center;\n\n    svg {\n        color: white;\n        cursor: pointer;\n    }\n\n    @media (max-width: 700px) {\n        display: none;\n    }\n"]))),xi=un.button(Qr||(Qr=oe(["\n    cursor: pointer;\n    background-color: transparent;\n    border: 0;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 16px;\n    }\n"]))),_i=un.input($r||($r=oe(["\n    background-color: #44444459;\n    color: white;\n    border: 1px solid white;\n    transition: width 0.5s;\n    height: 30px;\n    font-size: 14px;\n    margin-left: ",";\n    padding: ",";\n    opacity: ",";\n    width: ",";\n"])),(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0px"})),Si=un.button(Yr||(Yr=oe(["\n    box-shadow: 0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);\n    background-color: #e6e6e6;\n    color: #000;\n    border-width: 0;\n    font-weight: bold;\n    padding: 10px 20px;\n    border-radius: 5px;\n    max-width: 130px;\n    font-size: 20px;\n    margin-top: 30px;\n    cursor: pointer;\n    transition: background-color 0.9s;\n\n    &:hover {\n        background-color: #ff1e1e;\n        color: white;\n    }\n"]))),Ii=un.div(Jr||(Jr=oe(["\n    display: flex;\n    align-items: center;\n    margin-left: 20px;\n    position: relative;\n\n    button {\n        cursor: pointer;\n    }\n\n    &:hover > "," {\n        display: flex;\n        flex-direction: column;\n    }\n"])),wi),Ei=un.img(Xr||(Xr=oe(["\n    height: 32px;\n    width: 108px;\n    margin-right: 40px;\n\n    @media(min-width: 1449px) {\n        height: 45px;\n        width: 167px;\n    }\n"]))),Ti=un(X)(Zr||(Zr=oe(["\n    display: block;\n    background-color: #e50914;\n    width: 84px;\n    height: fit-content;\n    color: white;\n    border: 0;\n    font-size: 15px;\n    border-radius: 3px;\n    padding: 8px 17px;\n    cursor: pointer;\n    text-decoration: none;\n    box-sizing: border-box;\n\n    &:hover {\n        background-color: #f40612;\n    }\n"]))),Ci=un(gi)(ei||(ei=oe(["\n    padding: 150px 0 500px 0;\n    flex-direction: column;\n    align-items: normal;\n    width: 50%;\n\n    @media(max-width: 1100px) {\n        display: none;\n    }\n"]))),Ai=un.p(ti||(ti=oe(["\n    color: white;\n    font-size: 22px;\n    line-height: normal;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.45);\n    margin: 0;\n"]))),Ni=un.p(ni||(ni=oe(["\n    color: white;\n    font-size: 50px;\n    line-height: normal;\n    font-weight: bold;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.45);\n    margin: 0;\n    margin-bottom: 20px;\n"]))),Ri=["bg","children"],Pi=["children"],Oi=["children"],Di=["children"],Li=["src"],Mi=["searchTerm","setSearchTerm"],ji=["children"],Fi=["children"],Ui=["children"],Vi=["children"],zi=["children"],Bi=["children"],qi=["to"],Wi=["children"];function Hi(e){var t=e.bg,n=void 0===t||t,r=e.children,i=ae(e,Ri);return n?(0,mn.jsx)(vi,ie(ie({},i),{},{children:r})):r}Hi.Feature=function(e){var t=e.children,n=ae(e,Pi);return(0,mn.jsx)(Ci,ie(ie({},n),{},{children:t}))},Hi.Frame=function(e){var t=e.children,n=ae(e,Oi);return(0,mn.jsx)(gi,ie(ie({},n),{},{children:t}))},Hi.Group=function(e){var t=e.children,n=ae(e,Di);return(0,mn.jsx)(mi,ie(ie({},n),{},{children:t}))},Hi.Picture=function(e){var t=e.src,n=ae(e,Li);return(0,mn.jsx)(yi,ie(ie({},n),{},{src:"./images/users/".concat(t,".png")}))},Hi.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,r=ae(e,Mi),a=l((0,i.useState)(!1),2),o=a[0],s=a[1];return(0,mn.jsxs)(bi,ie(ie({},r),{},{children:[(0,mn.jsx)(xi,{onClick:function(){return s((function(e){return!e}))},children:(0,mn.jsx)("img",{src:"./images/icons/search.png",alt:"Search"})}),(0,mn.jsx)(_i,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},Hi.PlayButton=function(e){var t=e.children,n=ae(e,ji);return(0,mn.jsx)(Si,ie(ie({},n),{},{children:t}))},Hi.Profile=function(e){var t=e.children,n=ae(e,Fi);return(0,mn.jsx)(Ii,ie(ie({},n),{},{children:t}))},Hi.FeatureCallOut=function(e){var t=e.children,n=ae(e,Ui);return(0,mn.jsx)(Ni,ie(ie({},n),{},{children:t}))},Hi.Text=function(e){var t=e.children,n=ae(e,Vi);return(0,mn.jsx)(Ai,ie(ie({},n),{},{children:t}))},Hi.Dropdown=function(e){var t=e.children,n=ae(e,zi);return(0,mn.jsx)(wi,ie(ie({},n),{},{children:t}))},Hi.TextLink=function(e){var t=e.children,n=ae(e,Bi);return(0,mn.jsx)(ki,ie(ie({},n),{},{children:t}))},Hi.Logo=function(e){var t=e.to,n=ae(e,qi);return(0,mn.jsx)(X,{to:t,children:(0,mn.jsx)(Ei,ie({},n))})},Hi.ButtonLink=function(e){var t=e.children,n=ae(e,Wi);return(0,mn.jsx)(Ti,ie(ie({},n),{},{children:t}))};var Ki,Gi,Qi,$i,Yi,Ji,Xi,Zi,ea,ta=un.div(hi||(hi=oe(["\n    display: flex;\n    flex-direction: column;\n    border-bottom: 8px solid #222;\n    text-align: center;\n    padding: 165px 45px;\n"]))),na=un.h1(di||(di=oe(["\n    color: white;\n    max-width: 640px;\n    font-size: 50px;\n    font-weight: 500;\n    margin: auto;\n\n    @media(max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),ra=un.h2(pi||(pi=oe(["\n    color: white;\n    font-size: 26px;\n    font-weight: normal;\n    margin: 16px auto;\n\n    @media(max-width: 600px) {\n        font-size: 18px;\n    }\n"]))),ia=["children"],aa=["children"],oa=["children"];function sa(e){var t=e.children,n=ae(e,ia);return(0,mn.jsx)(ta,ie(ie({},n),{},{children:t}))}sa.Title=function(e){var t=e.children,n=ae(e,aa);return(0,mn.jsx)(na,ie(ie({},n),{},{children:t}))},sa.SubTitle=function(e){var t=e.children,n=ae(e,oa);return(0,mn.jsx)(ra,ie(ie({},n),{},{children:t}))};var ua,ca,la,fa,ha,da,pa=un.div(Ki||(Ki=oe(["\n    display: flex;\n    flex-direction: column;\n    min-height: 660px;\n    background-color: rgba(0, 0, 0, 0.75);\n    border-radius: 5px;\n    box-sizing: border-box;\n    width: 100%;\n    margin: auto;\n    max-width: 450px;\n    padding: 60px 68px 40px;\n    margin-bottom: 100px;\n"]))),va=un.div(Gi||(Gi=oe(["\n    background: #e87c03;\n    border-radius: 4px;\n    font-size: 14px;\n    margin: 0 0 16px;\n    color: white;\n    padding: 15px 20px;\n"]))),ma=un.form(Qi||(Qi=oe(["\n    display: flex;\n    flex-direction: column;\n    max-width: 450px;\n    width: 100%;\n"]))),ya=un.h1($i||($i=oe(["\n    color: #fff;\n    font-size: 32px;\n    font-weight: bold;\n    margin-bottom: 28px;\n"]))),ga=un.p(Yi||(Yi=oe(["\n    color: #737373;\n    font-size: 16px;\n    font-weight: 500;\n"]))),ka=un.p(Ji||(Ji=oe(["\n    margin-top: 10px;\n    font-size: 13px;\n    line-height: normal;\n    color: #8c8c8c;\n"]))),wa=un(X)(Xi||(Xi=oe(["\n    color: white;\n    text-decoration: none;\n\n    &:hover {\n        text-decoration:underline;\n    }\n"]))),ba=un.input(Zi||(Zi=oe(["\n    background: #333;\n    border-radius: 4px;\n    border: 0;\n    color: white;\n    height: 50px;\n    line-height: 50px;\n    padding: 5px 20px;\n    margin-bottom: 20px;\n\n    &:last-of-type {\n        margin-bottom: 30px;\n    }\n"]))),xa=un.button(ea||(ea=oe(["\n    background: #e50914;\n    border-radius: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    margin: 24px 0 12px;\n    padding: 16px;\n    border: 0;\n    color: white;\n    cursor: pointer;\n\n    &:disabled {\n        opacity: 0.5;\n    }\n"]))),_a=["children"],Sa=["children"],Ia=["children"],Ea=["children"],Ta=["children"],Ca=["children"],Aa=["children"],Na=["children"],Ra=["children"];function Pa(e){var t=e.children,n=ae(e,_a);return(0,mn.jsx)(pa,ie(ie({},n),{},{children:t}))}Pa.Base=function(e){var t=e.children,n=ae(e,Sa);return(0,mn.jsx)(ma,ie(ie({},n),{},{children:t}))},Pa.Error=function(e){var t=e.children,n=ae(e,Ia);return(0,mn.jsx)(va,ie(ie({},n),{},{children:t}))},Pa.Title=function(e){var t=e.children,n=ae(e,Ea);return(0,mn.jsx)(ya,ie(ie({},n),{},{children:t}))},Pa.Text=function(e){var t=e.children,n=ae(e,Ta);return(0,mn.jsx)(ga,ie(ie({},n),{},{children:t}))},Pa.TextSmall=function(e){var t=e.children,n=ae(e,Ca);return(0,mn.jsx)(ka,ie(ie({},n),{},{children:t}))},Pa.Link=function(e){var t=e.children,n=ae(e,Aa);return(0,mn.jsx)(wa,ie(ie({},n),{},{children:t}))},Pa.Input=function(e){var t=e.children,n=ae(e,Na);return(0,mn.jsx)(ba,ie(ie({},n),{},{children:t}))},Pa.Submit=function(e){var t=e.children,n=ae(e,Ra);return(0,mn.jsx)(xa,ie(ie({},n),{},{children:t}))};var Oa,Da,La,Ma,ja=un.div(ua||(ua=oe(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    max-width: 80%;\n"]))),Fa=un.h1(ca||(ca=oe(["\n    width: 100%;\n    color: white;\n    font-size: 48px;\n    text-align: center;\n    font-weight: 500;\n"]))),Ua=un.ul(la||(la=oe(["\n    padding: 0;\n    margin: 0;\n    display: flex;\n    flex-direction: row;\n"]))),Va=un.p(fa||(fa=oe(["\n    color: #808080;\n    text-overflow: ellipsis;\n    font-size: 16px;\n\n    &:hover {\n        font-weight: bold;\n        color: #e5e5e5;\n    }\n"]))),za=un.img(ha||(ha=oe(["\n    width: 100%;\n    max-width: 150px;\n    height: auto;\n    border: 3px solid black;\n    cursor: pointer;\n"]))),Ba=un.li(da||(da=oe(["\n    max-height: 200px;\n    max-width: 200px;\n    list-style-type: none;\n    text-align: center;\n    margin-right: 30px;\n\n    &:hover > "," {\n        border: 3px solid white;\n    }\n\n    &:hover "," {\n        font-weight: bold;\n        color: white;\n    }\n\n    &:last-of-type {\n        margin-right: 0;\n    }\n"])),za,Va),qa=["children"],Wa=["children"],Ha=["children"],Ka=["children"],Ga=["src"],Qa=["children"];function $a(e){var t=e.children,n=ae(e,qa);return(0,mn.jsx)(ja,ie(ie({},n),{},{children:t}))}$a.Title=function(e){var t=e.children,n=ae(e,Wa);return(0,mn.jsx)(Fa,ie(ie({},n),{},{children:t}))},$a.List=function(e){var t=e.children,n=ae(e,Ha);return(0,mn.jsx)(Ua,ie(ie({},n),{},{children:t}))},$a.User=function(e){var t=e.children,n=ae(e,Ka);return(0,mn.jsx)(Ba,ie(ie({},n),{},{children:t}))},$a.Picture=function(e){var t=e.src,n=ae(e,Ga);return(0,mn.jsx)(za,ie(ie({},n),{},{src:t?"./images/users/".concat(t,".png"):"./images/misc/loading.gif"}))},$a.Name=function(e){var t=e.children,n=ae(e,Qa);return(0,mn.jsx)(Va,ie(ie({},n),{},{children:t}))};var Ya,Ja,Xa,Za,eo=Ft(Oa||(Oa=oe(["\n    body {\n        overflow:hidden;\n    }\n"]))),to=Ft(Da||(Da=oe(["\n    body {\n        overflow:visible;\n    }\n"]))),no=un.div(La||(La=oe(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: black;\n    z-index: 999;\n\n    :after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        background-image: url(./images/misc/spinner.png);\n        background-size: contain;\n        background-repeat: no-repeat;\n        margin-top: -150px;\n        margin-left: -75px;\n        width: 150px;\n        height: 150px;\n        animation-name: spin;\n        animation-duration: 1000ms;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @-ms-keyframes spin {\n        from {\n            -ms-transform: rotate(0deg);\n        }\n        to {\n            -ms-transform: rotate(360deg);\n        }\n    }\n\n    @-moz-keyframes spin {\n        from {\n            -moz-transform: rotate(0deg);\n        }\n        to {\n            -moz-transform: rotate(360deg);\n        }\n    }\n\n    @-webkit-keyframes spin {\n        from {\n            -webkit-transform: rotate(0deg);\n        }\n        to {\n            -webkit-transform: rotate(360deg);\n        }\n    }\n\n    @keyframes spin {\n        from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]))),ro=un.img(Ma||(Ma=oe(["\n    width: 50px;\n    height: 50px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -100px;\n    margin-left: -22px;\n"]))),io=["src"];function ao(e){var t=e.src,n=ae(e,io);return(0,mn.jsxs)(no,ie(ie({},n),{},{children:[(0,mn.jsx)(eo,{}),(0,mn.jsx)(ro,{src:"./images/users/".concat(t,".png")})]}))}ao.ReleaseBody=function(){return(0,mn.jsx)(to,{})};var oo=un.div(Ya||(Ya=oe([""]))),so=un.div(Ja||(Ja=oe(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    margin: 0 20px;\n"]))),uo=un.div(Xa||(Xa=oe(["\n    position: relative;\n    width: 100%;\n    max-width: 900px;\n    margin: auto;\n\n    video {\n        height: 100%;\n        width: 100%;\n    }\n"]))),co=un.button(Za||(Za=oe(["\n    background-color: #e50914;\n    border-color: #ff0a10;\n    width: 110px;\n    height: 45px;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: white;\n    font-size: 18px;\n    height: 45px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding-left: 0;\n\n    &:hover {\n        transform: scale(1.05);\n        background-color: #ff0a16;\n    }\n"]))),lo=["children"],fo=["src"],ho=(0,i.createContext)();function po(e){var t=e.children,n=ae(e,lo),r=l((0,i.useState)(!1),2),a=r[0],o=r[1];return(0,mn.jsx)(ho.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,mn.jsx)(oo,ie(ie({},n),{},{children:t}))})}po.Video=function(e){var t=e.src,n=ae(e,fo),r=(0,i.useContext)(ho),o=r.showPlayer,s=r.setShowPlayer;return o?a.createPortal((0,mn.jsx)(so,ie(ie({onClick:function(){return s(!1)}},n),{},{"data-testid":"player",children:(0,mn.jsx)(uo,{children:(0,mn.jsx)("video",{id:"netflix-player",controls:!0,children:(0,mn.jsx)("source",{src:t,type:"./video/mp4"})})})})),document.body):null},po.Button=function(e){Object.assign({},e);var t=(0,i.useContext)(ho),n=(t.showPlayer,t.setShowPlayer);return(0,mn.jsx)(co,{onClick:function(){return n((function(e){return!e}))},children:"Play"})};var vo=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function mo(){return(0,mn.jsxs)(Vr,{children:[(0,mn.jsx)(Vr.Title,{children:"Frequently Asked Questions"}),vo.map((function(e){return(0,mn.jsxs)(Vr.Item,{children:[(0,mn.jsx)(Vr.Header,{children:e.header}),(0,mn.jsx)(Vr.Body,{children:e.body})]},e.id)})),(0,mn.jsxs)(fi,{children:[(0,mn.jsx)(fi.Input,{placeholder:"Email address"}),(0,mn.jsx)(fi.Button,{children:"Try it now"}),(0,mn.jsx)(fi.Break,{}),(0,mn.jsx)(fi.Text,{children:"Ready to watch? Enter your email or restart your membership"})]})]})}function yo(){return(0,mn.jsxs)(xr,{children:[(0,mn.jsx)(xr.Title,{children:" Questions? Contact us! "}),(0,mn.jsx)(xr.Break,{}),(0,mn.jsxs)(xr.Row,{children:[(0,mn.jsxs)(xr.Column,{children:[(0,mn.jsx)(xr.Link,{href:"#",children:"FAQ"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Investor Relations"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Ways to Watch"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Corporate Information"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Netflix Originals"})]}),(0,mn.jsxs)(xr.Column,{children:[(0,mn.jsx)(xr.Link,{href:"#",children:"Help Centre"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Jobs"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Terms of Use"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Contact Us"})]}),(0,mn.jsxs)(xr.Column,{children:[(0,mn.jsx)(xr.Link,{href:"#",children:"Account "}),(0,mn.jsx)(xr.Link,{href:"#",children:"Redeem Gift Cards"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Privacy"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Speed Test"})]}),(0,mn.jsxs)(xr.Column,{children:[(0,mn.jsx)(xr.Link,{href:"#",children:"Media Centre"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Buy Gift Cards"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Cookie Preferences"}),(0,mn.jsx)(xr.Link,{href:"#",children:"Legal Notices"})]})]}),(0,mn.jsx)(xr.Break,{}),(0,mn.jsx)(xr.Text,{children:" Netflix United Kingdom "})]})}var go=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg";function ko(e){var t=e.children;return(0,mn.jsxs)(Hi,{children:[(0,mn.jsxs)(Hi.Frame,{children:[(0,mn.jsx)(Hi.Logo,{to:Z,alt:"Netflix",src:go}),(0,mn.jsx)(Hi.ButtonLink,{to:te,children:"Sign In"})]}),t]})}var wo=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"./images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"./images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"./images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function bo(){return(0,mn.jsx)(xn.Container,{children:wo.map((function(e){return(0,mn.jsxs)(xn,{direction:e.direction,children:[(0,mn.jsxs)(xn.Pane,{children:[(0,mn.jsx)(xn.Title,{children:e.title}),(0,mn.jsx)(xn.SubTitle,{children:e.subTitle})]}),(0,mn.jsx)(xn.Pane,{children:(0,mn.jsx)(xn.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}function xo(){return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(ko,{children:(0,mn.jsxs)(sa,{children:[(0,mn.jsx)(sa.Title,{children:"Unlimited films, TV programmes and more."}),(0,mn.jsx)(sa.SubTitle,{children:"Watch anywhere. Cancel at any time."}),(0,mn.jsxs)(fi,{children:[(0,mn.jsx)(fi.Input,{placeholder:"Email address"}),(0,mn.jsx)(fi.Button,{children:"Try it now"}),(0,mn.jsx)(fi.Break,{}),(0,mn.jsx)(fi.Text,{children:"Ready to watch? Enter your email or restart your membership"})]})]})}),(0,mn.jsx)(bo,{}),",",(0,mn.jsx)(mo,{}),(0,mn.jsx)(yo,{})]})}function _o(e,t){return _o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_o(e,t)}function So(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Io(e)}function Eo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e,t){if(t&&("object"===To(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Co(e)}function No(e){var t=Eo();return function(){var n,r=Io(e);if(t){var i=Io(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ro(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Po(e){return function(e){if(Array.isArray(e))return s(e)}(e)||Ro(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t&&Do(e.prototype,t),n&&Do(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mo(e){return Array.isArray?Array.isArray(e):"[object Array]"===qo(e)}function jo(e){return"string"===typeof e}function Fo(e){return"number"===typeof e}function Uo(e){return!0===e||!1===e||function(e){return Vo(e)&&null!==e}(e)&&"[object Boolean]"==qo(e)}function Vo(e){return"object"===typeof e}function zo(e){return void 0!==e&&null!==e}function Bo(e){return!e.trim().length}function qo(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Wo=function(e){return"Invalid value for key ".concat(e)},Ho=function(e){return"Pattern length exceeds max of ".concat(e,".")},Ko=Object.prototype.hasOwnProperty,Go=function(){function e(t){var n=this;Oo(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=Qo(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return Lo(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Qo(e){var t=null,n=null,r=null,i=1;if(jo(e)||Mo(e))r=e,t=$o(e),n=Yo(e);else{if(!Ko.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var a=e.name;if(r=a,Ko.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=$o(a),n=Yo(a)}return{path:t,id:n,weight:i,src:r}}function $o(e){return Mo(e)?e:e.split(".")}function Yo(e){return Mo(e)?e.join("."):e}var Jo={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(zo(t))if(i[a]){var o=t[i[a]];if(!zo(o))return;if(a===i.length-1&&(jo(o)||Fo(o)||Uo(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(Mo(o)){r=!0;for(var s=0,u=o.length;s<u;s+=1)e(o[s],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,jo(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Xo=ie(ie(ie(ie({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Jo),Zo=/[^ ]+/g;function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(Zo).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var ts=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Xo.getFn:n,i=t.fieldNormWeight,a=void 0===i?Xo.fieldNormWeight:i;Oo(this,e),this.norm=es(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return Lo(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,jo(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();jo(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(zo(e)&&!Bo(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=n.getFn(e,t.path);if(zo(a))if(Mo(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),s=o.nestedArrIndex,u=o.value;if(zo(u))if(jo(u)&&!Bo(u)){var c={v:u,i:s,n:n.norm.get(u)};e.push(c)}else Mo(u)&&u.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if(!Bo(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function ns(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?Xo.getFn:r,a=n.fieldNormWeight,o=void 0===a?Xo.fieldNormWeight:a,s=new ts({getFn:i,fieldNormWeight:o});return s.setKeys(e.map(Qo)),s.setSources(t),s.create(),s}function rs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,s=void 0===o?0:o,u=t.distance,c=void 0===u?Xo.distance:u,l=t.ignoreLocation,f=void 0===l?Xo.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(s-a);return c?h+d/c:d?1:h}function is(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var s=e[a];s&&-1===r?r=a:s||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var as=32;function os(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var ss=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?Xo.location:i,o=r.threshold,s=void 0===o?Xo.threshold:o,u=r.distance,c=void 0===u?Xo.distance:u,l=r.includeMatches,f=void 0===l?Xo.includeMatches:l,h=r.findAllMatches,d=void 0===h?Xo.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?Xo.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?Xo.isCaseSensitive:m,g=r.ignoreLocation,k=void 0===g?Xo.ignoreLocation:g;if(Oo(this,e),this.options={location:a,threshold:s,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:k},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:os(e),startIndex:t})},b=this.pattern.length;if(b>as){for(var x=0,_=b%as,S=b-_;x<S;)w(this.pattern.substr(x,as),x),x+=as;if(_){var I=b-as;w(this.pattern.substr(I),I)}}else w(this.pattern,0)}}return Lo(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,s=a.distance,u=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?Xo.location:i,o=r.distance,s=void 0===o?Xo.distance:o,u=r.threshold,c=void 0===u?Xo.threshold:u,l=r.findAllMatches,f=void 0===l?Xo.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?Xo.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?Xo.includeMatches:p,m=r.ignoreLocation,y=void 0===m?Xo.ignoreLocation:m;if(t.length>as)throw new Error(Ho(as));for(var g,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,S=d>1||v,I=S?Array(w):[];(g=e.indexOf(t,_))>-1;){var E=rs(t,{currentLocation:g,expectedLocation:b,distance:s,ignoreLocation:y});if(x=Math.min(E,x),_=g+k,S)for(var T=0;T<k;)I[g+T]=1,T+=1}_=-1;for(var C=[],A=1,N=k+w,R=1<<k-1,P=0;P<k;P+=1){for(var O=0,D=N;O<D;){rs(t,{errors:P,currentLocation:b+D,expectedLocation:b,distance:s,ignoreLocation:y})<=x?O=D:N=D,D=Math.floor((N-O)/2+O)}N=D;var L=Math.max(1,b-D+1),M=f?w:Math.min(b+D,w)+k,j=Array(M+2);j[M+1]=(1<<P)-1;for(var F=M;F>=L;F-=1){var U=F-1,V=n[e.charAt(U)];if(S&&(I[U]=+!!V),j[F]=(j[F+1]<<1|1)&V,P&&(j[F]|=(C[F+1]|C[F])<<1|1|C[F+1]),j[F]&R&&(A=rs(t,{errors:P,currentLocation:U,expectedLocation:b,distance:s,ignoreLocation:y}))<=x){if(x=A,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(rs(t,{errors:P+1,currentLocation:b,expectedLocation:b,distance:s,ignoreLocation:y})>x)break;C=j}var z={isMatch:_>=0,score:Math.max(.001,A)};if(S){var B=is(I,d);B.length?v&&(z.indices=B):z.isMatch=!1}return z}(e,n,i,{location:o+a,distance:s,threshold:u,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),d+=y,m&&g&&(h=[].concat(Po(h),Po(g)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),us=function(){function e(t){Oo(this,e),this.pattern=t}return Lo(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return cs(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return cs(e,this.singleRegex)}}]),e}();function cs(e,t){var n=e.match(t);return n?n[1]:null}var ls=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(us),fs=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(us),hs=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(us),ds=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(us),ps=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(us),vs=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(us),ms=function(e){So(n,e);var t=No(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?Xo.location:a,s=i.threshold,u=void 0===s?Xo.threshold:s,c=i.distance,l=void 0===c?Xo.distance:c,f=i.includeMatches,h=void 0===f?Xo.includeMatches:f,d=i.findAllMatches,p=void 0===d?Xo.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?Xo.minMatchCharLength:v,y=i.isCaseSensitive,g=void 0===y?Xo.isCaseSensitive:y,k=i.ignoreLocation,w=void 0===k?Xo.ignoreLocation:k;return Oo(this,n),(r=t.call(this,e))._bitapSearch=new ss(e,{location:o,threshold:u,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return Lo(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(us),ys=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),t.call(this,e)}return Lo(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(us),gs=[ls,ys,hs,ds,vs,ps,fs,ms],ks=gs.length,ws=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function bs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(ws).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],s=!1,u=-1;!s&&++u<ks;){var c=gs[u],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),s=!0)}if(!s)for(u=-1;++u<ks;){var f=gs[u],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var xs=new Set([ms.type,ys.type]),_s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?Xo.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?Xo.includeMatches:a,s=n.minMatchCharLength,u=void 0===s?Xo.minMatchCharLength:s,c=n.ignoreLocation,l=void 0===c?Xo.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?Xo.findAllMatches:f,d=n.location,p=void 0===d?Xo.location:d,v=n.threshold,m=void 0===v?Xo.threshold:v,y=n.distance,g=void 0===y?Xo.distance:y;Oo(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:u,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:g},this.pattern=i?t:t.toLowerCase(),this.query=bs(this.pattern,this.options)}return Lo(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,s=0,u=t.length;s<u;s+=1){var c=t[s];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var y=h.constructor.type;xs.has(y)?a=[].concat(Po(a),Po(v)):a.push(v)}}if(i){var g={isMatch:!0,score:o/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Ss=[];function Is(e,t){for(var n=0,r=Ss.length;n<r;n+=1){var i=Ss[n];if(i.condition(e,t))return new i(e,t)}return new ss(e,t)}var Es="$and",Ts="$or",Cs="$path",As="$val",Ns=function(e){return!(!e[Es]&&!e[Ts])},Rs=function(e){return!!e[Cs]},Ps=function(e){return!Mo(e)&&Vo(e)&&!Ns(e)},Os=function(e){return ne({},Es,Object.keys(e).map((function(t){return ne({},t,e[t])})))};function Ds(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=Rs(n);if(!a&&r.length>1&&!Ns(n))return e(Os(n));if(Ps(n)){var o=a?n[Cs]:r[0],s=a?n[As]:n[o];if(!jo(s))throw new Error(Wo(o));var u={keyId:Yo(o),pattern:s};return i&&(u.searcher=Is(s,t)),u}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];Mo(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return Ns(e)||(e=Os(e)),a(e)}function Ls(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Xo.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function Ms(e,t){var n=e.matches;t.matches=[],zo(n)&&n.forEach((function(e){if(zo(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function js(e,t){t.score=e.score}function Fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?Xo.includeMatches:r,a=n.includeScore,o=void 0===a?Xo.includeScore:a,s=[];return i&&s.push(Ms),o&&s.push(js),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,r)})),r}))}var Us=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Oo(this,e),this.options=ie(ie({},Xo),n),this.options.useExtendedSearch,this._keyStore=new Go(this.options.keys),this.setCollection(t,r)}return Lo(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof ts))throw new Error("Incorrect 'index' type");this._myIndex=t||ns(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){zo(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,s=i.shouldSort,u=i.sortFn,c=i.ignoreFieldNorm,l=jo(e)?jo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ls(l,{ignoreFieldNorm:c}),s&&l.sort(u),Fo(r)&&r>-1&&(l=l.slice(0,r)),Fs(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=Is(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(zo(n)){var o=t.searchIn(n),s=o.isMatch,u=o.score,c=o.indices;s&&r.push({item:n,idx:i,matches:[{score:u,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=Ds(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,s=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return s&&s.length?[{idx:i,item:r,matches:s}]:[]}for(var u=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)u.push.apply(u,Po(f));else if(n.operator===Es)return[]}return u},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(zo(t)){var s=r(n,t,i);s.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),s.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,Po(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=Is(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(zo(r)){var s=[];i.forEach((function(e,i){s.push.apply(s,Po(t._findMatches({key:e,value:r[i],searcher:n})))})),s.length&&o.push({idx:a,item:r,matches:s})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!zo(n))return[];var i=[];if(Mo(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(zo(n)){var s=r.searchIn(n),u=s.isMatch,c=s.score,l=s.indices;u&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,s=r.searchIn(a),u=s.isMatch,c=s.score,l=s.indices;u&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();function Vs(e){var t=e.user,n=e.setProfile;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Hi,{bg:!1,children:(0,mn.jsx)(Hi.Frame,{children:(0,mn.jsx)(Hi.Logo,{to:Z,src:go,alt:"Netflix"})})}),(0,mn.jsxs)($a,{children:[(0,mn.jsx)($a.Title,{children:"Who's watching?"}),(0,mn.jsx)($a.List,{children:(0,mn.jsxs)($a.User,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},children:[(0,mn.jsx)($a.Picture,{src:t.photoURL}),(0,mn.jsx)($a.Name,{children:t.displayName})]})})]})]})}Us.version="6.5.3",Us.createIndex=ns,Us.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Xo.getFn:n,i=t.fieldNormWeight,a=void 0===i?Xo.fieldNormWeight:i,o=e.keys,s=e.records,u=new ts({getFn:r,fieldNormWeight:a});return u.setKeys(o),u.setIndexRecords(s),u},Us.config=Xo,Us.parseQuery=Ds,function(){Ss.push.apply(Ss,arguments)}(_s);var zs=(0,i.createContext)(null);function Bs(e){var t=e.slides,n=l((0,i.useState)("series"),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)({}),2),f=c[0],h=c[1],d=l((0,i.useState)(!0),2),p=d[0],v=d[1],m=l((0,i.useState)([]),2),y=m[0],g=m[1],k=(0,i.useContext)(zs).firebase,w=k.auth().currentUser||{};return(0,i.useEffect)((function(){setTimeout((function(){v(!1)}),3e3)}),[f.displayName]),(0,i.useEffect)((function(){g(t[r])}),[t,r]),(0,i.useEffect)((function(){var e=new Us(y,{keys:["data.description","data.title","data.genre"]}).search(s).map((function(e){return e.item}));y.length>0&&s.length>3&&e.length>0?g(e):g(t[r])}),[s]),f.displayName?(0,mn.jsxs)(mn.Fragment,{children:[p?(0,mn.jsx)(ao,{src:w.photoURL}):(0,mn.jsx)(ao.ReleaseBody,{}),(0,mn.jsxs)(Hi,{src:"joker1",dontShowOnSmallViewPort:!0,children:[(0,mn.jsxs)(Hi.Frame,{children:[(0,mn.jsxs)(Hi.Group,{children:[(0,mn.jsx)(Hi.Logo,{to:Z,src:go,alt:"Netflix"}),(0,mn.jsx)(Hi.TextLink,{active:"series"===r?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,mn.jsx)(Hi.TextLink,{active:"films"===r?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,mn.jsxs)(Hi.Group,{children:[(0,mn.jsx)(Hi.Search,{searchTerm:s,setSearchTerm:u}),(0,mn.jsxs)(Hi.Profile,{children:[(0,mn.jsx)(Hi.Picture,{src:w.photoURL}),(0,mn.jsxs)(Hi.Dropdown,{children:[(0,mn.jsxs)(Hi.Group,{children:[(0,mn.jsx)(Hi.Picture,{src:w.photoURL}),(0,mn.jsx)(Hi.TextLink,{children:w.displayName})]}),(0,mn.jsx)(Hi.Group,{children:(0,mn.jsx)(Hi.TextLink,{onClick:function(){return k.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,mn.jsxs)(Hi.Feature,{children:[(0,mn.jsx)(Hi.FeatureCallOut,{children:"Watch Joker Now"}),(0,mn.jsx)(Hi.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks conection as he walks the streets of Gotham City. Arthur wears two maks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,mn.jsx)(Hi.PlayButton,{children:"Play"})]})]}),(0,mn.jsx)(tr.Group,{children:y.map((function(e){return(0,mn.jsxs)(tr,{children:[(0,mn.jsx)(tr.Title,{children:e.title}),(0,mn.jsx)(tr.Entities,{children:e.data.map((function(e){return(0,mn.jsxs)(tr.Item,{item:e,children:[(0,mn.jsx)(tr.Image,{src:"./images/".concat(r,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,mn.jsxs)(tr.Meta,{children:[(0,mn.jsx)(tr.SubTitle,{children:e.title}),(0,mn.jsx)(tr.Text,{children:e.description})]})]},e.docId)}))}),(0,mn.jsx)(tr.Feature,{category:r,children:(0,mn.jsxs)(po,{children:[(0,mn.jsx)(po.Button,{}),(0,mn.jsx)(po.Video,{src:"./videos/bunny.mp4"})]})})]},"".concat(r,"-").concat(e.title.toLowerCase()))}))}),(0,mn.jsx)(yo,{})]}):(0,mn.jsx)(Vs,{user:w,setProfile:h})}function qs(e){var t=l((0,i.useState)([]),2),n=t[0],r=t[1],a=(0,i.useContext)(zs).firebase;return(0,i.useEffect)((function(){a.firestore().collection(e).get().then((function(e){var t=e.docs.map((function(e){return ie(ie({},e.data()),{},{docId:e.id})}));r(t)})).catch((function(e){console.log(e.message)}))}),[]),ne({},e,n)}function Ws(){var e=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:n.filter((function(e){return"romance"===e.genre}))}]}}({series:qs("series").series,films:qs("films").films});return(0,mn.jsx)(Bs,{slides:e})}function Hs(){var e=R(),t=(0,i.useContext)(zs).firebase,n=l((0,i.useState)(""),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)(""),2),f=c[0],h=c[1],d=""===s||""===r;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(ko,{children:(0,mn.jsxs)(Pa,{children:[(0,mn.jsx)(Pa.Title,{children:"Sign In"}),f&&(0,mn.jsx)(Pa.Error,{children:f}),(0,mn.jsxs)(Pa.Base,{onSubmit:function(n){n.preventDefault(),t.auth().signInWithEmailAndPassword(r,s).then((function(){e(ee)})).catch((function(e){a(""),u(""),h(e.message)}))},method:"POST",children:[(0,mn.jsx)(Pa.Input,{placeholder:"Email address",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,mn.jsx)(Pa.Input,{placeholder:"Password",autoComplete:"off",type:"password",value:s,onChange:function(e){var t=e.target;return u(t.value)}}),(0,mn.jsx)(Pa.Submit,{disabled:d,type:"submit",children:"Sign In"})]}),(0,mn.jsxs)(Pa.Text,{children:["New to Netflix? ",(0,mn.jsx)(Pa.Link,{to:"/signup",children:"Sign up now. "})]}),(0,mn.jsx)(Pa.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,mn.jsx)(yo,{})]})}function Ks(){var e=R(),t=(0,i.useContext)(zs).firebase,n=l((0,i.useState)(""),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)(""),2),f=c[0],h=c[1],d=l((0,i.useState)(""),2),p=d[0],v=d[1],m=""===r||""===f||""===s;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(ko,{children:(0,mn.jsxs)(Pa,{children:[(0,mn.jsx)(Pa.Title,{children:"Sign Up"}),p&&(0,mn.jsx)(Pa.Error,{children:p}),(0,mn.jsxs)(Pa.Base,{onSubmit:function(n){n.preventDefault(),t.auth().createUserWithEmailAndPassword(s,f).then((function(t){return t.user.updateProfile({displayName:r,photoURL:Math.floor(5*Math.random())+1}).then((function(){e(ee)}))})).catch((function(e){a(""),u(""),h(""),v(e.message)}))},method:"POST",children:[(0,mn.jsx)(Pa.Input,{placeholder:"First name",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,mn.jsx)(Pa.Input,{placeholder:"Email address",value:s,onChange:function(e){var t=e.target;return u(t.value)}}),(0,mn.jsx)(Pa.Input,{type:"Password",placeholder:"Password",autoComplete:"off",value:f,onChange:function(e){var t=e.target;return h(t.value)}}),(0,mn.jsx)(Pa.Submit,{disabled:m,type:"submit",children:"Sign Up"}),(0,mn.jsxs)(Pa.Text,{children:["Already a user? ",(0,mn.jsx)(Pa.Link,{to:"/signin",children:"Sign in now."})]}),(0,mn.jsx)(Pa.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more"})]})]})}),(0,mn.jsx)(yo,{})]})}var Gs;function Qs(){var e=function(){var e=l((0,i.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],r=(0,i.useContext)(zs).firebase;return(0,i.useEffect)((function(){var e=r.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}}(),t=e.user;return(0,mn.jsx)(J,{basename:"/netflix-clone",children:(0,mn.jsxs)(T,{children:[(0,mn.jsx)(I,{user:t,loggedInPath:ee,path:te,element:(0,mn.jsx)(Hs,{})}),(0,mn.jsx)(I,{user:t,loggedInPath:ee,path:"/signup",element:(0,mn.jsx)(Ks,{})}),(0,mn.jsx)(I,{user:t,path:ee,element:(0,mn.jsx)(Ws,{})}),(0,mn.jsx)(I,{user:t,loggedInPath:ee,path:Z,element:(0,mn.jsx)(xo,{})})]})})}var $s=Ft(Gs||(Gs=oe(["\n    html, body {\n        font-family: 'Helvatica Neue', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: black; \n        color: #333333;\n        font-size: 16px; \n    }\n"])));function Ys(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Js(e,t,n){return Js=Eo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_o(i,n.prototype),i},Js.apply(null,arguments)}function Xs(e){var t="function"===typeof Map?new Map:void 0;return Xs=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Js(e,arguments,Io(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_o(n,e)},Xs(e)}var Zs=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},eu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zs(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tu=function(e){return function(e){var t=Zs(e);return eu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nu=function(e){try{return eu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ru(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ru(e[n],t[n]));return e}var iu=function(){function e(){var t=this;Oo(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lo(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function au(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tu(JSON.stringify({alg:"none",type:"JWT"})),tu(JSON.stringify(a)),""].join(".")}function ou(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function su(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ou())}function uu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function cu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fu(){var e=ou();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hu(){return"object"===typeof indexedDB}var du=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Co(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Co(a),pu.prototype.create),a}return Lo(n)}(Xs(Error)),pu=function(){function e(t,n,r){Oo(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lo(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new du(n,a,t);return o}}]),e}();function vu(e,t){return e.replace(mu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mu=/\{\$([^}]+)}/g;function yu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ku(s)&&ku(u)){if(!gu(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ku(e){return null!==e&&"object"===typeof e}function wu(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function bu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function xu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _u(e,t){var n=new Su(e,t);return n.subscribe.bind(n)}var Su=function(){function e(t,n){var r=this;Oo(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lo(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ys(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Iu),void 0===r.error&&(r.error=Iu),void 0===r.complete&&(r.complete=Iu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Iu(){}function Eu(e){return e&&e._delegate?e._delegate:e}function Tu(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Cu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tu(a,r,i,o,s,"next",e)}function s(e){Tu(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Au=n(757),Nu=n.n(Au),Ru=function(){function e(t,n,r){Oo(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lo(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pu="[DEFAULT]",Ou=function(){function e(t,n){Oo(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lo(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new iu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pu})}catch(u){}var t,n=Ys(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Cu(Au.mark((function e(){var t;return Au.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Po(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Po(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ys(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ys(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Jx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Jx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.component?this.component.multipleInstances?e:Pu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Du,Lu,Mu=function(){function e(t){Oo(this,e),this.name=t,this.providers=new Map}return Lo(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ou(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ju=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lu||(Lu={}));var Fu,Uu,Vu={debug:Lu.DEBUG,verbose:Lu.VERBOSE,info:Lu.INFO,warn:Lu.WARN,error:Lu.ERROR,silent:Lu.SILENT},zu=Lu.INFO,Bu=(ne(Du={},Lu.DEBUG,"log"),ne(Du,Lu.VERBOSE,"log"),ne(Du,Lu.INFO,"info"),ne(Du,Lu.WARN,"warn"),ne(Du,Lu.ERROR,"error"),Du),qu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wu=function(){function e(t){Oo(this,e),this.name=t,this._logLevel=zu,this._logHandler=qu,this._userLogHandler=null,ju.push(this)}return Lo(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Vu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.INFO].concat(t)),this._logHandler.apply(this,[this,Lu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.WARN].concat(t)),this._logHandler.apply(this,[this,Lu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.ERROR].concat(t)),this._logHandler.apply(this,[this,Lu.ERROR].concat(t))}}]),e}();var Hu=function(){function e(t){Oo(this,e),this.container=t}return Lo(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ku="@firebase/app",Gu="0.7.16",Qu=new Wu("@firebase/app"),$u="[DEFAULT]",Yu=(ne(Fu={},Ku,"fire-core"),ne(Fu,"@firebase/app-compat","fire-core-compat"),ne(Fu,"@firebase/analytics","fire-analytics"),ne(Fu,"@firebase/analytics-compat","fire-analytics-compat"),ne(Fu,"@firebase/app-check","fire-app-check"),ne(Fu,"@firebase/app-check-compat","fire-app-check-compat"),ne(Fu,"@firebase/auth","fire-auth"),ne(Fu,"@firebase/auth-compat","fire-auth-compat"),ne(Fu,"@firebase/database","fire-rtdb"),ne(Fu,"@firebase/database-compat","fire-rtdb-compat"),ne(Fu,"@firebase/functions","fire-fn"),ne(Fu,"@firebase/functions-compat","fire-fn-compat"),ne(Fu,"@firebase/installations","fire-iid"),ne(Fu,"@firebase/installations-compat","fire-iid-compat"),ne(Fu,"@firebase/messaging","fire-fcm"),ne(Fu,"@firebase/messaging-compat","fire-fcm-compat"),ne(Fu,"@firebase/performance","fire-perf"),ne(Fu,"@firebase/performance-compat","fire-perf-compat"),ne(Fu,"@firebase/remote-config","fire-rc"),ne(Fu,"@firebase/remote-config-compat","fire-rc-compat"),ne(Fu,"@firebase/storage","fire-gcs"),ne(Fu,"@firebase/storage-compat","fire-gcs-compat"),ne(Fu,"@firebase/firestore","fire-fst"),ne(Fu,"@firebase/firestore-compat","fire-fst-compat"),ne(Fu,"fire-js","fire-js"),ne(Fu,"firebase","fire-js-all"),Fu),Ju=new Map,Xu=new Map;function Zu(e,t){try{e.container.addComponent(t)}catch(n){Qu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ec(e,t){e.container.addOrOverwriteComponent(t)}function tc(e){var t=e.name;if(Xu.has(t))return Qu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xu.set(t,e);var n,r=Ys(Ju.values());try{for(r.s();!(n=r.n()).done;){Zu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function nc(e,t){return e.container.getProvider(t)}function rc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$u;nc(e,t).clearInstance(n)}function ic(){Xu.clear()}var ac,oc,sc=(ne(Uu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(Uu,"bad-app-name","Illegal App name: '{$appName}"),ne(Uu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ne(Uu,"app-deleted","Firebase App named '{$appName}' already deleted"),ne(Uu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ne(Uu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Uu),uc=new pu("app","Firebase",sc),cc=function(){function e(t,n,r){var i=this;Oo(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ru("app",(function(){return i}),"PUBLIC"))}return Lo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw uc.create("app-deleted",{appName:this._name})}}]),e}(),lc="9.6.6";function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:$u,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw uc.create("bad-app-name",{appName:String(i)});var a=Ju.get(i);if(a){if(gu(e,a.options)&&gu(r,a.config))return a;throw uc.create("duplicate-app",{appName:i})}var o,s=new Mu(i),u=Ys(Xu.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new cc(e,r,s);return Ju.set(i,l),l}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$u,t=Ju.get(e);if(!t)throw uc.create("no-app",{appName:e});return t}function dc(){return Array.from(Ju.values())}function pc(e){return vc.apply(this,arguments)}function vc(){return(vc=Cu(Au.mark((function e(t){var n;return Au.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ju.has(n)){e.next=6;break}return Ju.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t,n){var r,i=null!==(r=Yu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qu.warn(s.join(" "))}tc(new Ru("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function yc(e,t){if(null!==e&&"function"!==typeof e)throw uc.create("invalid-log-argument");!function(e,t){var n,r=Ys(ju);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Vu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Lu[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function gc(e){var t;t=e,ju.forEach((function(e){e.setLogLevel(t)}))}ac="",tc(new Ru("platform-logger",(function(e){return new Hu(e)}),"PRIVATE")),mc(Ku,Gu,ac),mc(Ku,Gu,"esm2017"),mc("fire-js","");var kc=function(){function e(t,n){var r=this;Oo(this,e),this._delegate=t,this.firebase=n,Zu(t,new Ru("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Lo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),pc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Zu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ec(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),wc=(ne(oc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(oc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),oc),bc=new pu("app-compat","Firebase",wc);var xc=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=fc(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yu(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:mc,setLogLevel:gc,onLog:yc,apps:null,SDK_VERSION:lc,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(tc(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw bc.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&ru(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!yu(t,e=e||$u))throw bc.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(kc);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){ru(t,e)},createSubscribe:_u,ErrorFactory:pu,deepExtend:ru}),t}(),_c=new Wu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){_c.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Sc=self.firebase.SDK_VERSION;Sc&&Sc.indexOf("LITE")>=0&&_c.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ic=xc;!function(e){mc("@firebase/app-compat","0.1.17",e)}();function Ec(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Io(e)););return e}function Tc(){return Tc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ec(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Tc.apply(this,arguments)}Ic.registerVersion("firebase","9.6.6","app-compat");var Cc,Ac="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Nc={},Rc=Rc||{},Pc=Ac||self;function Oc(){}function Dc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Mc="closure_uid_"+(1e9*Math.random()>>>0),jc=0;function Fc(e,t,n){return e.call.apply(e.bind,arguments)}function Uc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vc(e,t,n){return(Vc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fc:Uc).apply(null,arguments)}function zc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function qc(){this.s=this.s,this.o=this.o}var Wc={};qc.prototype.s=!1,qc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Mc)&&e[Mc]||(e[Mc]=++jc)}(this);delete Wc[e]}},qc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Gc(e){return Array.prototype.concat.apply([],arguments)}function Qc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $c(e){return/^[\s\xa0]*$/.test(e)}var Yc,Jc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Xc(e,t){return-1!=e.indexOf(t)}function Zc(e,t){return e<t?-1:e>t?1:0}e:{var el=Pc.navigator;if(el){var tl=el.userAgent;if(tl){Yc=tl;break e}}Yc=""}function nl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rl(e){var t={};for(var n in e)t[n]=e[n];return t}var il="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function al(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<il.length;a++)n=il[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ol(e){return ol[" "](e),e}ol[" "]=Oc;var sl,ul=Xc(Yc,"Opera"),cl=Xc(Yc,"Trident")||Xc(Yc,"MSIE"),ll=Xc(Yc,"Edge"),fl=ll||cl,hl=Xc(Yc,"Gecko")&&!(Xc(Yc.toLowerCase(),"webkit")&&!Xc(Yc,"Edge"))&&!(Xc(Yc,"Trident")||Xc(Yc,"MSIE"))&&!Xc(Yc,"Edge"),dl=Xc(Yc.toLowerCase(),"webkit")&&!Xc(Yc,"Edge");function pl(){var e=Pc.document;return e?e.documentMode:void 0}e:{var vl="",ml=function(){var e=Yc;return hl?/rv:([^\);]+)(\)|;)/.exec(e):ll?/Edge\/([\d\.]+)/.exec(e):cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dl?/WebKit\/(\S+)/.exec(e):ul?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ml&&(vl=ml?ml[1]:""),cl){var yl=pl();if(null!=yl&&yl>parseFloat(vl)){sl=String(yl);break e}}sl=vl}var gl,kl={};function wl(){return function(e){var t=kl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Jc(String(sl)).split("."),n=Jc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Zc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Zc(0==a[2].length,0==o[2].length)||Zc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pc.document&&cl){var bl=pl();gl=bl||(parseInt(sl,10)||void 0)}else gl=void 0;var xl=gl,_l=function(){if(!Pc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pc.addEventListener("test",Oc,t),Pc.removeEventListener("test",Oc,t)}catch(n){}return e}();function Sl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Il(e,t){if(Sl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hl){e:{try{ol(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:El[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Il.Z.h.call(this)}}Sl.prototype.h=function(){this.defaultPrevented=!0},Bc(Il,Sl);var El={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),Cl=0;function Al(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cl,this.ca=this.fa=!1}function Nl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Rl(e){this.src=e,this.g={},this.h=0}function Pl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Nl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ol(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Rl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ol(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Al(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Dl="closure_lm_"+(1e6*Math.random()|0),Ll={};function Ml(e,t,n,r,i){if(r&&r.once)return Fl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ml(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Tl]?e.N(t,n,Lc(r)?!!r.capture:!!r,i):jl(e,t,n,!1,r,i)}function jl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lc(i)?!!i.capture:!!i,s=ql(e);if(s||(e[Dl]=s=new Rl(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_l||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Tl]?e.O(t,n,Lc(r)?!!r.capture:!!r,i):jl(e,t,n,!0,r,i)}function Ul(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ul(e,t[a],n,r,i);else r=Lc(r)?!!r.capture:!!r,n=Hl(n),e&&e[Tl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ol(a=e.g[t],n,r,i))&&(Nl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ql(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ol(t,n,r,i)),(n=-1<e?t[e]:null)&&Vl(n))}function Vl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Tl])Pl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ql(t))?(Pl(n,e),0==n.h&&(n.src=null,t[Dl]=null)):Nl(e)}}}function zl(e){return e in Ll?Ll[e]:Ll[e]="on"+e}function Bl(e,t){if(e.ca)e=!0;else{t=new Il(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Vl(e),e=n.call(r,t)}return e}function ql(e){return(e=e[Dl])instanceof Rl?e:null}var Wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(e){return"function"===typeof e?e:(e[Wl]||(e[Wl]=function(t){return e.handleEvent(t)}),e[Wl])}function Kl(){qc.call(this),this.i=new Rl(this),this.P=this,this.I=null}function Gl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sl(t,e);else if(t instanceof Sl)t.target=t.target||e;else{var i=t;al(t=new Sl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ql(o,r,!0,t)&&i}if(i=Ql(o=t.g=e,r,!0,t)&&i,i=Ql(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ql(o=t.g=n[a],r,!1,t)&&i}function Ql(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Pl(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Bc(Kl,qc),Kl.prototype[Tl]=!0,Kl.prototype.removeEventListener=function(e,t,n,r){Ul(this,e,t,n,r)},Kl.prototype.M=function(){if(Kl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nl(n[r]);delete t.g[e],t.h--}}this.I=null},Kl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $l=Pc.JSON.stringify;function Yl(){var e=af,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jl,Xl=function(){function e(){Oo(this,e),this.h=this.g=null}return Lo(e,[{key:"add",value:function(e,t){var n=Zl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Zl=new(function(){function e(t,n){Oo(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lo(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ef}),(function(e){return e.reset()})),ef=function(){function e(){Oo(this,e),this.next=this.g=this.h=null}return Lo(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function tf(e){Pc.setTimeout((function(){throw e}),0)}function nf(e,t){Jl||function(){var e=Pc.Promise.resolve(void 0);Jl=function(){e.then(of)}}(),rf||(Jl(),rf=!0),af.add(e,t)}var rf=!1,af=new Xl;function of(){for(var e;e=Yl();){try{e.h.call(e.g)}catch(n){tf(n)}var t=Zl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rf=!1}function sf(e,t){Kl.call(this),this.h=e||1,this.g=t||Pc,this.j=Vc(this.kb,this),this.l=Date.now()}function uf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cf(e,t,n){if("function"===typeof e)n&&(e=Vc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pc.setTimeout(e,t||0)}function lf(e){e.g=cf((function(){e.g=null,e.i&&(e.i=!1,lf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Bc(sf,Kl),(Cc=sf.prototype).da=!1,Cc.S=null,Cc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gl(this,"tick"),this.da&&(uf(this),this.start()))}},Cc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cc.M=function(){sf.Z.M.call(this),uf(this),delete this.g};var ff=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lo(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lf(this)}},{key:"M",value:function(){Tc(Io(n.prototype),"M",this).call(this),this.g&&(Pc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(qc);function hf(e){qc.call(this),this.h=e,this.g={}}Bc(hf,qc);var df=[];function pf(e,t,n,r){Array.isArray(n)||(n&&(df[0]=n.toString()),n=df);for(var i=0;i<n.length;i++){var a=Ml(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vf(e){nl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vl(e)}),e),e.g={}}function mf(){this.g=!0}function yf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $l(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}hf.prototype.M=function(){hf.Z.M.call(this),vf(this)},hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mf.prototype.Aa=function(){this.g=!1},mf.prototype.info=function(){};var gf={},kf=null;function wf(){return kf=kf||new Kl}function bf(e){Sl.call(this,gf.Ma,e)}function xf(e){var t=wf();Gl(t,new bf(t,e))}function _f(e,t){Sl.call(this,gf.STAT_EVENT,e),this.stat=t}function Sf(e){var t=wf();Gl(t,new _f(t,e))}function If(e,t){Sl.call(this,gf.Na,e),this.size=t}function Ef(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pc.setTimeout((function(){e()}),t)}gf.Ma="serverreachability",Bc(bf,Sl),gf.STAT_EVENT="statevent",Bc(_f,Sl),gf.Na="timingevent",Bc(If,Sl);var Tf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Af(){}function Nf(e){return e.h||(e.h=e.i())}function Rf(){}Af.prototype.h=null;var Pf,Of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Df(){Sl.call(this,"d")}function Lf(){Sl.call(this,"c")}function Mf(){}function jf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hf(this),this.P=Uf,e=fl?125:void 0,this.W=new sf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ff}function Ff(){this.i=null,this.g="",this.h=!1}Bc(Df,Sl),Bc(Lf,Sl),Bc(Mf,Af),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},Pf=new Mf;var Uf=45e3,Vf={},zf={};function Bf(e,t,n){e.K=1,e.v=fh(ah(t)),e.s=n,e.U=!0,qf(e,null)}function qf(e,t){e.F=Date.now(),Gf(e),e.A=ah(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ff,e.g=Ed(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ff(Vc(e.Ia,e,e.g),e.O)),pf(e.V,e.g,"readystatechange",e.gb),t=e.H?rl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Hf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Kf(e,n))==zf){4==t&&(e.o=4,Sf(14),i=!1),yf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vf){e.o=4,Sf(15),yf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yf(e.j,e.m,r,null),Xf(e,r)}Wf(e)&&r!=zf&&r!=Vf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gd(t),t.L=!0,Sf(11))):(yf(e.j,e.m,n,"[Invalid Chunked Response]"),Jf(e),Yf(e))}function Kf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?zf:(n=Number(t.substring(n,r)),isNaN(n)?Vf:(r+=1)+n>t.length?zf:(t=t.substr(r,n),e.C=r+n,t))}function Gf(e){e.Y=Date.now()+e.P,Qf(e,e.P)}function Qf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ef(Vc(e.eb,e),t)}function $f(e){e.B&&(Pc.clearTimeout(e.B),e.B=null)}function Yf(e){0==e.l.G||e.I||bd(e.l,e)}function Jf(e){$f(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,uf(e.W),vf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ph(n.i,e)))if(n.I=e.N,!e.J&&Ph(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wd(n),cd(n)}yd(n),Sf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ef(Vc(n.ab,n),6e3));if(1>=Rh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else _d(n,11)}else if((e.J||n.g==e)&&wd(n),!$c(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Xc(l,"spdy")||Xc(l,"quic")||Xc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Oh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,lh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Id(r,r.H?r.la:null,r.W),d.J){Dh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($f(p),Gf(p)),r.g=d}else md(r);0<n.l.length&&hd(n)}else"stop"!=a[0]&&"close"!=a[0]||_d(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_d(n,7):ud(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}xf(4)}catch(a){}}function Zf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dc(e)||"string"===typeof e)Kc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Dc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function eh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof eh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function th(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];nh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)nh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function nh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cc=jf.prototype).setTimeout=function(e){this.P=e},Cc.gb=function(e){e=e.target;var t=this.L;t&&3==rd(e)?t.l():this.Ia(e)},Cc.Ia=function(e){try{if(e==this.g)e:{var t=rd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fl||this.g&&(this.h.h||this.g.ga()||id(this.g)))){this.I||4!=t||7==n||xf(8==n||0>=r?3:2),$f(this);var i=this.g.ba();this.N=i;t:if(Wf(this)){var a=id(this.g);e="";var o=a.length,s=4==rd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jf(this),Yf(this);var u="";break t}this.h.i=new Pc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Sf(12),Jf(this),Yf(this);break e}yf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xf(this,i)}this.U?(Hf(this,t,u),fl&&this.i&&3==t&&(pf(this.V,this.W,"tick",this.fb),this.W.start())):(yf(this.j,this.m,u,null),Xf(this,u)),4==t&&Jf(this),this.i&&!this.I&&(4==t?bd(this.l,this):(this.i=!1,Gf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Sf(12)):(this.o=0,Sf(13)),Jf(this),Yf(this)}}}catch(t){}},Cc.fb=function(){if(this.g){var e=rd(this.g),t=this.g.ga();this.C<t.length&&($f(this),Hf(this,e,t),this.i&&4!=e&&Gf(this))}},Cc.cancel=function(){this.I=!0,Jf(this)},Cc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xf(3),Sf(17)),Jf(this),this.o=2,Yf(this)):Qf(this,this.Y-e)},(Cc=eh.prototype).R=function(){th(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cc.T=function(){return th(this),this.g.concat()},Cc.get=function(e,t){return nh(this.h,e)?this.h[e]:t},Cc.set=function(e,t){nh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var rh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ih(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ih){this.g=void 0!==t?t:e.g,oh(this,e.j),this.s=e.s,sh(this,e.i),uh(this,e.m),this.l=e.l,t=e.h;var n=new wh;n.i=t.i,t.g&&(n.g=new eh(t.g),n.h=t.h),ch(this,n),this.o=e.o}else e&&(n=String(e).match(rh))?(this.g=!!t,oh(this,n[1]||"",!0),this.s=hh(n[2]||""),sh(this,n[3]||"",!0),uh(this,n[4]),this.l=hh(n[5]||"",!0),ch(this,n[6]||"",!0),this.o=hh(n[7]||"")):(this.g=!!t,this.h=new wh(null,this.g))}function ah(e){return new ih(e)}function oh(e,t,n){e.j=n?hh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sh(e,t,n){e.i=n?hh(t,!0):t}function uh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ch(e,t,n){t instanceof wh?(e.h=t,function(e,t){t&&!e.j&&(bh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xh(this,t),Sh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=dh(t,gh)),e.h=new wh(t,e.g))}function lh(e,t,n){e.h.set(t,n)}function fh(e){return lh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ph),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ph(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ih.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dh(t,vh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dh(t,vh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(dh(n,"/"==n.charAt(0)?yh:mh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dh(n,kh)),e.join("")};var vh=/[#\/\?@]/g,mh=/[#\?:]/g,yh=/[#\?]/g,gh=/[#\?@]/g,kh=/#/g;function wh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bh(e){e.g||(e.g=new eh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xh(e,t){bh(e),t=Ih(e,t),nh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,nh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&th(e)))}function _h(e,t){return bh(e),t=Ih(e,t),nh(e.g.h,t)}function Sh(e,t,n){xh(e,t),0<n.length&&(e.i=null,e.g.set(Ih(e,t),Qc(n)),e.h+=n.length)}function Ih(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cc=wh.prototype).add=function(e,t){bh(this),this.i=null,e=Ih(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cc.forEach=function(e,t){bh(this),this.g.forEach((function(n,r){Kc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cc.T=function(){bh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cc.R=function(e){bh(this);var t=[];if("string"===typeof e)_h(this,e)&&(t=Gc(t,this.g.get(Ih(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Gc(t,e[n])}return t},Cc.set=function(e,t){return bh(this),this.i=null,_h(this,e=Ih(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Eh=Lo((function e(t,n){Oo(this,e),this.h=t,this.g=n}));function Th(e){this.l=e||Ah,Pc.PerformanceNavigationTiming?e=0<(e=Pc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pc.g&&Pc.g.Ea&&Pc.g.Ea()&&Pc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ch,Ah=10;function Nh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rh(e){return e.h?1:e.g?e.g.size:0}function Ph(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oh(e,t){e.g?e.g.add(t):e.h=t}function Dh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Lh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ys(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Qc(e.i)}function Mh(){}function jh(){this.g=new Mh}function Fh(e,t,n){var r=n||"";try{Zf(e,(function(e,n){var i=e;Lc(e)&&(i=$l(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Vh(e){this.l=e.$b||null,this.j=e.ib||!1}function zh(e,t){Kl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Th.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ys(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Mh.prototype.stringify=function(e){return Pc.JSON.stringify(e,void 0)},Mh.prototype.parse=function(e){return Pc.JSON.parse(e,void 0)},Bc(Vh,Af),Vh.prototype.g=function(){return new zh(this.l,this.j)},Vh.prototype.i=(Ch={},function(){return Ch}),Bc(zh,Kl);var Bh=0;function qh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hh(e)}function Hh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cc=zh.prototype).open=function(e,t){if(this.readyState!=Bh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hh(this)},Cc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=Bh},Cc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hh(this)),this.g&&(this.readyState=3,Hh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wh(this):Hh(this),3==this.readyState&&qh(this)}},Cc.Ua=function(e){this.g&&(this.response=this.responseText=e,Wh(this))},Cc.Ta=function(e){this.g&&(this.response=e,Wh(this))},Cc.ha=function(){this.g&&Wh(this)},Cc.setRequestHeader=function(e,t){this.v.append(e,t)},Cc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Kh=Pc.JSON.parse;function Gh(e){Kl.call(this),this.headers=new eh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qh,this.K=this.L=!1}Bc(Gh,Kl);var Qh="",$h=/^https?$/i,Yh=["POST","PUT"];function Jh(e){return"content-type"==e.toLowerCase()}function Xh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zh(e),td(e)}function Zh(e){e.D||(e.D=!0,Gl(e,"complete"),Gl(e,"error"))}function ed(e){if(e.h&&"undefined"!=typeof Rc&&(!e.C[1]||4!=rd(e)||2!=e.ba()))if(e.v&&4==rd(e))cf(e.Fa,0,e);else if(Gl(e,"readystatechange"),4==rd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rh)[1]||null;if(!a&&Pc.self&&Pc.self.location){var o=Pc.self.location.protocol;a=o.substr(0,o.length-1)}i=!$h.test(a?a.toLowerCase():"")}t=i}if(t)Gl(e,"complete"),Gl(e,"success");else{e.m=6;try{var s=2<rd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Zh(e)}}finally{td(e)}}}function td(e,t){if(e.g){nd(e);var n=e.g,r=e.C[0]?Oc:null;e.g=null,e.C=null,t||Gl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function nd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pc.clearTimeout(e.A),e.A=null)}function rd(e){return e.g?e.g.readyState:0}function id(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xe){return null}}function ad(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return nl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lh(e,t,n))}function od(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sd(e){this.za=0,this.l=[],this.h=new mf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=od("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=od("baseRetryDelayMs",5e3,e),this.$a=od("retryDelaySeedMs",1e4,e),this.Ya=od("forwardChannelMaxRetries",2,e),this.ra=od("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Th(e&&e.concurrentRequestLimit),this.Ca=new jh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ud(e){if(ld(e),3==e.G){var t=e.V++,n=ah(e.F);lh(n,"SID",e.J),lh(n,"RID",t),lh(n,"TYPE","terminate"),pd(e,n),(t=new jf(e,e.h,t,void 0)).K=2,t.v=fh(ah(n)),n=!1,Pc.navigator&&Pc.navigator.sendBeacon&&(n=Pc.navigator.sendBeacon(t.v.toString(),"")),!n&&Pc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ed(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gf(t)}Sd(e)}function cd(e){e.g&&(gd(e),e.g.cancel(),e.g=null)}function ld(e){cd(e),e.u&&(Pc.clearTimeout(e.u),e.u=null),wd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pc.clearTimeout(e.m),e.m=null)}function fd(e,t){e.l.push(new Eh(e.Za++,t)),3==e.G&&hd(e)}function hd(e){Nh(e.i)||e.m||(e.m=!0,nf(e.Ha,e),e.C=0)}function dd(e,t){var n;n=t?t.m:e.V++;var r=ah(e.F);lh(r,"SID",e.J),lh(r,"RID",n),lh(r,"AID",e.U),pd(e,r),e.o&&e.s&&ad(r,e.o,e.s),n=new jf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Oh(e.i,n),Bf(n,r,t)}function pd(e,t){e.j&&Zf({},(function(e,n){lh(t,n,e)}))}function vd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Fh(l,o,"req"+c+"_")}catch(je){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function md(e){e.g||e.u||(e.Y=1,nf(e.Ga,e),e.A=0)}function yd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ef(Vc(e.Ga,e),xd(e,e.A)),e.A++,!0)}function gd(e){null!=e.B&&(Pc.clearTimeout(e.B),e.B=null)}function kd(e){e.g=new jf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ah(e.oa);lh(t,"RID","rpc"),lh(t,"SID",e.J),lh(t,"CI",e.N?"0":"1"),lh(t,"AID",e.U),pd(e,t),lh(t,"TYPE","xmlhttp"),e.o&&e.s&&ad(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fh(ah(t)),n.s=null,n.U=!0,qf(n,e)}function wd(e){null!=e.v&&(Pc.clearTimeout(e.v),e.v=null)}function bd(e,t){var n=null;if(e.g==t){wd(e),gd(e),e.g=null;var r=2}else{if(!Ph(e.i,t))return;n=t.D,Dh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Gl(r=wf(),new If(r,n,t,i)),hd(e)}else md(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Rh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ef(Vc(e.Ha,e,t),xd(e,e.C)),e.C++,!0))}(e,t)||2==r&&yd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_d(e,5);break;case 4:_d(e,10);break;case 3:_d(e,6);break;default:_d(e,2)}}function xd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _d(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vc(e.jb,e);n||(n=new ih("//www.google.com/images/cleardot.gif"),Pc.location&&"http"==Pc.location.protocol||oh(n,"https"),fh(n)),function(e,t){var n=new mf;if(Pc.Image){var r=new Image;r.onload=zc(Uh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zc(Uh,n,r,"TestLoadImage: error",!1,t),r.onabort=zc(Uh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zc(Uh,n,r,"TestLoadImage: timeout",!1,t),Pc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sf(2);e.G=0,e.j&&e.j.va(t),Sd(e),ld(e)}function Sd(e){e.G=0,e.I=-1,e.j&&(0==Lh(e.i).length&&0==e.l.length||(e.i.i.length=0,Qc(e.l),e.l.length=0),e.j.ua())}function Id(e,t,n){var r=function(e){return e instanceof ih?ah(e):new ih(e,void 0)}(n);if(""!=r.i)t&&sh(r,t+"."+r.i),uh(r,r.m);else{var i=Pc.location;r=function(e,t,n,r){var i=new ih(null,void 0);return e&&oh(i,e),t&&sh(i,t),n&&uh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&nl(e.aa,(function(e,t){lh(r,t,e)})),t=e.D,n=e.sa,t&&n&&lh(r,t,n),lh(r,"VER",e.ma),pd(e,r),r}function Ed(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Gh(new Vh({ib:!0})):new Gh(e.qa)).L=e.H,t}function Td(){}function Cd(){if(cl&&!(10<=Number(xl)))throw Error("Environmental error: no available transport.")}function Ad(e,t){Kl.call(this),this.g=new sd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$c(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$c(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pd(this)}function Nd(e){Df.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rd(){Lf.call(this),this.status=1}function Pd(e){this.g=e}(Cc=Gh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pf.g(),this.C=this.u?Nf(this.u):Nf(Pf),this.g.onreadystatechange=Vc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Xh(this,a)}e=n||"";var i=new eh(this.headers);r&&Zf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Jh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pc.FormData&&e instanceof Pc.FormData,!(0<=Hc(Yh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nd(this),0<this.B&&((this.K=function(e){return cl&&wl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vc(this.pa,this)):this.A=cf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Xh(this,a)}},Cc.pa=function(){"undefined"!=typeof Rc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gl(this,"timeout"),this.abort(8))},Cc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gl(this,"complete"),Gl(this,"abort"),td(this))},Cc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),td(this,!0)),Gh.Z.M.call(this)},Cc.Fa=function(){this.s||(this.F||this.v||this.l?ed(this):this.cb())},Cc.cb=function(){ed(this)},Cc.ba=function(){try{return 2<rd(this)?this.g.status:-1}catch(Ch){return-1}},Cc.ga=function(){try{return this.g?this.g.responseText:""}catch(Ch){return""}},Cc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Kh(t)}},Cc.Da=function(){return this.m},Cc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cc=sd.prototype).ma=8,Cc.G=1,Cc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(xe){}},Cc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?al(n=rl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vd(this,t,r),lh(i=ah(this.F),"RID",e),lh(i,"CVER",22),this.D&&lh(i,"X-HTTP-Session-Id",this.D),pd(this,i),this.o&&n&&ad(i,this.o,n),Oh(this.i,t),this.Ra&&lh(i,"TYPE","init"),this.ja?(lh(i,"$req",r),lh(i,"SID","null"),t.$=!0,Bf(t,i,null)):Bf(t,i,r),this.G=2}}else 3==this.G&&(e?dd(this,e):0==this.l.length||Nh(this.i)||dd(this))},Cc.Ga=function(){if(this.u=null,kd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ef(Vc(this.bb,this),e)}},Cc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sf(10),cd(this),kd(this))},Cc.ab=function(){null!=this.v&&(this.v=null,cd(this),yd(this),Sf(19))},Cc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sf(2)):(this.h.info("Failed to ping google.com"),Sf(1))},(Cc=Td.prototype).xa=function(){},Cc.wa=function(){},Cc.va=function(){},Cc.ua=function(){},Cc.Oa=function(){},Cd.prototype.g=function(e,t){return new Ad(e,t)},Bc(Ad,Kl),Ad.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),nf(Vc(e.hb,e,t))),Sf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Id(e,null,e.W),hd(e)},Ad.prototype.close=function(){ud(this.g)},Ad.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fd(this.g,t)}else this.v?((t={}).__data__=$l(e),fd(this.g,t)):fd(this.g,e)},Ad.prototype.M=function(){this.g.j=null,delete this.j,ud(this.g),delete this.g,Ad.Z.M.call(this)},Bc(Nd,Df),Bc(Rd,Lf),Bc(Pd,Td),Pd.prototype.xa=function(){Gl(this.g,"a")},Pd.prototype.wa=function(e){Gl(this.g,new Nd(e))},Pd.prototype.va=function(e){Gl(this.g,new Rd(e))},Pd.prototype.ua=function(){Gl(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,Ad.prototype.send=Ad.prototype.u,Ad.prototype.open=Ad.prototype.m,Ad.prototype.close=Ad.prototype.close,Tf.NO_ERROR=0,Tf.TIMEOUT=8,Tf.HTTP_ERROR=6,Cf.COMPLETE="complete",Rf.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",Kl.prototype.listen=Kl.prototype.N,Gh.prototype.listenOnce=Gh.prototype.O,Gh.prototype.getLastError=Gh.prototype.La,Gh.prototype.getLastErrorCode=Gh.prototype.Da,Gh.prototype.getStatus=Gh.prototype.ba,Gh.prototype.getResponseJson=Gh.prototype.Qa,Gh.prototype.getResponseText=Gh.prototype.ga,Gh.prototype.send=Gh.prototype.ea;var Od=Nc.createWebChannelTransport=function(){return new Cd},Dd=Nc.getStatEventTarget=function(){return wf()},Ld=Nc.ErrorCode=Tf,Md=Nc.EventType=Cf,jd=Nc.Event=gf,Fd=Nc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ud=Nc.FetchXmlHttpFactory=Vh,Vd=Nc.WebChannel=Rf,zd=Nc.XhrIo=Gh,Bd="@firebase/firestore",qd=function(){function e(t){Oo(this,e),this.uid=t}return Lo(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qd.UNAUTHENTICATED=new qd(null),qd.GOOGLE_CREDENTIALS=new qd("google-credentials-uid"),qd.FIRST_PARTY=new qd("first-party-uid"),qd.MOCK_USER=new qd("mock-user");var Wd="9.6.5",Hd=new Wu("@firebase/firestore");function Kd(){return Hd.logLevel}function Gd(e){if(Hd.logLevel<=Lu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yd);Hd.debug.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Po(i)))}}function Qd(e){if(Hd.logLevel<=Lu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yd);Hd.error.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Po(i)))}}function $d(e){if(Hd.logLevel<=Lu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yd);Hd.warn.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Po(i)))}}function Yd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Jd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wd,") INTERNAL ASSERTION FAILED: ")+e;throw Qd(t),new Error(t)}function Xd(e,t){e||Jd()}function Zd(e,t){return e}var ep={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tp=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lo(n)}(du),np=Lo((function e(){var t=this;Oo(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rp=Lo((function e(t,n){Oo(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ip=function(){function e(){Oo(this,e)}return Lo(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ap=function(){function e(t){Oo(this,e),this.token=t,this.changeListener=null}return Lo(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),op=function(){function e(t){Oo(this,e),this.t=t,this.currentUser=qd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lo(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new np;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new np,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Gd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Gd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new np)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Xd("string"==typeof n.accessToken),new rp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Xd(null===e||"string"==typeof e),new qd(e)}}]),e}(),sp=Lo((function e(t,n,r){Oo(this,e),this.type="FirstParty",this.user=qd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),up=function(){function e(t,n,r){Oo(this,e),this.h=t,this.l=n,this.m=r}return Lo(e,[{key:"getToken",value:function(){return Promise.resolve(new sp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cp=Lo((function e(t){Oo(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lp=function(){function e(t){Oo(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Lo(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Gd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Gd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Gd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Xd("string"==typeof e.token),new cp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),fp=function(){function e(t,n){var r=this;Oo(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Lo(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function hp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}fp.I=-1;var dp=function(){function e(){Oo(this,e)}return Lo(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=hp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pp(e,t){return e<t?-1:e>t?1:0}function vp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mp(e){return e+"\0"}var yp=function(){function e(t,n){if(Oo(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new tp(ep.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tp(ep.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tp(ep.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tp(ep.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lo(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pp(this.nanoseconds,e.nanoseconds):pp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gp=function(){function e(t){Oo(this,e),this.timestamp=t}return Lo(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new yp(0,0))}}]),e}();function kp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var xp=function(){function e(t,n,r){Oo(this,e),void 0===n?n=0:n>t.length&&Jd(),void 0===r?r=t.length-n:r>t.length-n&&Jd(),this.segments=t,this.offset=n,this.len=r}return Lo(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_p=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new tp(ep.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Po(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xp),Sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ip=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new tp(ep.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new tp(ep.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new tp(ep.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new tp(ep.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xp),Ep=function(){function e(t){Oo(this,e),this.fields=t,t.sort(Ip.comparator)}return Lo(e,[{key:"covers",value:function(e){var t,n=Ys(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Tp=function(e){function t(e){Oo(this,t),this.binaryString=e}return Lo(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Tp.EMPTY_BYTE_STRING=new Tp("");var Cp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ap(e){if(Xd(!!e),"string"==typeof e){var t=0,n=Cp.exec(e);if(Xd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Np(e.seconds),nanos:Np(e.nanos)}}function Np(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rp(e){return"string"==typeof e?Tp.fromBase64String(e):Tp.fromUint8Array(e)}function Pp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Op(e){var t=e.mapValue.fields.__previous_value__;return Pp(t)?Op(t):t}function Dp(e){var t=Ap(e.mapValue.fields.__local_write_time__.timestampValue);return new yp(t.seconds,t.nanos)}function Lp(e){return null==e}function Mp(e){return 0===e&&1/e==-1/0}function jp(e){return"number"==typeof e&&Number.isInteger(e)&&!Mp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fp=function(){function e(t){Oo(this,e),this.path=t}return Lo(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===_p.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_p.fromString(t))}},{key:"fromName",value:function(t){return new e(_p.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return _p.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _p(t.slice()))}}]),e}();function Up(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pp(e)?4:10:Jd()}function Vp(e,t){if(e===t)return!0;var n=Up(e);if(n!==Up(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dp(e).isEqual(Dp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ap(e.timestampValue),r=Ap(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rp(e.bytesValue).isEqual(Rp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Np(e.geoPointValue.latitude)===Np(t.geoPointValue.latitude)&&Np(e.geoPointValue.longitude)===Np(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Np(e.integerValue)===Np(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Np(e.doubleValue),r=Np(t.doubleValue);return n===r?Mp(n)===Mp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vp(e.arrayValue.values||[],t.arrayValue.values||[],Vp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kp(n)!==kp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vp(n[i],r[i])))return!1;return!0}(e,t);default:return Jd()}}function zp(e,t){return void 0!==(e.values||[]).find((function(e){return Vp(e,t)}))}function Bp(e,t){if(e===t)return 0;var n=Up(e),r=Up(t);if(n!==r)return pp(n,r);switch(n){case 0:return 0;case 1:return pp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Np(e.integerValue||e.doubleValue),r=Np(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qp(e.timestampValue,t.timestampValue);case 4:return qp(Dp(e),Dp(t));case 5:return pp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rp(e),r=Rp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pp(n[i],r[i]);if(0!==a)return a}return pp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pp(Np(e.latitude),Np(t.latitude));return 0!==n?n:pp(Np(e.longitude),Np(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bp(n[i],r[i]);if(a)return a}return pp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=pp(r[o],a[o]);if(0!==s)return s;var u=Bp(n[r[o]],i[a[o]]);if(0!==u)return u}return pp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Jd()}}function qp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pp(e,t);var n=Ap(e),r=Ap(t),i=pp(n.seconds,r.seconds);return 0!==i?i:pp(n.nanos,r.nanos)}function Wp(e){return Hp(e)}function Hp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ap(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ys(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ys(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Jd();var t,n}function Kp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gp(e){return!!e&&"integerValue"in e}function Qp(e){return!!e&&"arrayValue"in e}function $p(e){return!!e&&"nullValue"in e}function Yp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jp(e){return!!e&&"mapValue"in e}function Xp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xp(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Zp=function(){function e(t){Oo(this,e),this.value=t}return Lo(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Jp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xp(t)}},{key:"setAll",value:function(e){var t=this,n=Ip.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Jp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){wp(t,(function(t,n){return e[t]=n}));var r,i=Ys(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ev(e){var t=[];return wp(e.fields,(function(e,n){var r=new Ip([e]);if(Jp(n)){var i=ev(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ys(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ep(t)}var tv=function(){function e(t,n,r,i,a){Oo(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Lo(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gp.min(),Zp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zp.empty(),2)}}]),e}(),nv=Lo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Oo(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function rv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nv(e,t,n,r,i,a,o)}function iv(e){var t=Zd(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wp(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Lp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=yv(t.startAt)),t.endAt&&(n+="|ub:",n+=yv(t.endAt)),t.R=n}return t.R}function av(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Vp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bv(e.startAt,t.startAt)&&bv(e.endAt,t.endAt)}function ov(e){return Fp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var sv=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Bp(t,this.value)):null!==t&&Up(this.value)===Up(t)&&this.v(Bp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jd()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new uv(e,t,r):"array-contains"===t?new hv(e,r):"in"===t?new dv(e,r):"not-in"===t?new pv(e,r):"array-contains-any"===t?new vv(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new cv(e,n):new lv(e,n)}}]),n}(function(){return Lo((function e(){Oo(this,e)}))}());var uv=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this,e,r,i)).key=Fp.fromName(i.referenceValue),a}return Lo(n,[{key:"matches",value:function(e){var t=Fp.comparator(e.key,this.key);return this.v(t)}}]),n}(sv),cv=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,"in",r)).keys=fv("in",r),i}return Lo(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sv),lv=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,"not-in",r)).keys=fv("not-in",r),i}return Lo(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sv);function fv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fp.fromName(e.referenceValue)}))}var hv=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"array-contains",r)}return Lo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qp(t)&&zp(t.arrayValue,this.value)}}]),n}(sv),dv=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"in",r)}return Lo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zp(this.value.arrayValue,t)}}]),n}(sv),pv=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"not-in",r)}return Lo(n,[{key:"matches",value:function(e){if(zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zp(this.value.arrayValue,t)}}]),n}(sv),vv=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"array-contains-any",r)}return Lo(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zp(t.value.arrayValue,e)}))}}]),n}(sv),mv=Lo((function e(t,n){Oo(this,e),this.position=t,this.before=n}));function yv(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Wp(e)})).join(","))}var gv=Lo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Oo(this,e),this.field=t,this.dir=n}));function kv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fp.comparator(Fp.fromName(o.referenceValue),n.key):Bp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function bv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vp(e.position[n],t.position[n]))return!1;return!0}var xv=Lo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Oo(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function _v(e,t,n,r,i,a,o,s){return new xv(e,t,n,r,i,a,o,s)}function Sv(e){return new xv(e)}function Iv(e){return!Lp(e.limit)&&"F"===e.limitType}function Ev(e){return!Lp(e.limit)&&"L"===e.limitType}function Tv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cv(e){var t,n=Ys(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Av(e){return null!==e.collectionGroup}function Nv(e){var t=Zd(e);if(null===t.S){t.S=[];var n=Cv(t),r=Tv(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new gv(n)),t.S.push(new gv(Ip.keyField(),"asc"));else{var i,a=!1,o=Ys(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new gv(Ip.keyField(),u))}}}return t.S}function Rv(e){var t=Zd(e);if(!t.D)if("F"===t.limitType)t.D=rv(t.path,t.collectionGroup,Nv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ys(Nv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new mv(t.endAt.position,!t.endAt.before):null,u=t.startAt?new mv(t.startAt.position,!t.startAt.before):null;t.D=rv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Pv(e,t,n){return new xv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ov(e,t){return av(Rv(e),Rv(t))&&e.limitType===t.limitType}function Dv(e){return"".concat(iv(Rv(e)),"|lt:").concat(e.limitType)}function Lv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wp(t.value));var t})).join(", "),"]")),Lp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+yv(e.startAt)),e.endAt&&(t+=", endAt: "+yv(e.endAt)),"Target(".concat(t,")")}(Rv(e)),"; limitType=").concat(e.limitType,")")}function Mv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ys(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ys(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!wv(e.startAt,Nv(e),t))&&(!e.endAt||!wv(e.endAt,Nv(e),t))}(e,t)}function jv(e){return function(t,n){var r,i=!1,a=Ys(Nv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Fv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Fv(e,t,n){var r=e.field.isKeyField()?Fp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bp(r,i):Jd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jd()}}function Uv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(t)?"-0":t}}function Vv(e){return{integerValue:""+e}}function zv(e,t){return jp(t)?Vv(t):Uv(e,t)}var Bv=Lo((function e(){Oo(this,e),this._=void 0}));function qv(e,t,n){return e instanceof Kv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gv?Qv(e,t):e instanceof $v?Yv(e,t):function(e,t){var n=Hv(e,t),r=Xv(n)+Xv(e.N);return Gp(n)&&Gp(e.N)?Vv(r):Uv(e.k,r)}(e,t)}function Wv(e,t,n){return e instanceof Gv?Qv(e,t):e instanceof $v?Yv(e,t):n}function Hv(e,t){return e instanceof Jv?Gp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Kv=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n)}(Bv),Gv=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).elements=e,r}return Lo(n)}(Bv);function Qv(e,t){var n,r=Zv(t),i=Ys(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $v=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).elements=e,r}return Lo(n)}(Bv);function Yv(e,t){var n,r=Zv(t),i=Ys(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jv=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).k=e,i.N=r,i}return Lo(n)}(Bv);function Xv(e){return Np(e.integerValue||e.doubleValue)}function Zv(e){return Qp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var em=Lo((function e(t,n){Oo(this,e),this.field=t,this.transform=n}));var tm=Lo((function e(t,n){Oo(this,e),this.version=t,this.transformResults=n})),nm=function(){function e(t,n){Oo(this,e),this.updateTime=t,this.exists=n}return Lo(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var im=Lo((function e(){Oo(this,e)}));function am(e,t,n){e instanceof lm?function(e,t,n){var r=e.value.clone(),i=dm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fm?function(e,t,n){if(rm(e.precondition,t)){var r=dm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function om(e,t,n){e instanceof lm?function(e,t,n){if(rm(e.precondition,t)){var r=e.value.clone(),i=pm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(cm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof fm?function(e,t,n){if(rm(e.precondition,t)){var r=pm(e.fieldTransforms,n,t),i=t.data;i.setAll(hm(e)),i.setAll(r),t.convertToFoundDocument(cm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){rm(e.precondition,t)&&t.convertToNoDocument(gp.min())}(e,t)}function sm(e,t){var n,r=null,i=Ys(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Hv(a.transform,o||null);null!=s&&(null==r&&(r=Zp.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function um(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gv&&t instanceof Gv||e instanceof $v&&t instanceof $v?vp(e.elements,t.elements,Vp):e instanceof Jv&&t instanceof Jv?Vp(e.N,t.N):e instanceof Kv&&t instanceof Kv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cm(e){return e.isFoundDocument()?e.version:gp.min()}var lm=function(e){So(n,e);var t=No(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Oo(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lo(n)}(im),fm=function(e){So(n,e);var t=No(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Oo(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Lo(n)}(im);function hm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dm(e,t,n){var r=new Map;Xd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wv(o,s,n[i]))}return r}function pm(e,t,n){var r,i=new Map,a=Ys(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,qv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vm,mm,ym=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Lo(n)}(im),gm=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Lo(n)}(im),km=Lo((function e(t){Oo(this,e),this.count=t}));function wm(e){switch(e){default:return Jd();case ep.CANCELLED:case ep.UNKNOWN:case ep.DEADLINE_EXCEEDED:case ep.RESOURCE_EXHAUSTED:case ep.INTERNAL:case ep.UNAVAILABLE:case ep.UNAUTHENTICATED:return!1;case ep.INVALID_ARGUMENT:case ep.NOT_FOUND:case ep.ALREADY_EXISTS:case ep.PERMISSION_DENIED:case ep.FAILED_PRECONDITION:case ep.ABORTED:case ep.OUT_OF_RANGE:case ep.UNIMPLEMENTED:case ep.DATA_LOSS:return!0}}function bm(e){if(void 0===e)return Qd("GRPC error has no .code"),ep.UNKNOWN;switch(e){case vm.OK:return ep.OK;case vm.CANCELLED:return ep.CANCELLED;case vm.UNKNOWN:return ep.UNKNOWN;case vm.DEADLINE_EXCEEDED:return ep.DEADLINE_EXCEEDED;case vm.RESOURCE_EXHAUSTED:return ep.RESOURCE_EXHAUSTED;case vm.INTERNAL:return ep.INTERNAL;case vm.UNAVAILABLE:return ep.UNAVAILABLE;case vm.UNAUTHENTICATED:return ep.UNAUTHENTICATED;case vm.INVALID_ARGUMENT:return ep.INVALID_ARGUMENT;case vm.NOT_FOUND:return ep.NOT_FOUND;case vm.ALREADY_EXISTS:return ep.ALREADY_EXISTS;case vm.PERMISSION_DENIED:return ep.PERMISSION_DENIED;case vm.FAILED_PRECONDITION:return ep.FAILED_PRECONDITION;case vm.ABORTED:return ep.ABORTED;case vm.OUT_OF_RANGE:return ep.OUT_OF_RANGE;case vm.UNIMPLEMENTED:return ep.UNIMPLEMENTED;case vm.DATA_LOSS:return ep.DATA_LOSS;default:return Jd()}}(mm=vm||(vm={}))[mm.OK=0]="OK",mm[mm.CANCELLED=1]="CANCELLED",mm[mm.UNKNOWN=2]="UNKNOWN",mm[mm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mm[mm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mm[mm.NOT_FOUND=5]="NOT_FOUND",mm[mm.ALREADY_EXISTS=6]="ALREADY_EXISTS",mm[mm.PERMISSION_DENIED=7]="PERMISSION_DENIED",mm[mm.UNAUTHENTICATED=16]="UNAUTHENTICATED",mm[mm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mm[mm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mm[mm.ABORTED=10]="ABORTED",mm[mm.OUT_OF_RANGE=11]="OUT_OF_RANGE",mm[mm.UNIMPLEMENTED=12]="UNIMPLEMENTED",mm[mm.INTERNAL=13]="INTERNAL",mm[mm.UNAVAILABLE=14]="UNAVAILABLE",mm[mm.DATA_LOSS=15]="DATA_LOSS";var xm=function(){function e(t,n){Oo(this,e),this.comparator=t,this.root=n||Sm.EMPTY}return Lo(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _m(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _m(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _m(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _m(this.root,e,this.comparator,!0)}}]),e}(),_m=function(){function e(t,n,r,i){Oo(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lo(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sm=function(){function e(t,n,r,i,a){Oo(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Jd();if(this.right.isRed())throw Jd();var e=this.left.check();if(e!==this.right.check())throw Jd();return e+(this.isRed()?0:1)}}]),e}();Sm.EMPTY=null,Sm.RED=!0,Sm.BLACK=!1,Sm.EMPTY=new(function(){function e(){Oo(this,e),this.size=0}return Lo(e,[{key:"key",get:function(){throw Jd()}},{key:"value",get:function(){throw Jd()}},{key:"color",get:function(){throw Jd()}},{key:"left",get:function(){throw Jd()}},{key:"right",get:function(){throw Jd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Im=function(){function e(t){Oo(this,e),this.comparator=t,this.data=new xm(this.comparator)}return Lo(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Em(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Em(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Em=function(){function e(t){Oo(this,e),this.iter=t}return Lo(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Tm=new xm(Fp.comparator);function Cm(){return Tm}var Am=new xm(Fp.comparator);function Nm(){return Am}var Rm=new xm(Fp.comparator);function Pm(){return Rm}var Om=new Im(Fp.comparator);function Dm(){for(var e=Om,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Lm=new Im(pp);function Mm(){return Lm}var jm=function(){function e(t,n,r,i,a){Oo(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lo(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gp.min(),r,Mm(),Cm(),Dm())}}]),e}(),Fm=function(){function e(t,n,r,i,a){Oo(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lo(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Tp.EMPTY_BYTE_STRING,n,Dm(),Dm(),Dm())}}]),e}(),Um=Lo((function e(t,n,r,i){Oo(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Vm=Lo((function e(t,n){Oo(this,e),this.targetId=t,this.M=n})),zm=Lo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Oo(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bm=function(){function e(){Oo(this,e),this.F=0,this.L=Hm(),this.B=Tp.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Lo(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Dm(),t=Dm(),n=Dm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jd()}})),new Fm(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Hm()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),qm=function(){function e(t){Oo(this,e),this.et=t,this.nt=new Map,this.st=Cm(),this.it=Wm(),this.rt=new Im(pp)}return Lo(e,[{key:"ot",value:function(e){var t,n=Ys(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ys(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Jd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(ov(i))if(0===n){var a=new Fp(i.path);this.at(t,a,tv.newNoDocument(a,gp.min()))}else Xd(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ov(a.target)){var o=new Fp(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,tv.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Dm();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new jm(e,n,this.rt,this.st,r);return this.st=Cm(),this.it=Wm(),this.rt=new Im(pp),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Bm,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Im(pp),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Gd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Bm),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wm(){return new xm(Fp.comparator)}function Hm(){return new xm(Fp.comparator)}var Km={asc:"ASCENDING",desc:"DESCENDING"},Gm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qm=Lo((function e(t,n){Oo(this,e),this.databaseId=t,this.C=n}));function $m(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ym(e,t){return e.C?t.toBase64():t.toUint8Array()}function Jm(e,t){return $m(e,t.toTimestamp())}function Xm(e){return Xd(!!e),gp.fromTimestamp(function(e){var t=Ap(e);return new yp(t.seconds,t.nanos)}(e))}function Zm(e,t){return function(e){return new _p(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ey(e){var t=_p.fromString(e);return Xd(Iy(t)),t}function ty(e,t){return Zm(e.databaseId,t.path)}function ny(e,t){var n=ey(t);if(n.get(1)!==e.databaseId.projectId)throw new tp(ep.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tp(ep.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fp(oy(n))}function ry(e,t){return Zm(e.databaseId,t)}function iy(e){var t=ey(e);return 4===t.length?_p.emptyPath():oy(t)}function ay(e){return new _p(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oy(e){return Xd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sy(e,t,n){return{name:ty(e,t),fields:n.value.mapValue.fields}}function uy(e,t,n){var r=ny(e,t.name),i=Xm(t.updateTime),a=new Zp({mapValue:{fields:t.fields}}),o=tv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cy(e,t){return"found"in t?function(e,t){Xd(!!t.found),t.found.name,t.found.updateTime;var n=ny(e,t.found.name),r=Xm(t.found.updateTime),i=new Zp({mapValue:{fields:t.found.fields}});return tv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Xd(!!t.missing),Xd(!!t.readTime);var n=ny(e,t.missing),r=Xm(t.readTime);return tv.newNoDocument(n,r)}(e,t):Jd()}function ly(e,t){var n;if(t instanceof lm)n={update:sy(e,t.key,t.value)};else if(t instanceof ym)n={delete:ty(e,t.key)};else if(t instanceof fm)n={update:sy(e,t.key,t.data),updateMask:Sy(t.fieldMask)};else{if(!(t instanceof gm))return Jd();n={verify:ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $v)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jv)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Jd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jd()}(e,t.precondition)),n}function fy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nm.updateTime(Xm(e.updateTime)):void 0!==e.exists?nm.exists(e.exists):nm.none()}(t.currentDocument):nm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Xd("REQUEST_TIME"===t.setToServerValue),n=new Kv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $v(i)}else"increment"in t?n=new Jv(e,t.increment):Jd();var a=Ip.fromServerFormat(t.fieldPath);return new em(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ny(e,t.update.name),a=new Zp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ep(t.map((function(e){return Ip.fromServerFormat(e)})))}(t.updateMask);return new fm(i,a,o,n,r)}return new lm(i,a,n,r)}if(t.delete){var s=ny(e,t.delete);return new ym(s,n)}if(t.verify){var u=ny(e,t.verify);return new gm(u,n)}return Jd()}function hy(e,t){return{documents:[ry(e,t.path)]}}function dy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ry(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ry(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yp(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NAN"}};if($p(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yp(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NOT_NAN"}};if($p(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wy(e.field),op:ky(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wy(e.field),direction:gy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Lp(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=my(t.startAt)),t.endAt&&(n.structuredQuery.endAt=my(t.endAt)),n}function py(e){var t=iy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=vy(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new gv(by(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Lp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=yy(n.startAt));var l=null;return n.endAt&&(l=yy(n.endAt)),_v(t,i,s,o,u,"F",c,l)}function vy(e){return e?void 0!==e.unaryFilter?[_y(e)]:void 0!==e.fieldFilter?[xy(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return vy(e)})).reduce((function(e,t){return e.concat(t)})):Jd():[]}function my(e){return{before:e.before,values:e.position}}function yy(e){var t=!!e.before,n=e.values||[];return new mv(n,t)}function gy(e){return Km[e]}function ky(e){return Gm[e]}function wy(e){return{fieldPath:e.canonicalString()}}function by(e){return Ip.fromServerFormat(e.fieldPath)}function xy(e){return sv.create(by(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jd()}}(e.fieldFilter.op),e.fieldFilter.value)}function _y(e){switch(e.unaryFilter.op){case"IS_NAN":var t=by(e.unaryFilter.field);return sv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=by(e.unaryFilter.field);return sv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=by(e.unaryFilter.field);return sv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=by(e.unaryFilter.field);return sv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jd()}}function Sy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Iy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ey(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Cy(t)),t=Ty(e.get(n),t);return Cy(t)}function Ty(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Cy(e){return e+"\x01\x01"}function Ay(e){var t=e.length;if(Xd(t>=2),2===t)return Xd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_p.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Jd(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Jd()}a=o+2}return new _p(r)}var Ny=Lo((function e(t,n){Oo(this,e),this.seconds=t,this.nanoseconds=n})),Ry=Lo((function e(t,n,r){Oo(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Ry.store="owner",Ry.key="owner";var Py=Lo((function e(t,n,r){Oo(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Py.store="mutationQueues",Py.keyPath="userId";var Oy=Lo((function e(t,n,r,i,a){Oo(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Oy.store="mutations",Oy.keyPath="batchId",Oy.userMutationsIndex="userMutationsIndex",Oy.userMutationsKeyPath=["userId","batchId"];var Dy=function(){function e(){Oo(this,e)}return Lo(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Ey(t)]}},{key:"key",value:function(e,t,n){return[e,Ey(t),n]}}]),e}();Dy.store="documentMutations",Dy.PLACEHOLDER=new Dy;var Ly=Lo((function e(t,n){Oo(this,e),this.path=t,this.readTime=n})),My=Lo((function e(t,n){Oo(this,e),this.path=t,this.version=n})),jy=Lo((function e(t,n,r,i,a,o){Oo(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));jy.store="remoteDocuments",jy.readTimeIndex="readTimeIndex",jy.readTimeIndexPath="readTime",jy.collectionReadTimeIndex="collectionReadTimeIndex",jy.collectionReadTimeIndexPath=["parentPath","readTime"];var Fy=Lo((function e(t){Oo(this,e),this.byteSize=t}));Fy.store="remoteDocumentGlobal",Fy.key="remoteDocumentGlobalKey";var Uy=Lo((function e(t,n,r,i,a,o,s){Oo(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Uy.store="targets",Uy.keyPath="targetId",Uy.queryTargetsIndexName="queryTargetsIndex",Uy.queryTargetsKeyPath=["canonicalId","targetId"];var Vy=Lo((function e(t,n,r){Oo(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Vy.store="targetDocuments",Vy.keyPath=["targetId","path"],Vy.documentTargetsIndex="documentTargetsIndex",Vy.documentTargetsKeyPath=["path","targetId"];var zy=Lo((function e(t,n,r,i){Oo(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));zy.key="targetGlobalKey",zy.store="targetGlobal";var By=Lo((function e(t,n){Oo(this,e),this.collectionId=t,this.parent=n}));By.store="collectionParents",By.keyPath=["collectionId","parent"];var qy=Lo((function e(t,n,r,i){Oo(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));qy.store="clientMetadata",qy.keyPath="clientId";var Wy=Lo((function e(t,n,r){Oo(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Wy.store="bundles",Wy.keyPath="bundleId";var Hy=Lo((function e(t,n,r){Oo(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Hy.store="namedQueries",Hy.keyPath="name";var Ky=[Py.store,Oy.store,Dy.store,jy.store,Uy.store,Ry.store,zy.store,Vy.store].concat([qy.store]).concat([Fy.store]).concat([By.store]).concat([Wy.store,Hy.store]),Gy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qy=function(){function e(){Oo(this,e),this.onCommittedListeners=[]}return Lo(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$y=function(){function e(t){var n=this;Oo(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lo(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Jd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ys(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Yy=function(){function e(t,n){var r=this;Oo(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new np,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Zy(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=ig(e.target.error);r.It.reject(new Zy(t,n))}}return Lo(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Gd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new tg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zy(n,t)}}}]),e}(),Jy=function(){function e(t,n,r){Oo(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(ou())&&Qd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Lo(e,[{key:"Ct",value:function(){var e=Cu(Nu().mark((function e(t){var n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Zy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tp(ep.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new tp(ep.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Zy(t,n))},i.onupgradeneeded=function(e){Gd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Gd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Nu().mark((function e(){var n,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Yy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),$y.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Gd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gd("SimpleDb","Removing database:",e),ng(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!hu())return!1;if(e.vt())return!0;var t=ou(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xy=function(){function e(t){Oo(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Lo(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return ng(this.$t.delete())}}]),e}(),Zy=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,ep.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Lo(n)}(tp);function eg(e){return"IndexedDbTransactionError"===e.name}var tg=function(){function e(t){Oo(this,e),this.store=t}return Lo(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ng(n)}},{key:"add",value:function(e){return Gd("SimpleDb","ADD",this.store.name,e,e),ng(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ng(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gd("SimpleDb","DELETE",this.store.name,e),ng(this.store.delete(e))}},{key:"count",value:function(){return Gd("SimpleDb","COUNT",this.store.name),ng(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Gd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new $y((function(n,r){t.onerror=function(e){var t=ig(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new $y((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xy(i),o=t(i.primaryKey,i.value,a);if(o instanceof $y){var s=o.catch((function(e){return a.done(),$y.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return $y.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ng(e){return new $y((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ig(e.target.error);n(t)}}))}var rg=!1;function ig(e){var t=Jy.bt(ou());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new tp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rg||(rg=!0,setTimeout((function(){throw r}),0)),r}}return e}var ag=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Lo(n)}(Qy);function og(e,t){var n=Zd(e);return Jy.Dt(n.Wt,t)}var sg=function(){function e(t,n,r,i){Oo(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lo(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&am(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ys(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&om(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ys(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&om(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Dm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vp(this.mutations,e.mutations,(function(e,t){return um(e,t)}))&&vp(this.baseMutations,e.baseMutations,(function(e,t){return um(e,t)}))}}]),e}(),ug=function(){function e(t,n,r,i){Oo(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Lo(e,null,[{key:"from",value:function(t,n,r){Xd(t.mutations.length===r.length);for(var i=Pm(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tp.EMPTY_BYTE_STRING;Oo(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Lo(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),lg=Lo((function e(t){Oo(this,e),this.Gt=t}));function fg(e,t){if(t.document)return uy(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Fp.fromSegments(t.noDocument.path),r=mg(t.noDocument.readTime),i=tv.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Fp.fromSegments(t.unknownDocument.path),o=mg(t.unknownDocument.version);return tv.newUnknownDocument(a,o)}return Jd()}function hg(e,t,n){var r=dg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:ty(e,t.key),fields:t.data.value.mapValue.fields,updateTime:$m(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new jy(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=vg(t.version),c=t.hasCommittedMutations;return new jy(null,new Ly(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=vg(t.version);return new jy(new My(l,f),null,null,!0,r,i)}return Jd()}function dg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pg(e){var t=new yp(e[0],e[1]);return gp.fromTimestamp(t)}function vg(e){var t=e.toTimestamp();return new Ny(t.seconds,t.nanoseconds)}function mg(e){var t=new yp(e.seconds,e.nanoseconds);return gp.fromTimestamp(t)}function yg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fy(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fy(e.Gt,t)})),s=yp.fromMillis(t.localWriteTimeMs);return new sg(t.batchId,s,n,o)}function gg(e){var t,n,r=mg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mg(e.lastLimboFreeSnapshotVersion):gp.min();return void 0!==e.query.documents?(Xd(1===(n=e.query).documents.length),t=Rv(Sv(iy(n.documents[0])))):t=function(e){return Rv(py(e))}(e.query),new cg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tp.fromBase64String(e.resumeToken))}function kg(e,t){var n,r=vg(t.snapshotVersion),i=vg(t.lastLimboFreeSnapshotVersion);n=ov(t.target)?hy(e.Gt,t.target):dy(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Uy(t.targetId,iv(t.target),r,a,t.sequenceNumber,i,n)}function wg(e){var t=py({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pv(t,t.limit,"L"):t}var bg=function(){function e(){Oo(this,e)}return Lo(e,[{key:"getBundleMetadata",value:function(e,t){return xg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:mg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return xg(e).put({bundleId:(n=t).id,createTime:vg(Xm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return _g(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:wg(t.bundledQuery),readTime:mg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return _g(e).put(function(e){return{name:e.name,readTime:vg(Xm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function xg(e){return og(e,Wy.store)}function _g(e){return og(e,Hy.store)}var Sg=function(){function e(){Oo(this,e),this.zt=new Ig}return Lo(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),$y.resolve()}},{key:"getCollectionParents",value:function(e,t){return $y.resolve(this.zt.getEntries(t))}}]),e}(),Ig=function(){function e(){Oo(this,e),this.index={}}return Lo(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Im(_p.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Im(_p.comparator)).toArray()}}]),e}(),Eg=function(){function e(){Oo(this,e),this.Ht=new Ig}return Lo(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Ey(i)};return Tg(e).put(a)}return $y.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mp(t),""],!1,!0);return Tg(e).Bt(r).next((function(e){var r,i=Ys(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ay(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Tg(e){return og(e,By.store)}var Cg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ag=function(){function e(t,n,r){Oo(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lo(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ng(e,t,n){var r=e.store(Oy.store),i=e.store(Dy.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Xd(1===s)})));var c,l=[],f=Ys(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Dy.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $y.waitFor(a).next((function(){return l}))}function Rg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jd();t=e.noDocument}return JSON.stringify(t).length}Ag.DEFAULT_COLLECTION_PERCENTILE=10,Ag.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ag.DEFAULT=new Ag(41943040,Ag.DEFAULT_COLLECTION_PERCENTILE,Ag.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ag.DISABLED=new Ag(-1,0,0);var Pg=function(){function e(t,n,r,i){Oo(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Lo(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dg(e).jt({index:Oy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Lg(e),o=Dg(e);return o.add({}).next((function(s){Xd("number"==typeof s);var u,c=new sg(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ly(e.Gt,t)})),i=n.mutations.map((function(t){return ly(e.Gt,t)}));return new Oy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Im((function(e,t){return pp(e.canonicalString(),t.canonicalString())})),d=Ys(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Dy.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Dy.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),$y.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Dg(e).get(t).next((function(e){return e?(Xd(e.userId===n.userId),yg(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?$y.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Dg(e).jt({index:Oy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Xd(t.batchId>=r),a=yg(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dg(e).jt({index:Oy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dg(e).Bt(Oy.userMutationsIndex,n).next((function(e){return e.map((function(e){return yg(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Dy.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Lg(e).jt({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Ay(c);if(u===n.userId&&t.path.isEqual(h))return Dg(e).get(f).next((function(e){if(!e)throw Jd();Xd(e.userId===n.userId),a.push(yg(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Im(pp),i=[];return t.forEach((function(t){var a=Dy.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Lg(e).jt({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Ay(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),$y.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Dy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Im(pp);return Lg(e).jt({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=Ay(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Dg(e).get(t).next((function(e){if(null===e)throw Jd();Xd(e.userId===n.userId),r.push(yg(n.k,e))})))})),$y.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ng(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),$y.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $y.resolve();var r=IDBKeyRange.lowerBound(Dy.prefixForUser(t.userId)),i=[];return Lg(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ay(e[1]);i.push(a)}else r.done()})).next((function(){Xd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Og(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Mg(e).get(this.userId).next((function(e){return e||new Py(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Xd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Og(e,t,n){var r=Dy.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Lg(e).jt({range:a,Kt:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Dg(e){return og(e,Oy.store)}function Lg(e){return og(e,Dy.store)}function Mg(e){return og(e,Py.store)}var jg=function(){function e(t){Oo(this,e),this.se=t}return Lo(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Fg=function(){function e(t,n){Oo(this,e),this.referenceDelegate=t,this.k=n}return Lo(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new jg(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return gp.fromTimestamp(new yp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ug(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Xd(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ug(e).jt((function(o,s){var u=gg(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return $y.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ug(e).jt((function(e,n){var r=gg(n);t(r)}))}},{key:"oe",value:function(e){return Vg(e).get(zy.key).next((function(e){return Xd(null!==e),e}))}},{key:"ce",value:function(e,t){return Vg(e).put(zy.key,t)}},{key:"ae",value:function(e,t){return Ug(e).put(kg(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=iv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ug(e).jt({range:r,index:Uy.queryTargetsIndexName},(function(e,n,r){var a=gg(n);av(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zg(e);return t.forEach((function(t){var o=Ey(t.path);i.push(a.put(new Vy(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),$y.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zg(e);return $y.forEach(t,(function(t){var a=Ey(t.path);return $y.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zg(e),i=Dm();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Ay(e[1]),a=new Fp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ey(t.path),r=IDBKeyRange.bound([n],[mp(n)],!1,!0),i=0;return zg(e).jt({index:Vy.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ug(e).get(t).next((function(e){return e?gg(e):null}))}}]),e}();function Ug(e){return og(e,Uy.store)}function Vg(e){return og(e,zy.store)}function zg(e){return og(e,Vy.store)}function Bg(e){return qg.apply(this,arguments)}function qg(){return qg=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ep.FAILED_PRECONDITION&&t.message===Gy){e.next=2;break}throw t;case 2:Gd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Wg(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=pp(r,o);return 0===u?pp(i,s):u}var Hg=function(){function e(t){Oo(this,e),this.he=t,this.buffer=new Im(Wg),this.le=0}return Lo(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Wg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Kg=function(){function e(t,n){Oo(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Lo(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Gd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!eg(n.t0)){n.next=12;break}Gd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Bg(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Gg=function(){function e(t,n){Oo(this,e),this.ge=t,this.params=n}return Lo(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $y.resolve(fp.I);var r=new Hg(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gd("LruGarbageCollector","Garbage collection skipped; disabled"),$y.resolve(Cg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Cg):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Kd()<=Lu.DEBUG&&Gd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),$y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Qg=function(){function e(t,n){Oo(this,e),this.db=t,this.garbageCollector=function(e,t){return new Gg(e,t)}(this,n)}return Lo(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $g(e,n)}},{key:"removeReference",value:function(e,t,n){return $g(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $g(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Mg(e).Qt((function(r){return Og(e,r,t).next((function(e){return e&&(n=!0),$y.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),zg(e).delete([0,Ey(o.path)])}))}));i.push(u)}})).next((function(){return $y.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $g(e,t)}},{key:"Ie",value:function(e,t){var n,r=zg(e),i=fp.I;return r.jt({index:Vy.documentTargetsIndex},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==fp.I&&t(new Fp(Ay(n)),i),i=u,n=s):i=fp.I})).next((function(){i!==fp.I&&t(new Fp(Ay(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $g(e,t){return zg(e).put(function(e,t){return new Vy(0,Ey(e.path),t)}(t,e.currentSequenceNumber))}var Yg=function(){function e(t,n){Oo(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Lo(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ys(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){wp(this.inner,(function(t,n){var r,i=Ys(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bp(this.inner)}}]),e}(),Jg=function(){function e(){Oo(this,e),this.changes=new Yg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lo(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:gp.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:tv.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$y.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Xg=function(){function e(t,n){Oo(this,e),this.k=t,this.Jt=n}return Lo(e,[{key:"addEntry",value:function(e,t,n){return tk(e).put(nk(t),n)}},{key:"removeEntry",value:function(e,t){var n=tk(e),r=nk(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return tk(e).get(nk(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return tk(e).get(nk(t)).next((function(e){return{document:n.be(t,e),size:Rg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cm();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Cm(),i=new xm(Fp.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Rg(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return $y.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return tk(e).jt({range:r},(function(e,t,r){for(var o=Fp.fromSegments(e);a&&Fp.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Cm(),a=t.path.length+1,o={};if(n.isEqual(gp.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=dg(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=jy.collectionReadTimeIndex}return tk(e).jt(o,(function(e,n,o){if(e.length===a){var s=fg(r.k,n);t.path.isPrefixOf(s.key.path)?Mv(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Zg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ek(e).get(Fy.key).next((function(e){return Xd(!!e),e}))}},{key:"Re",value:function(e,t){return ek(e).put(Fy.key,t)}},{key:"be",value:function(e,t){if(t){var n=fg(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(gp.min()))return n}return tv.newInvalidDocument(e)}}]),e}(),Zg=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Yg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Lo(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Im((function(e,t){return pp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=hg(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Rg(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=hg(t.De.k,tv.newNoDocument(a,gp.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),$y.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Jg);function ek(e){return og(e,Fy.store)}function tk(e){return og(e,jy.store)}function nk(e){return e.path.toArray()}var rk=function(){function e(t){Oo(this,e),this.k=t}return Lo(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Xd(n<r&&n>=0&&r<=11);var a=new Yy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ry.store)}(e),function(e){e.createObjectStore(Py.store,{keyPath:Py.keyPath}),e.createObjectStore(Oy.store,{keyPath:Oy.keyPath,autoIncrement:!0}).createIndex(Oy.userMutationsIndex,Oy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Dy.store)}(e),ik(e),function(e){e.createObjectStore(jy.store)}(e));var o=$y.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Vy.store),e.deleteObjectStore(Uy.store),e.deleteObjectStore(zy.store)}(e),ik(e)),o=o.next((function(){return function(e){var t=e.store(zy.store),n=new zy(0,0,gp.min().toTimestamp(),0);return t.put(zy.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Oy.store).Bt().next((function(n){e.deleteObjectStore(Oy.store),e.createObjectStore(Oy.store,{keyPath:Oy.keyPath,autoIncrement:!0}).createIndex(Oy.userMutationsIndex,Oy.userMutationsKeyPath,{unique:!0});var r=t.store(Oy.store),i=n.map((function(e){return r.put(e)}));return $y.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(qy.store,{keyPath:qy.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Fy.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(jy.store);t.createIndex(jy.readTimeIndex,jy.readTimeIndexPath,{unique:!1}),t.createIndex(jy.collectionReadTimeIndex,jy.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Wy.store,{keyPath:Wy.keyPath})}(e),function(e){e.createObjectStore(Hy.store,{keyPath:Hy.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(jy.store).jt((function(e,n){t+=Rg(n)})).next((function(){var n=new Fy(t);return e.store(Fy.store).put(Fy.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Py.store),r=e.store(Oy.store);return n.Bt().next((function(n){return $y.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Oy.userMutationsIndex,i).next((function(r){return $y.forEach(r,(function(r){Xd(r.userId===n.userId);var i=yg(t.k,r);return Ng(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Vy.store),n=e.store(jy.store);return e.store(zy.store).get(zy.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new _p(n),o=function(e){return[0,Ey(e)]}(a);r.push(t.get(o).next((function(n){return n?$y.resolve():function(n){return t.put(new Vy(0,Ey(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return $y.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(By.store,{keyPath:By.keyPath});var n=t.store(By.store),r=new Ig,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ey(i)})}};return t.store(jy.store).jt({Kt:!0},(function(e,t){var n=new _p(e);return i(n.popLast())})).next((function(){return t.store(Dy.store).jt({Kt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Ay(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Uy.store);return n.jt((function(e,r){var i=gg(r),a=kg(t.k,i);return n.put(a)}))}}]),e}();function ik(e){e.createObjectStore(Vy.store,{keyPath:Vy.keyPath}).createIndex(Vy.documentTargetsIndex,Vy.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Uy.store,{keyPath:Uy.keyPath}).createIndex(Uy.queryTargetsIndexName,Uy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zy.store)}var ak="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ok=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Oo(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new tp(ep.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qg(this,i),this.Ge=n+"main",this.k=new lg(u),this.ze=new Jy(this.Ge,11,new rk(this.k)),this.He=new Fg(this.referenceDelegate,this.k),this.Jt=new Eg,this.Je=function(e,t){return new Xg(e,t)}(this.k,this.Jt),this.Ye=new bg,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Qd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Lo(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tp(ep.FAILED_PRECONDITION,ak);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new fp(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Cu(Nu().mark((function n(r){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Cu(Nu().mark((function t(n){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return uk(t).put(new qy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(eg(t))return Gd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return sk(e).get(Ry.key).next((function(e){return $y.resolve(t.un(e))}))}},{key:"hn",value:function(e){return uk(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i,a=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=og(e,qy.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $y.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Ys(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?$y.resolve(!0):sk(e).get(Ry.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new tp(ep.FAILED_PRECONDITION,ak);return!1}}return!(!t.networkEnabled||!t.inForeground)||uk(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Cu(Nu().mark((function e(){var t=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Ry.store,qy.store],(function(e){var n=new ag(e,fp.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return uk(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Pg.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Gd("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Ky,(function(a){return i=new ag(a,r.Be?r.Be.next():fp.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Qd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new tp(ep.FAILED_PRECONDITION,Gy);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return sk(e).get(Ry.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new tp(ep.FAILED_PRECONDITION,ak)}))}},{key:"an",value:function(e){var t=new Ry(this.clientId,this.allowTabSynchronization,Date.now());return sk(e).put(Ry.key,t)}},{key:"cn",value:function(e){var t=this,n=sk(e);return n.get(Ry.key).next((function(e){return t.un(e)?(Gd("IndexedDbPersistence","Releasing primary lease."),n.delete(Ry.key)):$y.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Qd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!uu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Gd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Bc){Qd("Failed to set zombie client id.",Bc)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Bc){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Jy.Pt()}}]),e}();function sk(e){return og(e,Ry.store)}function uk(e){return og(e,qy.store)}function ck(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var lk=Lo((function e(t,n){Oo(this,e),this.progress=t,this.In=n})),fk=function(){function e(t,n,r){Oo(this,e),this.Je=t,this.An=n,this.Jt=r}return Lo(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Ys(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Ys(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Fp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Av(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Fp(t)).next((function(e){var t=Nm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Nm();return this.Jt.getCollectionParents(e,i).next((function(o){return $y.forEach(o,(function(o){var s=function(e,t){return new xv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Ys(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Ys(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=tv.newInvalidDocument(c),r=r.insert(c,l)),om(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Mv(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Dm(),a=Ys(t);try{for(a.s();!(r=a.n()).done;){var o,s=Ys(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof fm&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),hk=function(){function e(t,n,r,i){Oo(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Lo(e,null,[{key:"$n",value:function(t,n){var r,i=Dm(),a=Dm(),o=Ys(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dk=function(){function e(){Oo(this,e)}return Lo(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(gp.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Iv(t)||Ev(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Kd()<=Lu.DEBUG&&Gd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lv(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Im(jv(e));return t.forEach((function(t,r){Mv(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Kd()<=Lu.DEBUG&&Gd("QueryEngine","Using full collection scan to execute query:",Lv(t)),this.Mn.getDocumentsMatchingQuery(e,t,gp.min())}}]),e}(),pk=function(){function e(t,n,r,i){Oo(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new xm(pp),this.Kn=new Yg((function(e){return iv(e)}),av),this.jn=gp.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new fk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Lo(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function vk(e,t,n,r){return new pk(e,t,n,r)}function mk(e,t){return yk.apply(this,arguments)}function yk(){return yk=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new fk(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Dm(),u=Ys(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Ys(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ys(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ys(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e,t){var n=Zd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$y.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Xd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function kk(e){var t=Zd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function wk(e,t){var n=Zd(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Tp.EMPTY_BYTE_STRING,gp.min()).withLastLimboFreeSnapshotVersion(gp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Cm();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bk(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(gp.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return $y.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function bk(e,t,n,r,i){var a=Dm();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Cm();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gp.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Gd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function xk(e,t){var n=Zd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function _k(e,t){var n=Zd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,$y.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new cg(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Sk(e,t,n){return Ik.apply(this,arguments)}function Ik(){return Ik=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zd(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),eg(e.t1)){e.next=12;break}throw e.t1;case 12:Gd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ik.apply(this,arguments)}function Ek(e,t,n){var r=Zd(e),i=gp.min(),a=Dm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zd(e),i=r.Kn.get(n);return void 0!==i?$y.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Rv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:gp.min(),n?a:Dm())})).next((function(e){return{documents:e,zn:a}}))}))}function Tk(e,t){var n=Zd(e),r=Zd(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ck(e){var t=Zd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Zd(e),i=Cm(),a=dg(n),o=tk(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:jy.readTimeIndex,range:s},(function(e,t){var n=fg(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:pg(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Ak(e){return Nk.apply(this,arguments)}function Nk(){return Nk=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zd(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=tk(e),n=gp.min();return t.jt({index:jy.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=pg(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Rk(e,t,n,r){return Pk.apply(this,arguments)}function Pk(){return Pk=Cu(Nu().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Zd(t),o=Dm(),s=Cm(),u=Pm(),c=Ys(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,_k(a,function(e){return Rv(Sv(_p.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bk(e,d,s,gp.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Ok(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=Cu(Nu().mark((function e(t,n){var r,i,a,o=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Dm(),e.next=3,_k(t,Rv(wg(n.bundledQuery)));case 3:return i=e.sent,a=Zd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Xm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Tp.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}var Lk=function(){function e(t){Oo(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Lo(e,[{key:"getBundleMetadata",value:function(e,t){return $y.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Xm(n.createTime)}),$y.resolve()}},{key:"getNamedQuery",value:function(e,t){return $y.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:wg(e.bundledQuery),readTime:Xm(e.readTime)}}(t)),$y.resolve()}}]),e}(),Mk=function(){function e(){Oo(this,e),this.ts=new Im(jk.es),this.ns=new Im(jk.ss)}return Lo(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new jk(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new jk(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Fp(new _p([])),r=new jk(n,e),i=new jk(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Fp(new _p([])),n=new jk(t,e),r=new jk(t,e+1),i=Dm();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new jk(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),jk=function(){function e(t,n){Oo(this,e),this.key=t,this.fs=n}return Lo(e,null,[{key:"es",value:function(e,t){return Fp.comparator(e.key,t.key)||pp(e.fs,t.fs)}},{key:"ss",value:function(e,t){return pp(e.fs,t.fs)||Fp.comparator(e.key,t.key)}}]),e}(),Fk=function(){function e(t,n){Oo(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Im(jk.es)}return Lo(e,[{key:"checkEmpty",value:function(e){return $y.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new sg(i,t,n,r);this.An.push(a);var o,s=Ys(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new jk(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return $y.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $y.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return $y.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $y.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return $y.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new jk(t,0),i=new jk(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),$y.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Im(pp);return t.forEach((function(e){var t=new jk(e,0),i=new jk(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),$y.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fp.isDocumentKey(i)||(i=i.child(""));var a=new jk(new Fp(i),0),o=new Im(pp);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),$y.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Xd(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return $y.forEach(t.mutations,(function(i){var a=new jk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new jk(t,0),r=this.ws.firstAfterOrEqual(n);return $y.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,$y.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Uk=function(){function e(t,n){Oo(this,e),this.Jt=t,this.Ts=n,this.docs=new xm(Fp.comparator),this.size=0}return Lo(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $y.resolve(n?n.document.mutableCopy():tv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tv.newInvalidDocument(e))})),$y.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Cm(),i=new Fp(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Mv(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return $y.resolve(r)}},{key:"Es",value:function(e,t){return $y.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vk(this)}},{key:"getSize",value:function(e){return $y.resolve(this.size)}}]),e}(),Vk=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).De=e,r}return Lo(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),$y.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Jg),zk=function(){function e(t){Oo(this,e),this.persistence=t,this.Is=new Yg((function(e){return iv(e)}),av),this.lastRemoteSnapshotVersion=gp.min(),this.highestTargetId=0,this.As=0,this.Rs=new Mk,this.targetCount=0,this.bs=jg.ie()}return Lo(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),$y.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $y.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $y.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),$y.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),$y.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new jg(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,$y.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),$y.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,$y.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),$y.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $y.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return $y.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),$y.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$y.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),$y.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return $y.resolve(n)}},{key:"containsKey",value:function(e,t){return $y.resolve(this.Rs.containsKey(t))}}]),e}(),Bk=function(){function e(t,n){var r=this;Oo(this,e),this.Ps={},this.Be=new fp(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new zk(this),this.Jt=new Sg,this.Je=function(e,t){return new Uk(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new lg(n),this.Ye=new Lk(this.k)}return Lo(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Fk(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Gd("MemoryPersistence","Starting transaction:",e);var i=new qk(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return $y.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qk=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lo(n)}(Qy),Wk=function(){function e(t){Oo(this,e),this.persistence=t,this.Cs=new Mk,this.Ns=null}return Lo(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Jd()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),$y.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),$y.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),$y.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $y.forEach(this.xs,(function(r){var i=Fp.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return $y.or([function(){return $y.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Hk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Kk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Gk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Qk=function(){function e(t,n,r,i){Oo(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Lo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new tp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Qd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$k=function(){function e(t,n,r){Oo(this,e),this.targetId=t,this.state=n,this.error=r}return Lo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tp(i.error.code,i.error.message))),a?new e(t,i.state,r):(Qd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Yk=function(){function e(t,n){Oo(this,e),this.clientId=t,this.activeTargetIds=n}return Lo(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Mm(),o=0;i&&o<r.activeTargetIds.length;++o)i=jp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Qd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Jk=function(){function e(t,n){Oo(this,e),this.clientId=t,this.onlineState=n}return Lo(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Xk=function(){function e(){Oo(this,e),this.activeTargetIds=Mm()}return Lo(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zk=function(){function e(t,n,r,i,a){Oo(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new xm(pp),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Hk(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Xk),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Lo(e,[{key:"start",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Ys(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Hk(this.persistenceKey,i)))&&(o=Yk.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Ys(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Gk(this.persistenceKey,e));if(n){var r=$k.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Gk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Qd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Cu(Nu().mark((function e(){var r,i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=fp.I;if(null!=e)try{var n=JSON.parse(e);Xd("number"==typeof n),t=n}catch(e){Qd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==fp.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Qk(this.currentUser,e,t,n),i=Kk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Kk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Gk(this.persistenceKey,e),i=new $k(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Yk.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qk.Os(new qd(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return $k.Os(r,t)}},{key:"Zs",value:function(e){return Jk.Os(e)}},{key:"fi",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Gd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Mm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ew=function(){function e(){Oo(this,e),this.pi=new Xk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lo(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Xk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),tw=function(){function e(){Oo(this,e)}return Lo(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nw=function(){function e(){var t=this;Oo(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Lo(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Gd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ys(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Gd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ys(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iw=function(){function e(t){Oo(this,e),this.Vi=t.Vi,this.Si=t.Si}return Lo(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),aw=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Lo(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new zd;o.listenOnce(Md.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ld.NO_ERROR:var t=o.getResponseJson();Gd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ld.TIMEOUT:Gd("Connection",'RPC "'+e+'" timed out'),a(new tp(ep.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:var n=o.getStatus();if(Gd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ep).indexOf(t)>=0?t:ep.UNKNOWN}(r.status);a(new tp(s,r.message))}else a(new tp(ep.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tp(ep.UNAVAILABLE,"Connection failed."));break;default:Jd()}}finally{Gd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Od(),a=Dd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ud({})),this.qi(o.initMessageHeaders,t,n),su()||lu()||ou().indexOf("Electron/")>=0||fu()||ou().indexOf("MSAppHost/")>=0||cu()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Gd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new iw({Vi:function(e){l?Gd("Connection","Not sending because WebChannel is closed:",e):(c||(Gd("Connection","Opening WebChannel transport."),u.open(),c=!0),Gd("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Vd.EventType.OPEN,(function(){l||Gd("Connection","WebChannel transport opened.")})),h(u,Vd.EventType.CLOSE,(function(){l||(l=!0,Gd("Connection","WebChannel transport closed"),f.Oi())})),h(u,Vd.EventType.ERROR,(function(e){l||(l=!0,$d("Connection","WebChannel transport errored:",e),f.Oi(new tp(ep.UNAVAILABLE,"The operation could not be completed")))})),h(u,Vd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Xd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Gd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vm[e];if(void 0!==t)return bm(t)}(a),s=i.message;void 0===o&&(o=ep.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new tp(o,s)),u.close()}else Gd("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,jd.STAT_EVENT,(function(e){e.stat===Fd.PROXY?Gd("Connection","Detected buffering proxy"):e.stat===Fd.NOPROXY&&Gd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Oo(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lo(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Gd("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Gd("RestConnection","Received: ",e),e}),(function(t){throw $d("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=rw[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function ow(){return"undefined"!=typeof window?window:null}function sw(){return"undefined"!=typeof document?document:null}function uw(e){return new Qm(e,!0)}var cw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Oo(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Lo(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Gd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),lw=function(){function e(t,n,r,i,a,o,s,u){Oo(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new cw(t,n)}return Lo(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===ep.RESOURCE_EXHAUSTED?(Qd(n.toString()),Qd("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===ep.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new tp(ep.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Gd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Gd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fw=function(e){So(n,e);var t=No(n);function n(e,r,i,a,o,s){var u;return Oo(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Lo(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Xd(void 0===t||"string"==typeof t),Tp.fromBase64String(t||"")):(Xd(void 0===t||t instanceof Uint8Array),Tp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ep.UNKNOWN:bm(e.code);return new tp(t,e.message||"")}(o);n=new zm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ny(e,u.document.name),l=Xm(u.document.updateTime),f=new Zp({mapValue:{fields:u.document.fields}}),h=tv.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Um(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ny(e,v.document),y=v.readTime?Xm(v.readTime):gp.min(),g=tv.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Um([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=ny(e,w.document),x=w.removedTargetIds||[];n=new Um([],x,b,null)}else{if(!("filter"in t))return Jd();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new km(S),E=_.targetId;n=new Vm(E,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return gp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gp.min():t.readTime?Xm(t.readTime):gp.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=ay(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=ov(r)?{documents:hy(e,r)}:{query:dy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ym(e,t.resumeToken):t.snapshotVersion.compareTo(gp.min())>0&&(n.readTime=$m(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=ay(this.k),t.removeTarget=e,this.gr(t)}}]),n}(lw),hw=function(e){So(n,e);var t=No(n);function n(e,r,i,a,o,s){var u;return Oo(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Lo(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Tc(Io(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Xd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Xd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Xm(e.updateTime):Xm(t);return n.isEqual(gp.min())&&(n=Xm(t)),new tm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Xm(e.commitTime);return this.listener.Cr(n,t)}return Xd(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=ay(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ly(t.k,e)}))};this.gr(n)}}]),n}(lw),dw=function(e){So(n,e);var t=No(n);function n(e,r,i,a){var o;return Oo(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Lo(n,[{key:"Or",value:function(){if(this.$r)throw new tp(ep.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ep.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tp(ep.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ep.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tp(ep.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Lo((function e(){Oo(this,e)}))}()),pw=function(){function e(t,n){Oo(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Lo(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Qd(t),this.Lr=!1):Gd("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),vw=Lo((function e(t,n,r,i,a){var o=this;Oo(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ew(o),!e.t0){e.next=5;break}return Gd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zd(t)).Gr.add(4),e.next=4,gw(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,mw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new pw(r,i)}));function mw(e){return yw.apply(this,arguments)}function yw(){return yw=Cu(Nu().mark((function e(t){var n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ew(t)){e.next=18;break}n=Ys(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yw.apply(this,arguments)}function gw(e){return kw.apply(this,arguments)}function kw(){return kw=Cu(Nu().mark((function e(t){var n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ys(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kw.apply(this,arguments)}function ww(e,t){var n=Zd(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Iw(n)?Sw(n):tb(n).lr()&&xw(n,t))}function bw(e,t){var n=Zd(e),r=tb(n);n.Wr.delete(t),r.lr()&&_w(n,t),0===n.Wr.size&&(r.lr()?r._r():Ew(n)&&n.Jr.set("Unknown"))}function xw(e,t){e.Yr.X(t.targetId),tb(e).Pr(t)}function _w(e,t){e.Yr.X(t),tb(e).vr(t)}function Sw(e){e.Yr=new qm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),tb(e).start(),e.Jr.Br()}function Iw(e){return Ew(e)&&!tb(e).hr()&&e.Wr.size>0}function Ew(e){return 0===Zd(e).Gr.size}function Tw(e){e.Yr=void 0}function Cw(e){return Aw.apply(this,arguments)}function Aw(){return Aw=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){xw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Nw(e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tw(t),Iw(t)?(t.Jr.Kr(n),Sw(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Pw(e,t,n){return Ow.apply(this,arguments)}function Ow(){return Ow=Cu(Nu().mark((function e(t,n,r){var i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof zm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ys(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Dw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Um?t.Yr.ot(n):n instanceof Vm?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(gp.min())){e.next=29;break}return e.prev=14,e.next=17,kk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Tp.EMPTY_BYTE_STRING,n.snapshotVersion)),_w(e,t);var r=new cg(n.target,t,1,n.sequenceNumber);xw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Dw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ow.apply(this,arguments)}function Dw(e,t,n){return Lw.apply(this,arguments)}function Lw(){return Lw=Cu(Nu().mark((function e(t,n,r){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eg(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,gw(t);case 5:t.Jr.set("Offline"),r||(r=function(){return kk(t.localStore)}),t.asyncQueue.enqueueRetryable(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,mw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t){return t().catch((function(n){return Dw(e,n,t)}))}function jw(e){return Fw.apply(this,arguments)}function Fw(){return Fw=Cu(Nu().mark((function e(t){var n,r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Zd(t),r=nb(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Uw(n)){e.next=19;break}return e.prev=3,e.next=6,xk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Vw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Dw(n,e.t0);case 17:e.next=2;break;case 19:zw(n)&&Bw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Fw.apply(this,arguments)}function Uw(e){return Ew(e)&&e.Qr.length<10}function Vw(e,t){e.Qr.push(t);var n=nb(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function zw(e){return Ew(e)&&!nb(e).hr()&&e.Qr.length>0}function Bw(e){nb(e).start()}function qw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nb(t).kr();case 1:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Hw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=Cu(Nu().mark((function e(t){var n,r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nb(t),r=Ys(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Gw(e,t,n){return Qw.apply(this,arguments)}function Qw(){return Qw=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=ug.from(i,n,r),e.next=3,Mw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,jw(t);case 5:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function $w(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&nb(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wm(i=n.code)||i===ep.ABORTED){e.next=7;break}return r=t.Qr.shift(),nb(t).wr(),e.next=5,Mw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,jw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zw(t)&&Bw(t);case 5:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zd(t)).asyncQueue.verifyOperationInProgress(),Gd("RemoteStore","RemoteStore received new credentials"),i=Ew(r),r.Gr.add(3),e.next=6,gw(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,mw(r);case 12:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Zw(e,t){return eb.apply(this,arguments)}function eb(){return eb=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zd(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,mw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,gw(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e){return e.Xr||(e.Xr=function(e,t,n){var r=Zd(e);return r.Or(),new fw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Cw.bind(null,e),Ni:Nw.bind(null,e),br:Pw.bind(null,e)}),e.zr.push(function(){var t=Cu(Nu().mark((function t(n){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Iw(e)?Sw(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Tw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function nb(e){return e.Zr||(e.Zr=function(e,t,n){var r=Zd(e);return r.Or(),new hw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:qw.bind(null,e),Ni:$w.bind(null,e),Nr:Hw.bind(null,e),Cr:Gw.bind(null,e)}),e.zr.push(function(){var t=Cu(Nu().mark((function t(n){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,jw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Gd("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var rb=function(){function e(t,n,r,i,a){Oo(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new np,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lo(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tp(ep.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ib(e,t){if(Qd("AsyncQueue","".concat(t,": ").concat(e)),eg(e))return new tp(ep.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ab=function(){function e(t){Oo(this,e),this.comparator=t?function(e,n){return t(e,n)||Fp.comparator(e.key,n.key)}:function(e,t){return Fp.comparator(e.key,t.key)},this.keyedMap=Nm(),this.sortedSet=new xm(this.comparator)}return Lo(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ob=function(){function e(){Oo(this,e),this.eo=new xm(Fp.comparator)}return Lo(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Jd():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),sb=function(){function e(t,n,r,i,a,o,s,u){Oo(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Lo(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,ab.emptySet(n),a,r,i,!0,!1)}}]),e}(),ub=Lo((function e(){Oo(this,e),this.so=void 0,this.listeners=[]})),cb=Lo((function e(){Oo(this,e),this.queries=new Yg((function(e){return Dv(e)}),Ov),this.onlineState="Unknown",this.io=new Set}));function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=Cu(Nu().mark((function e(t,n){var r,i,a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ub),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ib(e.t0,"Initialization of query '".concat(Lv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&mb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),fb.apply(this,arguments)}function hb(e,t){return db.apply(this,arguments)}function db(){return db=Cu(Nu().mark((function e(t,n){var r,i,a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){var n,r=Zd(e),i=!1,a=Ys(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ys(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&mb(r)}function vb(e,t,n){var r=Zd(e),i=r.queries.get(t);if(i){var a,o=Ys(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function mb(e){e.io.forEach((function(e){e.next()}))}var yb=function(){function e(t,n,r){Oo(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Lo(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ys(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new sb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=sb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),gb=function(){function e(t,n){Oo(this,e),this.payload=t,this.byteLength=n}return Lo(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),kb=function(){function e(t){Oo(this,e),this.k=t}return Lo(e,[{key:"Hn",value:function(e){return ny(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?uy(this.k,e.document,!1):tv.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Xm(e)}}]),e}(),wb=function(){function e(t,n,r){Oo(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=bb(t)}return Lo(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new kb(this.k),i=Ys(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Ys(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Dm()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rk(this.localStore,new kb(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Ys(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ok(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new lk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function bb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xb=Lo((function e(t){Oo(this,e),this.key=t})),_b=Lo((function e(t){Oo(this,e),this.key=t})),Sb=function(){function e(t,n){Oo(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Dm(),this.mutatedKeys=Dm(),this.Ao=jv(t),this.Ro=new ab(this.Ao)}return Lo(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new ob,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Iv(this.query)&&i.size===this.query.limit?i.last():null,c=Ev(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Iv(this.query)||Ev(this.query))for(;o.size>this.query.limit;){var l=Iv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jd()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new sb(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ob,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Dm(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new _b(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new xb(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Dm();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return sb.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Ib=Lo((function e(t,n,r){Oo(this,e),this.query=t,this.targetId=n,this.view=r})),Eb=Lo((function e(t){Oo(this,e),this.key=t,this.$o=!1})),Tb=function(){function e(t,n,r,i,a,o){Oo(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Yg((function(e){return Dv(e)}),Ov),this.Fo=new Map,this.Lo=new Set,this.Bo=new xm(Fp.comparator),this.Uo=new Map,this.qo=new Mk,this.Ko={},this.jo=new Map,this.Qo=jg.re(),this.onlineState="Unknown",this.Wo=void 0}return Lo(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Cb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bx(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,_k(r.localStore,Rv(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Nb(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&ww(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Nb(e,t,n,r){return Rb.apply(this,arguments)}function Rb(){return Rb=Cu(Nu().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Cu(Nu().mark((function e(t,n,r,i){var a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Ek(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Jb(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ek(t.localStore,n,!0);case 3:return a=e.sent,o=new Sb(n,a.zn),s=o.Po(a.documents),u=Fm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Jb(t,r,c.Co),l=new Ib(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Pb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zd(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Ov(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Sk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bw(r.remoteStore,i.targetId),$b(r,i.targetId)})).catch(Bg);case 9:e.next=14;break;case 11:return $b(r,i.targetId),e.next=14,Sk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Db(e,t,n){return Lb.apply(this,arguments)}function Lb(){return Lb=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xx(t),e.prev=1,e.next=4,function(e,t){var n,r=Zd(e),i=yp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Dm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Ys(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=sm(c,n.get(c.key));null!=l&&s.push(new fm(c.key,l,ev(l.value.mapValue),nm.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new xm(pp)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ex(i,a.changes);case 9:return e.next=11,jw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ib(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Lb.apply(this,arguments)}function Mb(e,t){return jb.apply(this,arguments)}function jb(){return jb=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),e.prev=1,e.next=4,wk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Xd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Xd(n.$o):e.removedDocuments.size>0&&(Xd(n.$o),n.$o=!1))})),e.next=8,ex(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Bg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),jb.apply(this,arguments)}function Fb(e,t,n){var r=Zd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ys(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mb(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ub(e,t,n){return Vb.apply(this,arguments)}function Vb(){return Vb=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u,c;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Zd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new xm(Fp.comparator)).insert(o,tv.newNoDocument(o,gp.min())),u=Dm().add(o),c=new jm(gp.min(),new Map,new Im(pp),s,u),e.next=9,Mb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Zb(i),e.next=16;break;case 14:return e.next=16,Sk(i.localStore,n,!1).then((function(){return $b(i,n,r)})).catch(Bg);case 16:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function zb(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),i=n.batch.batchId,e.prev=1,e.next=4,gk(r.localStore,n);case 4:return a=e.sent,Qb(r,i,null),Gb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ex(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Bg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Bb.apply(this,arguments)}function qb(e,t,n){return Wb.apply(this,arguments)}function Wb(){return Wb=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zd(t),e.prev=1,e.next=4,function(e,t){var n=Zd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Xd(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Qb(i,n,r),Gb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ex(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Bg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wb.apply(this,arguments)}function Hb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ew((r=Zd(t)).remoteStore)||Gd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Zd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ib(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Kb.apply(this,arguments)}function Gb(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Qb(e,t,n){var r=Zd(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function $b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ys(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Yb(e,t)}))}function Yb(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(bw(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Zb(e))}function Jb(e,t,n){var r,i=Ys(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof xb?(e.qo.addReference(a.key,t),Xb(e,a)):a instanceof _b?(Gd("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Yb(e,a.key)):Jd()}}catch(o){i.e(o)}finally{i.f()}}function Xb(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Gd("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Zb(e))}function Zb(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Fp(_p.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Eb(n)),e.Bo=e.Bo.insert(n,r),ww(e.remoteStore,new cg(Rv(Sv(n.path)),r,2,fp.I))}}function ex(e,t,n){return tx.apply(this,arguments)}function tx(){return tx=Cu(Nu().mark((function e(t,n,r){var i,a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zd(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=hk.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $y.forEach(n,(function(t){return $y.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $y.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),eg(e.t0)){e.next=10;break}throw e.t0;case 10:Gd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ys(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Zd(t)).currentUser.isEqual(n)){e.next=11;break}return Gd("SyncEngine","User change. New user:",n.toKey()),e.next=5,mk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new tp(ep.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ex(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){var n=Zd(e),r=n.Uo.get(t);if(r&&r.$o)return Dm().add(r.key);var i=Dm(),a=n.Fo.get(t);if(!a)return i;var o,s=Ys(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),e.next=3,Ek(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Jb(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(e){return ux.apply(this,arguments)}function ux(){return ux=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zd(t),e.abrupt("return",Ck(n.localStore).then((function(e){return ex(n,e)})));case 2:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function cx(e,t,n,r){return lx.apply(this,arguments)}function lx(){return lx=Cu(Nu().mark((function e(t,n,r,i){var a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zd(t),e.next=3,function(e,t){var n=Zd(e),r=Zd(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):$y.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,jw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Qb(a,n,i||null),Gb(a,n),function(e,t){Zd(Zd(e).An).ee(t)}(a.localStore,n)):Jd();case 11:return e.next=13,ex(a,o);case 13:e.next=16;break;case 15:Gd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return hx=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bx(r=Zd(t)),xx(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,dx(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Zw(r.remoteStore,!0);case 9:o=Ys(a);try{for(o.s();!(s=o.n()).done;)u=s.value,ww(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $b(r,t),Sk(r.localStore,t,!0)})),bw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,dx(r,c);case 21:return function(e){var t=Zd(e);t.Uo.forEach((function(e,n){bw(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new xm(Fp.comparator)}(r),r.Wo=!1,e.next=25,Zw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e,t,n){return px.apply(this,arguments)}function px(){return px=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Zd(t),a=[],o=[],s=Ys(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,_k(i.localStore,Rv(f[0]));case 11:l=e.sent,h=Ys(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,ax(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Tk(i.localStore,c);case 36:return y=e.sent,e.next=39,_k(i.localStore,y);case 39:return l=e.sent,e.next=42,Nb(i,vx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),px.apply(this,arguments)}function vx(e){return _v(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mx(e){var t=Zd(e);return Zd(Zd(t.localStore).persistence).Tn()}function yx(e,t,n,r){return gx.apply(this,arguments)}function gx(){return gx=Cu(Nu().mark((function e(t,n,r,i){var a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zd(t)).Wo){e.next=5;break}Gd("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ck(a.localStore);case 11:return o=e.sent,s=jm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,ex(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Sk(a.localStore,n,!0);case 18:return $b(a,n,i),e.abrupt("break",21);case 20:Jd();case 21:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t,n){return wx.apply(this,arguments)}function wx(){return wx=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=bx(t)).Wo){e.next=45;break}a=Ys(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Gd("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Tk(i.localStore,s);case 12:return u=e.sent,e.next=15,_k(i.localStore,u);case 15:return c=e.sent,e.next=18,Nb(i,vx(u),c.targetId,!1);case 18:ww(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ys(r),e.prev=30,h=Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Sk(i.localStore,t,!1).then((function(){bw(i.remoteStore,t),$b(i,t)})).catch(Bg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),wx.apply(this,arguments)}function bx(e){var t=Zd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ub.bind(null,t),t.Oo.br=pb.bind(null,t.eventManager),t.Oo.zo=vb.bind(null,t.eventManager),t}function xx(e){var t=Zd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qb.bind(null,t),t}function _x(e,t,n){var r=Zd(e);(function(){var e=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Zd(e),r=Xm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(bb(i)),a=new wb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,ex(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Zd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),$d("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Sx=function(){function e(){Oo(this,e),this.synchronizeTabs=!1}return Lo(e,[{key:"initialize",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=uw(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return vk(this.persistence,new dk,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Bk(Wk.ks,this.k)}},{key:"Jo",value:function(e){return new ew}},{key:"terminate",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ix=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Lo(n,[{key:"initialize",value:function(){var e=Cu(Nu().mark((function e(t){var r=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Io(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Ak(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,xx(this.tc.syncEngine);case 8:return e.next=10,jw(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return vk(this.persistence,new dk,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Kg(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ag.withCacheSize(this.cacheSizeBytes):Ag.DEFAULT;return new ok(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ow(),sw(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new ew}}]),n}(Sx),Ex=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Lo(n,[{key:"initialize",value:function(){var e=Cu(Nu().mark((function e(t){var r,i=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Io(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Zk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:cx.bind(null,r),gi:yx.bind(null,r),yi:kx.bind(null,r),Tn:mx.bind(null,r),_i:sx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fx(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=ow();if(!Zk.Pt(t))throw new tp(ep.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Ix),Tx=function(){function e(){Oo(this,e)}return Lo(e,[{key:"initialize",value:function(){var e=Cu(Nu().mark((function e(t,n){var r=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Fb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nx.bind(null,this.syncEngine),e.next=12,Zw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new cb}},{key:"createDatastore",value:function(e){var t,n=uw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new aw(t));return function(e,t,n,r){return new dw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Fb(o.syncEngine,e,0)},a=nw.Pt()?new nw:new tw,new vw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Tb(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zd(t),Gd("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,gw(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Cx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Cu(Nu().mark((function r(){var i;return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ax=function(){function e(t){Oo(this,e),this.observer=t,this.muted=!1}return Lo(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Nx=function(){function e(t,n){var r=this;Oo(this,e),this.sc=t,this.k=n,this.metadata=new np,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Lo(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new gb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Cu(Nu().mark((function e(){var t,n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Cu(Nu().mark((function e(){var t,n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rx=function(){function e(t){Oo(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Lo(e,[{key:"lookup",value:function(){var e=Cu(Nu().mark((function e(t){var n,r=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new tp(ep.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),i=ay(r.k)+"/documents",a={documents:n.map((function(e){return ty(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=cy(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Xd(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ym(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Cu(Nu().mark((function e(){var t,n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Fp.fromPath(t);n.mutations.push(new gm(r,n.precondition(r)))})),e.next=7,function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t),i=ay(r.k)+"/documents",a={writes:n.map((function(e){return ly(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jd();t=gp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tp(ep.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nm.updateTime(t):nm.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gp.min()))throw new tp(ep.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nm.updateTime(t)}return nm.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Px=function(){function e(t,n,r,i){Oo(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new cw(this.asyncQueue,"transaction_retry")}return Lo(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Cu(Nu().mark((function t(){var n,r;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Rx(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Lp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wm(t)}return!1}}]),e}(),Ox=function(){function e(t,n,r,i){var a=this;Oo(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qd.UNAUTHENTICATED,this.clientId=dp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Gd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lo(e,[{key:"getConfiguration",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new tp(ep.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new np;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Cu(Nu().mark((function n(){var r;return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ib(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Dx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t){return jx.apply(this,arguments)}function jx(){return jx=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Fx(t);case 3:return r=e.sent,Gd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Jw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Jw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Fx(e){return Ux.apply(this,arguments)}function Ux(){return Ux=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Gd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Dx(t,new Sx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e){return zx.apply(this,arguments)}function zx(){return zx=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Gd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Mx(t,new Tx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e){return Fx(e).then((function(e){return e.persistence}))}function qx(e){return Fx(e).then((function(e){return e.localStore}))}function Wx(e){return Vx(e).then((function(e){return e.remoteStore}))}function Hx(e){return Vx(e).then((function(e){return e.syncEngine}))}function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cb.bind(null,n.syncEngine),r.onUnlisten=Pb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function i(){return Nu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ax({next:function(a){t.enqueueAndForget((function(){return hb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new tp(ep.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new tp(ep.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yb(Sv(n.path),a,{includeMetadataChanges:!0,wo:!0});return lb(e,o)},i.next=3,Kx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function i(){return Nu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ax({next:function(n){t.enqueueAndForget((function(){return hb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new tp(ep.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yb(n,a,{includeMetadataChanges:!0,wo:!0});return lb(e,o)},i.next=3,Kx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Yx=Lo((function e(t,n,r,i,a,o,s,u){Oo(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Jx=function(){function e(t,n){Oo(this,e),this.projectId=t,this.database=n||"(default)"}return Lo(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Xx=new Map;function Zx(e,t,n){if(!n)throw new tp(ep.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function e_(e,t,n,r){if(!0===t&&!0===r)throw new tp(ep.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function t_(e){if(!Fp.isDocumentKey(e))throw new tp(ep.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function n_(e){if(Fp.isDocumentKey(e))throw new tp(ep.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function r_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Jd()}function i_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tp(ep.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=r_(e);throw new tp(ep.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function a_(e,t){if(t<=0)throw new tp(ep.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var o_=function(){function e(t){var n;if(Oo(this,e),void 0===t.host){if(void 0!==t.ssl)throw new tp(ep.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tp(ep.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,e_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Lo(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),s_=function(){function e(t,n,r){Oo(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1,t instanceof Jx?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tp(ep.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jx(e.options.projectId)}(t))}return Lo(e,[{key:"app",get:function(){if(!this._app)throw new tp(ep.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new tp(ep.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ip;switch(e.type){case"gapi":var t=e.client;return Xd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new up(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new tp(ep.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Xx.get(e);t&&(Gd("ComponentProvider","Removing Datastore"),Xx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function u_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=i_(e,s_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$d("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=qd.MOCK_USER;else{o=au(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new tp(ep.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new qd(u)}e._authCredentials=new ap(new rp(o,s))}}var c_=function(){function e(t,n,r){Oo(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lo(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new f_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),l_=function(){function e(t,n,r){Oo(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lo(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),f_=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this,e,r,Sv(i)))._path=i,a.type="collection",a}return Lo(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new c_(this.firestore,null,new Fp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(l_);function h_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Eu(e),Zx("collection","path",t),e instanceof s_){var a=_p.fromString.apply(_p,[t].concat(r));return n_(a),new f_(e,null,a)}if(!(e instanceof c_||e instanceof f_))throw new tp(ep.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_p.fromString.apply(_p,[t].concat(r)));return n_(o),new f_(e.firestore,null,o)}function d_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Eu(e),1===arguments.length&&(t=dp.A()),Zx("doc","path",t),e instanceof s_){var a=_p.fromString.apply(_p,[t].concat(r));return t_(a),new c_(e,null,new Fp(a))}if(!(e instanceof c_||e instanceof f_))throw new tp(ep.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_p.fromString.apply(_p,[t].concat(r)));return t_(o),new c_(e.firestore,e instanceof f_?e.converter:null,new Fp(o))}function p_(e,t){return e=Eu(e),t=Eu(t),(e instanceof c_||e instanceof f_)&&(t instanceof c_||t instanceof f_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function v_(e,t){return e=Eu(e),t=Eu(t),e instanceof l_&&t instanceof l_&&e.firestore===t.firestore&&Ov(e._query,t._query)&&e.converter===t.converter}var m_=function(){function e(){var t=this;Oo(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new cw(this,"async_queue_retry"),this.bc=function(){var e=sw();e&&Gd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=sw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Lo(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=sw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new np;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Cu(Nu().mark((function e(){var t=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),eg(e.t0)){e.next=12;break}throw e.t0;case 12:Gd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=rb.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Jd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Ys(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ys(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function y_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ys(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var g_=function(){function e(){Oo(this,e),this._progressObserver={},this._taskCompletionResolver=new np,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Lo(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),k_=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new m_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Lo(n,[{key:"_terminate",value:function(){return this._firestoreClient||b_(this),this._firestoreClient.terminate()}}]),n}(s_);function w_(e){return e._firestoreClient||b_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function b_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Yx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ox(e._authCredentials,e._appCheckCredentials,e._queue,r)}function x_(e,t,n){var r=new np;return e.asyncQueue.enqueue(Cu(Nu().mark((function i(){return Nu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dx(e,n);case 3:return i.next=5,Mx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ep.FAILED_PRECONDITION||e.code===ep.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function __(e){return function(e){return e.asyncQueue.enqueue(Cu(Nu().mark((function t(){var n,r;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bx(e);case 2:return n=t.sent,t.next=5,Wx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Zd(e);return t.Gr.delete(0),mw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(w_(e=i_(e,k_)))}function S_(e){return function(e){return e.asyncQueue.enqueue(Cu(Nu().mark((function t(){var n,r;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bx(e);case 2:return n=t.sent,t.next=5,Wx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zd(t)).Gr.add(0),e.next=4,gw(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(w_(e=i_(e,k_)))}function I_(e,t){var n=w_(e=i_(e,k_)),r=new g_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Nx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Cx(e,t);if(e instanceof ArrayBuffer)return Cx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,uw(t));e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_x,t.next=3,Hx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function E_(e,t){return function(e,t){return e.asyncQueue.enqueue(Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Zd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,qx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(w_(e=i_(e,k_)),t).then((function(t){return t?new l_(e,null,t.query):null}))}function T_(e){if(e._initialized||e._terminated)throw new tp(ep.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var C_=function(){function e(){Oo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new tp(ep.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ip(n)}return Lo(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var A_=function(){function e(t){Oo(this,e),this._byteString=t}return Lo(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Tp.fromBase64String(t))}catch(t){throw new tp(ep.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Tp.fromUint8Array(t))}}]),e}(),N_=Lo((function e(t){Oo(this,e),this._methodName=t})),R_=function(){function e(t,n){if(Oo(this,e),!isFinite(t)||t<-90||t>90)throw new tp(ep.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tp(ep.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lo(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pp(this._lat,e._lat)||pp(this._long,e._long)}}]),e}(),P_=/^__.*__$/,O_=function(){function e(t,n,r){Oo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lo(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fm(e,this.data,this.fieldMask,t,this.fieldTransforms):new lm(e,this.data,t,this.fieldTransforms)}}]),e}(),D_=function(){function e(t,n,r){Oo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lo(e,[{key:"toMutation",value:function(e,t){return new fm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function L_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jd()}}var M_=function(){function e(t,n,r,i,a,o){Oo(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lo(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return nS(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(L_(this.$c)&&P_.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),j_=function(){function e(t,n,r){Oo(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||uw(t)}return Lo(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new M_({$c:e,methodName:t,jc:n,path:Ip.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function F_(e){var t=e._freezeSettings(),n=uw(e._databaseId);return new j_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function U_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);X_("Data must be an object, but it was:",o,r);var s,u,c=Y_(r,o);if(a.merge)s=new Ep(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ys(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Z_(t,d,n);if(!o.contains(p))throw new tp(ep.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));rS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Ep(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new O_(new Zp(c),s,u)}var V_=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(N_);function z_(e,t,n){return new M_({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var B_=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"_toFieldTransform",value:function(e){return new em(e.path,new Kv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(N_),q_=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e)).Wc=r,i}return Lo(n,[{key:"_toFieldTransform",value:function(e){var t=z_(this,e,!0),n=this.Wc.map((function(e){return $_(e,t)})),r=new Gv(n);return new em(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(N_),W_=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e)).Wc=r,i}return Lo(n,[{key:"_toFieldTransform",value:function(e){var t=z_(this,e,!0),n=this.Wc.map((function(e){return $_(e,t)})),r=new $v(n);return new em(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(N_),H_=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e)).Gc=r,i}return Lo(n,[{key:"_toFieldTransform",value:function(e){var t=new Jv(e.k,zv(e.k,this.Gc));return new em(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(N_);function K_(e,t,n,r){var i=e.Qc(1,t,n);X_("Data must be an object, but it was:",i,r);var a=[],o=Zp.empty();wp(r,(function(e,r){var s=tS(t,e,n);r=Eu(r);var u=i.Bc(s);if(r instanceof V_)a.push(s);else{var c=$_(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Ep(a);return new D_(o,s,i.fieldTransforms)}function G_(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[Z_(t,r,n)],u=[i];if(a.length%2!=0)throw new tp(ep.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Z_(t,a[c])),u.push(a[c+1]);for(var l=[],f=Zp.empty(),h=s.length-1;h>=0;--h)if(!rS(l,s[h])){var d=s[h],p=u[h];p=Eu(p);var v=o.Bc(d);if(p instanceof V_)l.push(d);else{var m=$_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ep(l);return new D_(f,y,o.fieldTransforms)}function Q_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $_(n,e.Qc(r?4:3,t))}function $_(e,t){if(J_(e=Eu(e)))return X_("Unsupported field value:",t,e),Y_(e,t);if(e instanceof N_)return function(e,t){if(!L_(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ys(e);try{for(a.s();!(n=a.n()).done;){var o=$_(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Eu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zv(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yp.fromDate(e);return{timestampValue:$m(t.k,n)}}if(e instanceof yp){var r=new yp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$m(t.k,r)}}if(e instanceof R_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof A_)return{bytesValue:Ym(t.k,e._byteString)};if(e instanceof c_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(r_(e)))}(e,t)}function Y_(e,t){var n={};return bp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wp(e,(function(e,r){var i=$_(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function J_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yp||e instanceof R_||e instanceof A_||e instanceof c_||e instanceof N_)}function X_(e,t,n){if(!J_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=r_(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Z_(e,t,n){if((t=Eu(t))instanceof C_)return t._internalPath;if("string"==typeof t)return tS(e,t);throw nS("Field path arguments must be of type string or ",e,!1,void 0,n)}var eS=new RegExp("[~\\*/\\[\\]]");function tS(e,t,n){if(t.search(eS)>=0)throw nS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Js(C_,Po(t.split(".")))._internalPath}catch(r){throw nS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function nS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new tp(ep.INVALID_ARGUMENT,s+e+u)}function rS(e,t){return e.some((function(e){return e.isEqual(t)}))}var iS=function(){function e(t,n,r,i,a){Oo(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lo(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new c_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new aS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),aS=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"data",value:function(){return Tc(Io(n.prototype),"data",this).call(this)}}]),n}(iS);function oS(e,t){return"string"==typeof t?tS(e,t):t instanceof C_?t._internalPath:t._delegate._internalPath}var sS=function(){function e(t,n){Oo(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lo(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),uS=function(e){So(n,e);var t=No(n);function n(e,r,i,a,o,s){var u;return Oo(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Lo(n,[{key:"exists",value:function(){return Tc(Io(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new cS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(iS),cS=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tc(Io(n.prototype),"data",this).call(this,e)}}]),n}(uS),lS=function(){function e(t,n,r,i){Oo(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sS(i.hasPendingWrites,i.fromCache),this.query=r}return Lo(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cS(n._firestore,n._userDataWriter,r.key,r,new sS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tp(ep.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new cS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:fS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function fS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jd()}}function hS(e,t){return e instanceof uS&&t instanceof uS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lS&&t instanceof lS&&e._firestore===t._firestore&&v_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function dS(e){if(Ev(e)&&0===e.explicitOrderBy.length)throw new tp(ep.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pS=Lo((function e(){Oo(this,e)}));function vS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var mS=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Lo(n,[{key:"_apply",value:function(e){var t=F_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new tp(ep.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){TS(o,a);var u,c=[],l=Ys(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(ES(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=ES(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||TS(o,a),s=Q_(n,"where",o,"in"===a||"not-in"===a);var h=sv.create(i,a,s);return function(e,t){if(t.V()){var n=Cv(e);if(null!==n&&!n.isEqual(t.field))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tv(e);null!==r&&CS(e,t.field,r)}var i=function(e,t){var n,r=Ys(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new tp(ep.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tp(ep.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new l_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new xv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(pS);var yS=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Lo(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new tp(ep.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tp(ep.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gv(t,n);return function(e,t){if(null===Tv(e)){var n=Cv(e);null!==n&&CS(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new l_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(pS);var gS=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Lo(n,[{key:"_apply",value:function(e){return new l_(e.firestore,e.converter,Pv(e._query,this.Xc,this.Zc))}}]),n}(pS);var kS=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Lo(n,[{key:"_apply",value:function(e){var t=IS(e,this.type,this.ta,this.ea);return new l_(e.firestore,e.converter,function(e,t){return new xv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(pS);function wS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kS("startAt",t,!0)}function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kS("startAfter",t,!1)}var xS=function(e){So(n,e);var t=No(n);function n(e,r,i){var a;return Oo(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Lo(n,[{key:"_apply",value:function(e){var t=IS(e,this.type,this.ta,this.ea);return new l_(e.firestore,e.converter,function(e,t){return new xv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(pS);function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xS("endBefore",t,!0)}function SS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xS("endAt",t,!1)}function IS(e,t,n,r){if(n[0]=Eu(n[0]),n[0]instanceof iS)return function(e,t,n,r,i){if(!r)throw new tp(ep.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ys(Nv(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Kp(t,r.key));else{var c=r.data.field(u.field);if(Pp(c))throw new tp(ep.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new tp(ep.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new mv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=F_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new tp(ep.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new tp(ep.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Av(e)&&-1!==c.indexOf("/"))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_p.fromString(c));if(!Fp.isDocumentKey(l))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Fp(l);s.push(Kp(t,f))}else{var h=Q_(n,r,c);s.push(h)}}return new mv(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ES(e,t,n){if("string"==typeof(n=Eu(n))){if(""===n)throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Av(t)&&-1!==n.indexOf("/"))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_p.fromString(n));if(!Fp.isDocumentKey(r))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kp(e,new Fp(r))}if(n instanceof c_)return Kp(e,n._key);throw new tp(ep.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(r_(n),"."))}function TS(e,t){if(!Array.isArray(e)||0===e.length)throw new tp(ep.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new tp(ep.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function CS(e,t,n){if(!n.isEqual(t))throw new tp(ep.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var AS=function(){function e(){Oo(this,e)}return Lo(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Up(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Np(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return wp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new R_(Np(e.latitude),Np(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Op(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ap(e);return new yp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_p.fromString(e);Xd(Iy(n));var r=new Jx(n.get(1),n.get(3)),i=new Fp(n.popFirst(5));return r.isEqual(t)||Qd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function NS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RS=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).firestore=e,r}return Lo(n,[{key:"convertBytes",value:function(e){return new A_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new c_(this.firestore,null,t)}}]),n}(AS),PS=function(){function e(t,n){Oo(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=F_(t)}return Lo(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=OS(e,this._firestore),i=NS(r.converter,t,n),a=U_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=OS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Eu(t))||t instanceof C_?G_(this._dataReader,"WriteBatch.update",i._key,t,n,o):K_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=OS(e,this._firestore);return this._mutations=this._mutations.concat(new ym(t._key,nm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new tp(ep.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function OS(e,t){if((e=Eu(e)).firestore!==t)throw new tp(ep.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var DS=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).firestore=e,r}return Lo(n,[{key:"convertBytes",value:function(e){return new A_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new c_(this.firestore,null,t)}}]),n}(AS);function LS(e){e=i_(e,c_);var t=i_(e.firestore,k_),n=w_(t),r=new DS(t);return function(e,t){var n=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function r(){return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Zd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new tp(ep.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ib(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new uS(t,r,e._key,n,new sS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function MS(e){e=i_(e,l_);var t=i_(e.firestore,k_),n=w_(t),r=new DS(t);return function(e,t){var n=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function r(){return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ek(t,n,!0);case 3:i=e.sent,a=new Sb(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=ib(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new lS(t,r,e,n)}))}function jS(e,t,n){e=i_(e,c_);var r=i_(e.firestore,k_),i=NS(e.converter,t,n);return zS(r,[U_(F_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nm.none())])}function FS(e,t,n){e=i_(e,c_);for(var r=i_(e.firestore,k_),i=F_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return zS(r,[("string"==typeof(t=Eu(t))||t instanceof C_?G_(i,"updateDoc",e._key,t,n,o):K_(i,"updateDoc",e._key,t)).toMutation(e._key,nm.exists(!0))])}function US(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Eu(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||y_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(y_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof c_)l=i_(e.firestore,k_),f=Sv(e._key.path),c={next:function(t){n[u]&&n[u](BS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=i_(e,l_);l=i_(p.firestore,k_),f=p._query;var v=new DS(l);c={next:function(e){n[u]&&n[u](new lS(l,v,p,e))},error:n[u+1],complete:n[u+2]},dS(e._query)}return function(e,t,n,r){var i=new Ax(r),a=new yb(t,i,n);return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lb,t.next=3,Kx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hb,t.next=3,Kx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(w_(l),f,h,c)}function VS(e,t){return function(e,t){var n=new Ax(t);return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zd(e).io.add(t),t.next()},t.next=3,Kx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zd(e).io.delete(t)},t.next=3,Kx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(w_(e=i_(e,k_)),y_(t)?t:{next:t})}function zS(e,t){return function(e,t){var n=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function r(){return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Db,r.next=3,Hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(w_(e),t)}function BS(e,t,n){var r=n.docs.get(t._key),i=new DS(e);return new uS(e,i,t._key,r,new sS(n.hasPendingWrites,n.fromCache),t.converter)}var qS=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,r))._firestore=e,i}return Lo(n,[{key:"get",value:function(e){var t=this,r=OS(e,this._firestore),i=new DS(this._firestore);return Tc(Io(n.prototype),"get",this).call(this,e).then((function(e){return new uS(t._firestore,i,r._key,e._document,new sS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Oo(this,e),this._firestore=t,this._transaction=n,this._dataReader=F_(t)}return Lo(e,[{key:"get",value:function(e){var t=this,n=OS(e,this._firestore),r=new RS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Jd();var i=e[0];if(i.isFoundDocument())return new iS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new iS(t._firestore,r,n._key,null,n.converter);throw Jd()}))}},{key:"set",value:function(e,t,n){var r=OS(e,this._firestore),i=NS(r.converter,t,n),a=U_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=OS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Eu(t))||t instanceof C_?G_(this._dataReader,"Transaction.update",i._key,t,n,o):K_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=OS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function WS(e,t){return function(e,t){var n=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function r(){var i;return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Vx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Px(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(w_(e=i_(e,k_)),(function(n){return t(new qS(e,n))}))}function HS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new q_("arrayUnion",t)}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new W_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wd=e}(lc),tc(new Ru("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new k_(i,new op(e.getProvider("auth-internal")),new lp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),mc(Bd,"3.4.4",e),mc(Bd,"3.4.4","esm2017")}();function GS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function QS(){if("undefined"===typeof Uint8Array)throw new tp("unimplemented","Uint8Arrays are not available in this environment.")}function $S(){if("undefined"==typeof atob)throw new tp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var YS=function(){function e(t){Oo(this,e),this._delegate=t}return Lo(e,[{key:"toBase64",value:function(){return $S(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return QS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $S(),new e(A_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return QS(),new e(A_.fromUint8Array(t))}}]),e}();function JS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ys(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XS=function(){function e(){Oo(this,e)}return Lo(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){T_(e=i_(e,k_));var n=w_(e),r=e._freezeSettings(),i=new Tx;return x_(n,i,new Ix(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){T_(e=i_(e,k_));var t=w_(e),n=e._freezeSettings(),r=new Tx;return x_(t,r,new Ex(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new tp(ep.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new np;return e._queue.enqueueAndForgetEvenWhileRestricted(Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jy.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Jy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ck(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ZS=function(){function e(t,n,r){var i=this;Oo(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Jx||(this._appCompat=t)}return Lo(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$d("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return __(this._delegate)}},{key:"disableNetwork",value:function(){return S_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&e_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new np;return e.asyncQueue.enqueueAndForget(Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Hb,n.next=3,Hx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(w_(e=i_(e,k_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return VS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new tp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dI(this,h_(this._delegate,e))}catch(t){throw aI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new iI(this,d_(this._delegate,e))}catch(t){throw aI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new lI(this,function(e,t){if(e=i_(e,s_),Zx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tp(ep.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new l_(e,null,function(e){return new xv(_p.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw aI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return WS(this._delegate,(function(n){return e(new tI(t,n))}))}},{key:"batch",value:function(){var e=this;return w_(this._delegate),new nI(new PS(this._delegate,(function(t){return zS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return I_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return E_(this._delegate,e).then((function(e){return e?new lI(t,e):null}))}}]),e}(),eI=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this)).firestore=e,r}return Lo(n,[{key:"convertBytes",value:function(e){return new YS(new A_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return iI.forKey(t,this.firestore,null)}}]),n}(AS);var tI=function(){function e(t,n){Oo(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new eI(t)}return Lo(e,[{key:"get",value:function(e){var t=this,n=pI(e);return this._delegate.get(n).then((function(e){return new uI(t._firestore,new uS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=pI(e);return n?(GS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=pI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pI(e);return this._delegate.delete(t),this}}]),e}(),nI=function(){function e(t){Oo(this,e),this._delegate=t}return Lo(e,[{key:"set",value:function(e,t,n){var r=pI(e);return n?(GS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=pI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),rI=function(){function e(t,n,r){Oo(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Lo(e,[{key:"fromFirestore",value:function(e,t){var n=new cS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new eI(t),n),i.set(n,a)),a}}]),e}();rI.INSTANCES=new WeakMap;var iI=function(){function e(t,n){Oo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eI(t)}return Lo(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dI(this.firestore,h_(this._delegate,e))}catch(t){throw aI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Eu(e))instanceof c_&&p_(this._delegate,e)}},{key:"set",value:function(e,t){t=GS("DocumentReference.set",t);try{return t?jS(this._delegate,e,t):jS(this._delegate,e)}catch(n){throw aI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FS(this._delegate,e):FS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw aI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zS(i_(e.firestore,k_),[new ym(e._key,nm.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oI(n),a=sI(n,(function(t){return new uI(e.firestore,new uS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return US(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?LS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=i_(e,c_);var t=i_(e.firestore,k_);return Qx(w_(t),e._key,{source:"server"}).then((function(n){return BS(t,e,n)}))}(this._delegate):function(e){e=i_(e,c_);var t=i_(e.firestore,k_);return Qx(w_(t),e._key).then((function(n){return BS(t,e,n)}))}(this._delegate),t.then((function(e){return new uI(n.firestore,new uS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new tp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new c_(n._delegate,r,new Fp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new c_(n._delegate,r,t))}}]),e}();function aI(e,t,n){return e.message=e.message.replace(t,n),e}function oI(e){var t,n=Ys(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!JS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function sI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=JS(e[0])?e[0]:JS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uI=function(){function e(t,n){Oo(this,e),this._firestore=t,this._delegate=n}return Lo(e,[{key:"ref",get:function(){return new iI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return hS(this._delegate,e._delegate)}}]),e}(),cI=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Jd()}(void 0!==t),t}}]),n}(uI),lI=function(){function e(t,n){Oo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eI(t)}return Lo(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,vS(this._delegate,function(e,t,n){var r=t,i=oS("where",e);return new mS(i,r,n)}(t,n,r)))}catch(i){throw aI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,vS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=oS("orderBy",e);return new yS(n,t)}(t,n)))}catch(r){throw aI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,vS(this._delegate,function(e){return a_("limit",e),new gS("limit",e,"F")}(t)))}catch(n){throw aI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,vS(this._delegate,function(e){return a_("limitToLast",e),new gS("limitToLast",e,"L")}(t)))}catch(n){throw aI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,vS(this._delegate,wS.apply(void 0,arguments)))}catch(t){throw aI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,vS(this._delegate,bS.apply(void 0,arguments)))}catch(t){throw aI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,vS(this._delegate,_S.apply(void 0,arguments)))}catch(t){throw aI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,vS(this._delegate,SS.apply(void 0,arguments)))}catch(t){throw aI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return v_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=i_(e,l_);var t=i_(e.firestore,k_),n=w_(t),r=new DS(t);return $x(n,e._query,{source:"server"}).then((function(n){return new lS(t,r,e,n)}))}(this._delegate):function(e){e=i_(e,l_);var t=i_(e.firestore,k_),n=w_(t),r=new DS(t);return dS(e._query),$x(n,e._query).then((function(n){return new lS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new hI(n.firestore,new lS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oI(n),a=sI(n,(function(t){return new hI(e.firestore,new lS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return US(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),fI=function(){function e(t,n){Oo(this,e),this._firestore=t,this._delegate=n}return Lo(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new cI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),hI=function(){function e(t,n){Oo(this,e),this._firestore=t,this._delegate=n}return Lo(e,[{key:"query",get:function(){return new lI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new cI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new fI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new cI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return hS(this._delegate,e._delegate)}}]),e}(),dI=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Lo(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new iI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new iI(this.firestore,void 0===e?d_(this._delegate):d_(this._delegate,e))}catch(t){throw aI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=i_(e.firestore,k_),r=d_(e),i=NS(e.converter,t);return zS(n,[U_(F_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nm.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new iI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return p_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(rI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(lI);function pI(e){return i_(e,c_)}var vI,mI=function(){function e(){Oo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Js(C_,n)}return Lo(e,[{key:"isEqual",value:function(e){return(e=Eu(e))instanceof C_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ip.keyField().canonicalString())}}]),e}(),yI=function(){function e(t){Oo(this,e),this._delegate=t}return Lo(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new B_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new V_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=HS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new H_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),gI={Firestore:ZS,GeoPoint:R_,Timestamp:yp,Blob:YS,Transaction:tI,WriteBatch:nI,DocumentReference:iI,DocumentSnapshot:uI,Query:lI,QueryDocumentSnapshot:cI,QuerySnapshot:hI,CollectionReference:dI,FieldPath:mI,FieldValue:yI,setLogLevel:function(e){!function(e){Hd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ru("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},gI)))})(vI=Ic,(function(e,t){return new ZS(e,t,new XS)})),vI.registerVersion("@firebase/firestore-compat","0.1.13");function kI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var wI;Object.create;var bI="facebook.com",xI="github.com",_I="google.com",SI="password",II="twitter.com",EI="EMAIL_SIGNIN",TI="PASSWORD_RESET",CI="RECOVER_EMAIL",AI="REVERT_SECOND_FACTOR_ADDITION",NI="VERIFY_AND_CHANGE_EMAIL",RI="VERIFY_EMAIL";function PI(){return ne({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var OI=function(){var e;return ne(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ne(e,"argument-error",""),ne(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ne(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ne(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ne(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ne(e,"cordova-not-ready","Cordova framework is not ready."),ne(e,"cors-unsupported","This browser is not supported."),ne(e,"credential-already-in-use","This credential is already associated with a different user account."),ne(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ne(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ne(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ne(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ne(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ne(e,"email-already-in-use","The email address is already in use by another account."),ne(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ne(e,"expired-action-code","The action code has expired."),ne(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ne(e,"internal-error","An internal AuthError has occurred."),ne(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ne(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ne(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ne(e,"invalid-auth-event","An internal AuthError has occurred."),ne(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ne(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ne(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ne(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ne(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ne(e,"invalid-email","The email address is badly formatted."),ne(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ne(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ne(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ne(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ne(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ne(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ne(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ne(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ne(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ne(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ne(e,"wrong-password","The password is invalid or the user does not have a password."),ne(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ne(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ne(e,"invalid-provider-id","The specified provider ID is invalid."),ne(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ne(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ne(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ne(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ne(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ne(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ne(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ne(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ne(e,"missing-continue-uri","A continue URL must be provided in the request."),ne(e,"missing-iframe-start","An internal AuthError has occurred."),ne(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ne(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ne(e,"missing-multi-factor-info","No second factor identifier is provided."),ne(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ne(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ne(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ne(e,"app-deleted","This instance of FirebaseApp has been deleted."),ne(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ne(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ne(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ne(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ne(e,"no-auth-event","An internal AuthError has occurred."),ne(e,"no-such-provider","User was not linked to an account with the given provider."),ne(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ne(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ne(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ne(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ne(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ne(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ne(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ne(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ne(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ne(e,"rejected-credential","The request contains malformed or mismatching credentials."),ne(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ne(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ne(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ne(e,"timeout","The operation has timed out."),ne(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ne(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ne(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ne(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ne(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ne(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ne(e,"unverified-email","The operation requires a verified email."),ne(e,"user-cancelled","The user did not grant your application the permissions it requested."),ne(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ne(e,"user-disabled","The user account has been disabled by an administrator."),ne(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ne(e,"user-signed-out",""),ne(e,"weak-password","The password must be 6 characters long or more."),ne(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ne(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},DI=PI,LI=new pu("auth","Firebase",PI()),MI=new Wu("@firebase/auth");function jI(e){if(MI.logLevel<=Lu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];MI.error.apply(MI,["Auth (".concat(lc,"): ").concat(e)].concat(n))}}function FI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw BI.apply(void 0,[e].concat(n))}function UI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return BI.apply(void 0,[e].concat(n))}function VI(e,t,n){var r=Object.assign(Object.assign({},DI()),ne({},t,n));return new pu("auth","Firebase",r).create(t,{appName:e.name})}function zI(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&FI(e,"argument-error"),VI(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function BI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Po(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Po(o)))}return LI.create.apply(LI,[e].concat(n))}function qI(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw BI.apply(void 0,[t].concat(r))}}function WI(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jI(t),new Error(t)}function HI(e,t){e||WI(t)}var KI=new Map;function GI(e){HI(e instanceof Function,"Expected a class definition");var t=KI.get(e);return t?(HI(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,KI.set(e,t),t)}function QI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $I(){return"http:"===YI()||"https:"===YI()}function YI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var JI=function(){function e(t,n){Oo(this,e),this.shortDelay=t,this.longDelay=n,HI(n>t,"Short delay should be less than long delay!"),this.isMobile=su()||lu()}return Lo(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($I()||cu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function XI(e,t){HI(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ZI=function(){function e(){Oo(this,e)}return Lo(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void WI("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void WI("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void WI("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),eE=(ne(wI={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ne(wI,"MISSING_CUSTOM_TOKEN","internal-error"),ne(wI,"INVALID_IDENTIFIER","invalid-email"),ne(wI,"MISSING_CONTINUE_URI","internal-error"),ne(wI,"INVALID_PASSWORD","wrong-password"),ne(wI,"MISSING_PASSWORD","internal-error"),ne(wI,"EMAIL_EXISTS","email-already-in-use"),ne(wI,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ne(wI,"INVALID_IDP_RESPONSE","invalid-credential"),ne(wI,"INVALID_PENDING_TOKEN","invalid-credential"),ne(wI,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ne(wI,"MISSING_REQ_TYPE","internal-error"),ne(wI,"EMAIL_NOT_FOUND","user-not-found"),ne(wI,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ne(wI,"EXPIRED_OOB_CODE","expired-action-code"),ne(wI,"INVALID_OOB_CODE","invalid-action-code"),ne(wI,"MISSING_OOB_CODE","internal-error"),ne(wI,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ne(wI,"INVALID_ID_TOKEN","invalid-user-token"),ne(wI,"TOKEN_EXPIRED","user-token-expired"),ne(wI,"USER_NOT_FOUND","user-token-expired"),ne(wI,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ne(wI,"INVALID_CODE","invalid-verification-code"),ne(wI,"INVALID_SESSION_INFO","invalid-verification-id"),ne(wI,"INVALID_TEMPORARY_PROOF","invalid-credential"),ne(wI,"MISSING_SESSION_INFO","missing-verification-id"),ne(wI,"SESSION_EXPIRED","code-expired"),ne(wI,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ne(wI,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ne(wI,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ne(wI,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ne(wI,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ne(wI,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ne(wI,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ne(wI,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ne(wI,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ne(wI,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ne(wI,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),wI),tE=new JI(3e4,6e4);function nE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function rE(e,t,n,r){return iE.apply(this,arguments)}function iE(){return iE=Cu(Nu().mark((function e(t,n,r,i){var a,o=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",aE(t,a,Cu(Nu().mark((function e(){var a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=wu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ZI.fetch()(cE(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t,n){return oE.apply(this,arguments)}function oE(){return(oE=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},eE),n),e.prev=2,a=new lE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw fE(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw fE(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw fE(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw VI(t,p,d);case 30:FI(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof du)){e.next=37;break}throw e.t0;case 37:FI(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function sE(e,t,n,r){return uE.apply(this,arguments)}function uE(){return uE=Cu(Nu().mark((function e(t,n,r,i){var a,o,s=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,rE(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&FI(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function cE(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?XI(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var lE=function(){function e(t){var n=this;Oo(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(UI(n.auth,"network-request-failed"))}),tE.get())}))}return Lo(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function fE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=UI(e,t,r);return i.customData._tokenResponse=n,i}function hE(e,t){return dE.apply(this,arguments)}function dE(){return(dE=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pE(e,t){return vE.apply(this,arguments)}function vE(){return(vE=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return(yE=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gE(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function kE(){return kE=Cu(Nu().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Eu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,qI((a=bE(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:gE(wE(a.auth_time)),issuedAtTime:gE(wE(a.iat)),expirationTime:gE(wE(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function wE(e){return 1e3*Number(e)}function bE(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return jI("JWT malformed, contained fewer than 3 sections"),null;try{var a=nu(r);return a?JSON.parse(a):(jI("Failed to decode base64 JWT payload"),null)}catch(o){return jI("Caught error parsing JWT payload as JSON",o),null}}function xE(e,t){return _E.apply(this,arguments)}function _E(){return _E=Cu(Nu().mark((function e(t,n){var r=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof du&&SE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),_E.apply(this,arguments)}function SE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var IE=function(){function e(t){Oo(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lo(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),EE=function(){function e(t,n){Oo(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lo(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=gE(this.lastLoginAt),this.creationTime=gE(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function TE(e){return CE.apply(this,arguments)}function CE(){return CE=Cu(Nu().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,xE(t,mE(r,{idToken:i}));case 6:qI(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?RE(o.providerUserInfo):[],u=NE(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new EE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(){return(AE=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eu(t),e.next=3,TE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Po(n),Po(t))}function RE(e){return e.map((function(e){var t=e.providerId,n=kI(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function PE(e,t){return OE.apply(this,arguments)}function OE(){return(OE=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aE(t,{},Cu(Nu().mark((function e(){var r,i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=cE(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ZI.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DE=function(){function e(){Oo(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lo(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){qI(e.idToken,"internal-error"),qI("undefined"!==typeof e.idToken,"internal-error"),qI("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=bE(e);return qI(t,"internal-error"),qI("undefined"!==typeof t.exp,"internal-error"),qI("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Cu(Nu().mark((function e(t){var n,r=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],qI(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return WI("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(qI("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(qI("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(qI("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function LE(e,t){qI("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ME=function(){function e(t){Oo(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=kI(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Po(a.providerData):[],this.metadata=new EE(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lo(e,[{key:"getIdToken",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(qI(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return kE.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return AE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(qI(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){qI(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Cu(Nu().mark((function e(t){var n,r,i=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,TE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,xE(this,hE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;qI(k&&_,t,"internal-error");var S=DE.fromJSON(this.name,_);qI("string"===typeof k,t,"internal-error"),LE(f,t.name),LE(h,t.name),qI("boolean"===typeof w,t,"internal-error"),qI("boolean"===typeof b,t,"internal-error"),LE(d,t.name),LE(p,t.name),LE(v,t.name),LE(m,t.name),LE(y,t.name),LE(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Cu(Nu().mark((function t(n,r){var i,a,o,s=arguments;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new DE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,TE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),jE=function(){function e(){Oo(this,e),this.type="NONE",this.storage={}}return Lo(e,[{key:"_isAvailable",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();jE.type="NONE";var FE=jE;function UE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var VE=function(){function e(t,n,r){Oo(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=UE(this.userKey,a.apiKey,o),this.fullPersistenceKey=UE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lo(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ME._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Cu(Nu().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(GI(FE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||GI(FE),s=UE(i,n.config.apiKey,n.name),u=null,c=Ys(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ME._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function zE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GE(t))return"Blackberry";if(QE(t))return"Webos";if(qE(t))return"Safari";if((t.includes("chrome/")||WE(t))&&!t.includes("edge/"))return"Chrome";if(KE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function BE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/firefox\//i.test(e)}function qE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/crios\//i.test(e)}function HE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/iemobile/i.test(e)}function KE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/android/i.test(e)}function GE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/blackberry/i.test(e)}function QE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/webos/i.test(e)}function $E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/iphone|ipad|ipod/i.test(e)}function YE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return $E(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function JE(){return fu()&&10===document.documentMode}function XE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return $E(e)||KE(e)||QE(e)||GE(e)||/windows phone/i.test(e)||HE(e)}function ZE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zE(ou());break;case"Worker":t="".concat(zE(ou()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(lc,"/").concat(r)}var eT=function(){function e(t,n){Oo(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Lo(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=GI(t)),this._initializationPromise=this.queue(Cu(Nu().mark((function r(){var i,a;return Nu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,VE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Cu(Nu().mark((function e(t){var n,r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return qI(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Eu(t):null)&&qI(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Cu(Nu().mark((function e(t){var n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&qI(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(GI(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return qI(n=t&&GI(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,VE.create(this,[GI(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Cu(Nu().mark((function e(t){var n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qI(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return qI(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ne({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tT(e){return Eu(e)}var nT=function(){function e(t){var n=this;Oo(this,e),this.auth=t,this.observer=null,this.addObserver=_u((function(e){return n.observer=e}))}return Lo(e,[{key:"next",get:function(){return qI(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function rT(e,t,n){var r=tT(e);qI(r._canInitEmulator,r,"emulator-config-failed"),qI(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=iT(t),o=function(e){var t=iT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:aT(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:aT(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function iT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aT(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var oT=function(){function e(t,n){Oo(this,e),this.providerId=t,this.signInMethod=n}return Lo(e,[{key:"toJSON",value:function(){return WI("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return WI("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return WI("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return WI("not implemented")}}]),e}();function sT(e,t){return uT.apply(this,arguments)}function uT(){return(uT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:resetPassword",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return(lT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fT(e,t){return hT.apply(this,arguments)}function hT(){return(hT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:update",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dT(e,t){return pT.apply(this,arguments)}function pT(){return(pT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithPassword",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return(mT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:sendOobCode",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return(gT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e,t){return wT.apply(this,arguments)}function wT(){return(wT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(e,t){return xT.apply(this,arguments)}function xT(){return(xT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return ST.apply(this,arguments)}function ST(){return(ST=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IT(e,t){return ET.apply(this,arguments)}function ET(){return(ET=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithEmailLink",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TT(e,t){return CT.apply(this,arguments)}function CT(){return(CT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithEmailLink",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AT=function(e){So(n,e);var t=No(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Oo(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lo(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",dT(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",IT(t,{email:this._email,oobCode:this._password}));case 5:FI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cT(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",TT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:FI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(oT);function NT(e,t){return RT.apply(this,arguments)}function RT(){return(RT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithIdp",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PT=function(e){So(n,e);var t=No(n);function n(){var e;return Oo(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lo(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return NT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,NT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,NT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):FI("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=kI(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(oT);function OT(e,t){return DT.apply(this,arguments)}function DT(){return(DT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:sendVerificationCode",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LT(){return(LT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithPhoneNumber",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MT(){return(MT=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sE(t,"POST","/v1/accounts:signInWithPhoneNumber",nE(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw fE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jT=ne({},"USER_NOT_FOUND","user-not-found");function FT(){return(FT=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithPhoneNumber",nE(t,r),jT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UT=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lo(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return LT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return MT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return FT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(oT);var VT=function(){function e(t){var n,r,i,a,o,s;Oo(this,e);var u=bu(xu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);qI(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Lo(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=bu(xu(e)).link,n=t?bu(xu(t)).deep_link_id:null,r=bu(xu(e)).deep_link_id;return(r?bu(xu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Jx){return null}}}]),e}();var zT=function(){function e(){Oo(this,e),this.providerId=e.PROVIDER_ID}return Lo(e,null,[{key:"credential",value:function(e,t){return AT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=VT.parseLink(t);return qI(n,"argument-error"),AT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();zT.PROVIDER_ID="password",zT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var BT=function(){function e(t){Oo(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lo(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),qT=function(e){So(n,e);var t=No(n);function n(){var e;return Oo(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lo(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Po(this.scopes)}}]),n}(BT),WT=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.apply(this,arguments)}return Lo(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return qI(e.idToken||e.accessToken,"argument-error"),PT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return qI("providerId"in t&&"signInMethod"in t,"argument-error"),PT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(qT),HT=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.call(this,"facebook.com")}return Lo(n,null,[{key:"credential",value:function(e){return PT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Jx){return null}}}]),n}(qT);HT.FACEBOOK_SIGN_IN_METHOD="facebook.com",HT.PROVIDER_ID="facebook.com";var KT=function(e){So(n,e);var t=No(n);function n(){var e;return Oo(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lo(n,null,[{key:"credential",value:function(e,t){return PT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Jx){return null}}}]),n}(qT);KT.GOOGLE_SIGN_IN_METHOD="google.com",KT.PROVIDER_ID="google.com";var GT=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.call(this,"github.com")}return Lo(n,null,[{key:"credential",value:function(e){return PT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Jx){return null}}}]),n}(qT);GT.GITHUB_SIGN_IN_METHOD="github.com",GT.PROVIDER_ID="github.com";var QT=function(e){So(n,e);var t=No(n);function n(e,r){var i;return Oo(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Lo(n,[{key:"_getIdTokenResponse",value:function(e){return NT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,NT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,NT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oT),$T=function(e){So(n,e);var t=No(n);function n(e){return Oo(this,n),qI(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Lo(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=QT.fromJSON(e);return qI(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return QT._create(r,n)}catch(i){return null}}}]),n}(BT),YT=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.call(this,"twitter.com")}return Lo(n,null,[{key:"credential",value:function(e,t){return PT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Jx){return null}}}]),n}(qT);function JT(e,t){return XT.apply(this,arguments)}function XT(){return(XT=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signUp",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}YT.TWITTER_SIGN_IN_METHOD="twitter.com",YT.PROVIDER_ID="twitter.com";var ZT=function(){function e(t){Oo(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lo(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Cu(Nu().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ME._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=eC(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Cu(Nu().mark((function t(n,r,i){var a;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=eC(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function tC(){return tC=Cu(Nu().mark((function e(t){var n,r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tT(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ZT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,JT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ZT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}var nC=function(e){So(n,e);var t=No(n);function n(e,r,i,a){var o,s;return Oo(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Co(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lo(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(du);function rC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw nC._fromErrorAndOperation(e,n,t,r);throw n}))}function iC(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu(t),e.next=3,cC(!0,r,n);case 3:return e.t0=pE,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=iC(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=Cu(Nu().mark((function e(t,n){var r,i,a=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=xE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ZT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function cC(e,t,n){return lC.apply(this,arguments)}function lC(){return(lC=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TE(n);case 2:i=iC(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",qI(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,xE(t,rC(i,a,n,t),r);case 6:return qI((o=e.sent).idToken,i,"internal-error"),qI(s=bE(o.idToken),i,"internal-error"),u=s.sub,qI(t.uid===u,i,"user-mismatch"),e.abrupt("return",ZT._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&FI(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Cu(Nu().mark((function e(t,n){var r,i,a,o,s=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,rC(t,i,n);case 4:return a=e.sent,e.next=7,ZT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return(mC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dC(tT(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yC(e,t){return gC.apply(this,arguments)}function gC(){return(gC=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu(t),e.next=3,cC(!1,r,n.providerId);case 3:return e.abrupt("return",sC(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kC(e,t){return wC.apply(this,arguments)}function wC(){return(wC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fC(Eu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bC(e,t){return xC.apply(this,arguments)}function xC(){return(xC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t,"POST","/v1/accounts:signInWithCustomToken",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(){return(_C=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tT(t),e.next=3,bC(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ZT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SC=function(){function e(t,n){Oo(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Lo(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?IC._fromServerResponse(e,t):FI(e,"internal-error")}}]),e}(),IC=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Lo(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(SC);function EC(e,t,n){var r;qI((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),qI("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(qI(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(qI(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function TC(){return(TC=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),a={requestType:"PASSWORD_RESET",email:n},r&&EC(i,a,r),e.next=5,kT(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CC(){return(CC=Cu(Nu().mark((function e(t,n,r){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sT(Eu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(){return(AC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fT(Eu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NC(e,t){return RC.apply(this,arguments)}function RC(){return(RC=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu(t),e.next=3,sT(r,{oobCode:n});case 3:i=e.sent,qI(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return qI(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:qI(i.mfaInfo,r,"internal-error");case 13:qI(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=SC._fromServerResponse(tT(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PC(){return(PC=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NC(Eu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OC(e,t,n){return DC.apply(this,arguments)}function DC(){return(DC=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tT(t),e.next=3,JT(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ZT._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LC(){return(LC=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),a={requestType:"EMAIL_SIGNIN",email:n},qI(r.handleCodeInApp,i,"argument-error"),r&&EC(i,a,r),e.next=6,bT(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(){return(MC=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),qI((a=zT.credentialWithLink(n,r||QI()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",vC(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(e,t){return FC.apply(this,arguments)}function FC(){return(FC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:createAuthUri",nE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UC(){return(UC=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I()?QI():"http://localhost",i={identifier:n,continueUri:r},e.next=4,jC(Eu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(){return(VC=Cu(Nu().mark((function e(t,n){var r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&EC(r.auth,a,n),e.next=8,yT(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zC(){return(zC=Cu(Nu().mark((function e(t,n,r){var i,a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&EC(i.auth,o,r),e.next=8,_T(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BC(e,t){return qC.apply(this,arguments)}function qC(){return(qC=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WC(){return(WC=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u,c;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Eu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,xE(a,BC(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HC(e,t,n){return KC.apply(this,arguments)}function KC(){return(KC=Cu(Nu().mark((function e(t,n,r){var i,a,o,s;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,xE(t,cT(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GC=Lo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Oo(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),QC=function(e){So(n,e);var t=No(n);function n(e,r,i,a){var o;return Oo(this,n),(o=t.call(this,e,r,i)).username=a,o}return Lo(n)}(GC),$C=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"facebook.com",r)}return Lo(n)}(GC),YC=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Lo(n)}(QC),JC=function(e){So(n,e);var t=No(n);function n(e,r){return Oo(this,n),t.call(this,e,"google.com",r)}return Lo(n)}(GC),XC=function(e){So(n,e);var t=No(n);function n(e,r,i){return Oo(this,n),t.call(this,e,"twitter.com",r,i)}return Lo(n)}(QC);function ZC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=bE(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new GC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $C(a,i);case"github.com":return new YC(a,i);case"google.com":return new JC(a,i);case"twitter.com":return new XC(a,i,e.screenName||null);case"custom":case"anonymous":return new GC(a,null);default:return new GC(a,r,i)}}(n)}var eA=function(){function e(t,n){Oo(this,e),this.type=t,this.credential=n}return Lo(e,[{key:"toJSON",value:function(){return{multiFactorSession:ne({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),tA=function(){function e(t,n,r){Oo(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Lo(e,[{key:"resolveSignIn",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=tT(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return SC._fromServerResponse(r,e)}));qI(i.mfaPendingCredential,r,"internal-error");var o=eA._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Cu(Nu().mark((function e(t){var a,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ZT._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return qI(n.user,r,"internal-error"),e.abrupt("return",ZT._forOperation(n.user,n.operationType,s));case 17:FI(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function nA(e,t){return rE(e,"POST","/v2/accounts/mfaEnrollment:start",nE(e,t))}var rA=function(){function e(t){var n=this;Oo(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return SC._fromServerResponse(t.auth,e)})))}))}return Lo(e,[{key:"getSession",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=eA,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,xE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Cu(Nu().mark((function e(t){var n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,xE(this.user,rE(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",nE(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),iA=new WeakMap;var aA="__sak",oA=function(){function e(t,n){Oo(this,e),this.storageRetriever=t,this.type=n}return Lo(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(aA,"1"),this.storage.removeItem(aA),Promise.resolve(!0)):Promise.resolve(!1)}catch(Jx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var sA=function(e){So(n,e);var t=No(n);function n(){var e;return Oo(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ou();return qE(e)||$E(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=XE(),e._shouldAllowMigration=!0,e}return Lo(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);JE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Cu(Nu().mark((function e(t,r){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Io(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cu(Nu().mark((function e(t){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Io(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Io(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(oA);sA.type="LOCAL";var uA=sA,cA=function(e){So(n,e);var t=No(n);function n(){return Oo(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lo(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(oA);cA.type="SESSION";var lA=cA;function fA(e){return Promise.all(e.map(function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var hA=function(){function e(t){Oo(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lo(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Cu(Nu().mark((function e(t){var n,r,i,a,o,s,u,c;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,fA(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function dA(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hA.receivers=[];var pA=function(){function e(t){Oo(this,e),this.target=t,this.handlers=new Set}return Lo(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Cu(Nu().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=dA("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function vA(){return window}function mA(){return"undefined"!==typeof vA().WorkerGlobalScope&&"function"===typeof vA().importScripts}function yA(){return gA.apply(this,arguments)}function gA(){return(gA=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function kA(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var wA="firebaseLocalStorageDb",bA="firebaseLocalStorage",xA="fbase_key",_A=function(){function e(t){Oo(this,e),this.request=t}return Lo(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function SA(e,t){return e.transaction([bA],t?"readwrite":"readonly").objectStore(bA)}function IA(){var e=indexedDB.deleteDatabase(wA);return new _A(e).toPromise()}function EA(){var e=indexedDB.open(wA,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bA,{keyPath:xA})}catch(r){n(r)}})),e.addEventListener("success",Cu(Nu().mark((function n(){var r;return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bA)){n.next=12;break}return r.close(),n.next=5,IA();case 5:return n.t0=t,n.next=8,EA();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function TA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=SA(t,!0).put((ne(i={},xA,n),ne(i,"value",r),i)),e.abrupt("return",new _A(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function AA(e,t){return NA.apply(this,arguments)}function NA(){return NA=Cu(Nu().mark((function e(t,n){var r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SA(t,!1).get(n),e.next=3,new _A(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function RA(e,t){var n=SA(e,!0).delete(t);return new _A(n).toPromise()}var PA=function(){function e(){Oo(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lo(e,[{key:"_openDb",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,EA();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mA()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Cu(Nu().mark((function e(){var t=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=hA._getInstance(mA()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Cu(Nu().mark((function e(n,r){var i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yA();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new pA(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&kA()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,EA();case 5:return t=e.sent,e.next=8,TA(t,aA,"1");case 8:return e.next=10,RA(t,aA);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Cu(Nu().mark((function e(t,n){var r=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return TA(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return AA(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cu(Nu().mark((function e(t){var n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return RA(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=SA(e,!1).getAll();return new _A(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ys(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Cu(Nu().mark((function t(){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();PA.type="LOCAL";var OA=PA;function DA(e,t){return rE(e,"POST","/v2/accounts/mfaSignIn:start",nE(e,t))}function LA(e){return MA.apply(this,arguments)}function MA(){return(MA=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rE(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jA(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=UI("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function FA(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var UA=1e12,VA=function(){function e(t){Oo(this,e),this.auth=t,this.counter=UA,this._widgets=new Map}return Lo(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new zA(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||UA;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||UA;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||UA,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zA=function(){function e(t,n,r){var i=this;Oo(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;qI(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Lo(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var BA=FA("rcb"),qA=new JI(3e4,6e4),WA="https://www.google.com/recaptcha/api.js?",HA=function(){function e(){Oo(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vA().grecaptcha}return Lo(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return qI(KA(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(vA().grecaptcha):new Promise((function(r,i){var a=vA().setTimeout((function(){i(UI(e,"network-request-failed"))}),qA.get());vA()[BA]=function(){vA().clearTimeout(a),delete vA()[BA];var o=vA().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(UI(e,"internal-error"))},jA("".concat(WA,"?").concat(wu({onload:BA,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(UI(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!vA().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function KA(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var GA=function(){function e(){Oo(this,e)}return Lo(e,[{key:"load",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new VA(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),QA="recaptcha",$A={theme:"light",type:"image"},YA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$A),r=arguments.length>2?arguments[2]:void 0;Oo(this,e),this.parameters=n,this.type=QA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tT(r),this.isInvisible="invisible"===this.parameters.size,qI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;qI(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GA:new HA,this.validateStartingState()}return Lo(e,[{key:"verify",value:function(){var e=Cu(Nu().mark((function e(){var t,n,r,i=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){qI(!this.parameters.sitekey,this.auth,"argument-error"),qI(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=vA()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){qI(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Cu(Nu().mark((function e(){var t,n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qI($I()&&!mA(),this.auth,"internal-error"),e.next=3,JA();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,LA(this.auth);case 8:qI(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return qI(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function JA(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var XA=function(){function e(t,n){Oo(this,e),this.verificationId=t,this.onConfirmation=n}return Lo(e,[{key:"confirm",value:function(e){var t=UT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ZA(){return(ZA=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tT(t),e.next=3,rN(i,n,Eu(r));case 3:return a=e.sent,e.abrupt("return",new XA(a,(function(e){return vC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eN(e,t,n){return tN.apply(this,arguments)}function tN(){return(tN=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),e.next=3,cC(!1,i,"phone");case 3:return e.next=5,rN(i.auth,n,Eu(r));case 5:return a=e.sent,e.abrupt("return",new XA(a,(function(e){return yC(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nN(){return(nN=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(t),e.next=3,rN(i.auth,n,Eu(r));case 3:return a=e.sent,e.abrupt("return",new XA(a,(function(e){return kC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,qI("string"===typeof a,t,"argument-error"),qI(r.type===QA,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return qI("enroll"===s.type,t,"internal-error"),e.next=13,nA(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return qI("signin"===s.type,t,"internal-error"),qI(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,DA(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,OT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),iN.apply(this,arguments)}function aN(){return(aN=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sC(Eu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oN=function(){function e(t){Oo(this,e),this.providerId=e.PROVIDER_ID,this.auth=tT(t)}return Lo(e,[{key:"verifyPhoneNumber",value:function(e,t){return rN(this.auth,e,Eu(t))}}],[{key:"credential",value:function(e,t){return UT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?UT._fromTokenResponse(n,r):null}}]),e}();function sN(e,t){return t?GI(t):(qI(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}oN.PROVIDER_ID="phone",oN.PHONE_SIGN_IN_METHOD="phone";var uN=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lo(n,[{key:"_getIdTokenResponse",value:function(e){return NT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return NT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return NT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(oT);function cN(e){return dC(e.auth,new uN(e),e.bypassAuthState)}function lN(e){var t=e.auth,n=e.user;return qI(n,t,"internal-error"),fC(n,new uN(e),e.bypassAuthState)}function fN(e){return hN.apply(this,arguments)}function hN(){return(hN=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,qI(r=t.user,n,"internal-error"),e.abrupt("return",sC(r,new uN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Oo(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lo(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Cu(Nu().mark((function t(n,r){return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Cu(Nu().mark((function e(t){var n,r,i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return lN;default:FI(this.auth,"internal-error")}}},{key:"resolve",value:function(e){HI(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){HI(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),pN=new JI(2e3,1e4);function vN(e,t,n){return mN.apply(this,arguments)}function mN(){return(mN=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tT(t),zI(t,n,BT),a=sN(i,r),o=new wN(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yN(){return(yN=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zI((i=Eu(t)).auth,n,BT),a=sN(i.auth,r),o=new wN(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gN(e,t,n){return kN.apply(this,arguments)}function kN(){return(kN=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zI((i=Eu(t)).auth,n,BT),a=sN(i.auth,r),o=new wN(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wN=function(e){So(n,e);var t=No(n);function n(e,r,i,a,o){var s;return Oo(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Co(s),s}return Lo(n,[{key:"executeNotNull",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return qI(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Cu(Nu().mark((function e(){var t,n=this;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HI(1===this.filter.length,"Popup operations only handle one event"),t=dA(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(UI(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(UI(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(UI(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,pN.get())}()}}]),n}(dN);wN.currentPopupAction=null;var bN=new Map,xN=function(e){So(n,e);var t=No(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Oo(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lo(n,[{key:"execute",value:function(){var e=Cu(Nu().mark((function e(){var t,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_N(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Tc(Io(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bN.set(this.auth._key(),t);case 21:return this.bypassAuthState||bN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Cu(Nu().mark((function e(t){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Tc(Io(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Tc(Io(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(dN);function _N(e,t){return SN.apply(this,arguments)}function SN(){return(SN=Cu(Nu().mark((function e(t,n){var r,i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=CN(n),i=TN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e,t){return EN.apply(this,arguments)}function EN(){return(EN=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TN(t)._set(CN(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TN(e){return GI(e._redirectPersistence)}function CN(e){return UE("pendingRedirect",e.config.apiKey,e.name)}function AN(e,t,n){return function(e,t,n){return NN.apply(this,arguments)}(e,t,n)}function NN(){return(NN=Cu(Nu().mark((function e(t,n,r){var i,a;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tT(t),zI(t,n,BT),a=sN(i,r),e.next=5,IN(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RN(e,t,n){return function(e,t,n){return PN.apply(this,arguments)}(e,t,n)}function PN(){return(PN=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zI((i=Eu(t)).auth,n,BT),a=sN(i.auth,r),e.next=5,IN(a,i.auth);case 5:return e.next=7,UN(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ON(e,t,n){return function(e,t,n){return DN.apply(this,arguments)}(e,t,n)}function DN(){return(DN=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zI((i=Eu(t)).auth,n,BT),a=sN(i.auth,r),e.next=5,cC(!1,i,n.providerId);case 5:return e.next=7,IN(a,i.auth);case 7:return e.next=9,UN(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LN(e,t){return MN.apply(this,arguments)}function MN(){return(MN=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tT(t)._initializationPromise;case 2:return e.abrupt("return",jN(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jN(e,t){return FN.apply(this,arguments)}function FN(){return FN=Cu(Nu().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=tT(t),a=sN(i,n),o=new xN(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function UN(e){return VN.apply(this,arguments)}function VN(){return(VN=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dA("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zN=function(){function e(t){Oo(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lo(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qN(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qN(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(UI(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BN(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(BN(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function BN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qN(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function WN(e){return HN.apply(this,arguments)}function HN(){return HN=Cu(Nu().mark((function e(t){var n,r=arguments;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",rE(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),HN.apply(this,arguments)}var KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GN=/^https?/;function QN(){return(QN=Cu(Nu().mark((function e(t){var n,r,i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WN(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ys(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$N(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:FI(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function $N(e){var t=QI(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!GN.test(r))return!1;if(KN.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var YN=new JI(3e4,6e4);function JN(){var e=vA().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Po(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var XN=null;function ZN(e){return XN=XN||function(e){return new Promise((function(t,n){var r,i,a;function o(){JN(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){JN(),n(UI(e,"network-request-failed"))},timeout:YN.get()})}if(null===(i=null===(r=vA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=vA().gapi)||void 0===a?void 0:a.load)){var s=FA("iframefcb");return vA()[s]=function(){gapi.load?o():n(UI(e,"network-request-failed"))},jA("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw XN=null,e}))}(e),XN}var eR=new JI(5e3,15e3),tR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rR(e){var t=e.config;qI(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?XI(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:lc},i=nR.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(wu(r).slice(1))}function iR(e){return aR.apply(this,arguments)}function aR(){return aR=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN(t);case 2:return n=e.sent,qI(r=vA().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tR,dontclear:!0},(function(e){return new Promise(function(){var n=Cu(Nu().mark((function n(r,i){var a,o,s;return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){vA().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=UI(t,"network-request-failed"),o=vA().setTimeout((function(){i(a)}),eR.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),aR.apply(this,arguments)}var oR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sR="_blank",uR="http://localhost",cR=function(){function e(t){Oo(this,e),this.window=t,this.associatedEvent=null}return Lo(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},oR),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ou().toLowerCase();n&&(s=WE(c)?sR:n),BE(c)&&(t=t||uR,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(YE(c)&&"_self"!==s)return fR(t||"",s),new cR(null);var h=window.open(t||"",s,f);qI(h,e,"popup-blocked");try{h.focus()}catch(d){}return new cR(h)}function fR(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hR="__/auth/handler",dR="emulator/auth/handler";function pR(e,t,n,r,i,a){qI(e.config.authDomain,e,"auth-domain-config-required"),qI(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(t instanceof BT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof qT){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hR);return XI(t,dR)}(e),"?").concat(wu(p).slice(1))}var vR="webStorageSupport",mR=function(){function e(){Oo(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=jN}return Lo(e,[{key:"_openPopup",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){var a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HI(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=pR(t,n,r,QI(),i),e.abrupt("return",lR(t,o,dA()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=pR(t,n,r,QI(),i),vA().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(HI(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iR(t);case 2:return n=e.sent,r=new zN(t),n.register("authEvent",(function(e){return qI(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vR,{type:vR},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),FI(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return QN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return XE()||qE()||$E()}}]),e}(),yR=mR,gR=function(e){So(n,e);var t=No(n);function n(e){var r;return Oo(this,n),(r=t.call(this,"phone")).credential=e,r}return Lo(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return rE(e,"POST","/v2/accounts/mfaEnrollment:finalize",nE(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return rE(e,"POST","/v2/accounts/mfaSignIn:finalize",nE(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Oo(this,e),this.factorId=t}return Lo(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return WI("unexpected MultiFactorSessionType")}}}]),e}()),kR=function(){function e(){Oo(this,e)}return Lo(e,null,[{key:"assertion",value:function(e){return gR._fromCredential(e)}}]),e}();kR.FACTOR_ID="phone";var wR,bR="@firebase/auth",xR="0.19.8",_R=function(){function e(t){Oo(this,e),this.auth=t,this.internalListeners=new Map}return Lo(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){qI(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function SR(){return window}wR="Browser",tc(new Ru("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){qI(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),qI(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:wR,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(wR)},r=new eT(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(GI);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),tc(new Ru("auth-internal",(function(e){return function(e){return new _R(e)}(tT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),mc(bR,xR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wR)),mc(bR,xR,"esm2017");function IR(e,t,n){return ER.apply(this,arguments)}function ER(){return ER=Cu(Nu().mark((function e(t,n,r){var i,a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=SR(),o=a.BuildInfo,HI(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,PR(n.sessionId);case 4:return s=e.sent,u={},$E()?u.ibi=o.packageName:KE()?u.apn=o.packageName:FI(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",pR(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),ER.apply(this,arguments)}function TR(){return(TR=Cu(Nu().mark((function e(t){var n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=SR(),r=n.BuildInfo,i={},$E()?i.iosBundleId=r.packageName:KE()?i.androidPackageName=r.packageName:FI(t,"operation-not-supported-in-this-environment"),e.next=5,WN(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CR(e){var t=SR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function AR(e,t,n){return NR.apply(this,arguments)}function NR(){return NR=Cu(Nu().mark((function e(t,n,r){var i,a,o;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SR(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(UI(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),KE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),NR.apply(this,arguments)}function RR(e){var t,n,r,i,a,o,s,u,c,l,f=SR();qI("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qI("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qI("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qI("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qI("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function PR(e){return OR.apply(this,arguments)}function OR(){return(OR=Cu(Nu().mark((function e(t){var n,r,i;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DR(e){if(HI(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var LR=function(e){So(n,e);var t=No(n);function n(){var e;return Oo(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Lo(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Tc(Io(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zN);function MR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:zR(),postBody:null,tenantId:e.tenantId,error:UI(e,"no-auth-event")}}function jR(e,t){return BR()._set(qR(e),t)}function FR(e){return UR.apply(this,arguments)}function UR(){return(UR=Cu(Nu().mark((function e(t){var n;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BR()._get(qR(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,BR()._remove(qR(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VR(e,t){var n,r,i=function(e){var t=WR(e),n=t.link?decodeURIComponent(t.link):void 0,r=WR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return WR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=WR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?UI(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function zR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function BR(){return GI(uA)}function qR(e){return UE("authEvent",e.config.apiKey,e.name)}function WR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||Ro(t)||u(t)||c();r[0];return bu(r.slice(1).join("?"))}var HR=function(){function e(){Oo(this,e),this._redirectPersistence=lA,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jN}return Lo(e,[{key:"_initialize",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new LR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){FI(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){var a,o,s,u;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bN.clear(),e.next=10,this._originValidation(t);case 10:return o=MR(t,r,i),e.next=13,jR(t,o);case 13:return e.next=15,IR(t,o,n);case 15:return s=e.sent,e.next=18,CR(s);case 18:return u=e.sent,e.abrupt("return",AR(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return TR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=SR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Cu(Nu().mark((function n(){return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,FR(e);case 2:t.onEvent(GR());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Cu(Nu().mark((function n(r){var i,a;return Nu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,FR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=VR(i,r.url)),t.onEvent(a||GR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");SR().handleOpenURL=function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),KR=HR;function GR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:UI("no-auth-event")}}function QR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return!("file:"!==QR()&&"ionic:"!==QR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function YR(){return fu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function JR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return/Edge\/\d+/.test(e)}function XR(){try{var e=self.localStorage,t=dA();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou();return YR()||JR(e)}()||hu()}catch(n){return ZR()&&hu()}return!1}function ZR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function eP(){return("http:"===QR()||"https:"===QR()||cu()||$R())&&!(lu()||uu())&&XR()&&!ZR()}function tP(){return $R()&&"undefined"!==typeof document}function nP(){return rP.apply(this,arguments)}function rP(){return(rP=Cu(Nu().mark((function e(){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tP()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iP={LOCAL:"local",NONE:"none",SESSION:"session"},aP=qI,oP="persistence";function sP(e,t){aP(Object.values(iP).includes(t),e,"invalid-persistence-type"),lu()?aP(t!==iP.SESSION,e,"unsupported-persistence-type"):uu()?aP(t===iP.NONE,e,"unsupported-persistence-type"):ZR()?aP(t===iP.NONE||t===iP.LOCAL&&hu(),e,"unsupported-persistence-type"):aP(t===iP.NONE||XR(),e,"unsupported-persistence-type")}function uP(e){return cP.apply(this,arguments)}function cP(){return(cP=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=lP(),r=UE(oP,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lP(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var fP=qI,hP=function(){function e(){Oo(this,e),this.browserResolver=GI(yR),this.cordovaResolver=GI(KR),this.underlyingResolver=null,this._redirectPersistence=lA,this._completeRedirectFn=jN}return Lo(e,[{key:"_initialize",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Cu(Nu().mark((function e(t,n,r,i){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return tP()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return fP(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,nP();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dP(e){return e.unwrap()}function pP(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new kP(e,function(e,t){var n,r=Eu(e),i=t;return qI(t.customData.operationType,r,"argument-error"),qI(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),tA._fromError(r,i)}(e,t));else if(r){var i=vP(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function vP(e){var t=(e instanceof du?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof du)&&"temporaryProof"in t&&"phoneNumber"in t)return oN.credentialFromResult(e);var n,r=t.providerId;if(!r||r===SI)return null;switch(r){case _I:n=KT;break;case bI:n=HT;break;case xI:n=GT;break;case II:n=YT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?QT._create(r,s):PT._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new WT(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof du?n.credentialFromError(e):n.credentialFromResult(e)}function mP(e,t){return t.catch((function(t){throw t instanceof du&&pP(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,vP(t)),additionalUserInfo:ZC(e),user:wP.getOrCreate(r)}}))}function yP(e,t){return gP.apply(this,arguments)}function gP(){return(gP=Cu(Nu().mark((function e(t,n){var r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return mP(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kP=function(){function e(t,n){Oo(this,e),this.resolver=n,this.auth=t.wrapped()}return Lo(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return mP(dP(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wP=function(){function e(t){Oo(this,e),this._delegate=t,this.multiFactor=function(e){var t=Eu(e);return iA.has(t)||iA.set(t,rA._fromUser(t)),iA.get(t)}(t)}return Lo(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mP(this.auth,yC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yP(this.auth,eN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mP(this.auth,gN(this._delegate,t,hP)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uP(tT(this.auth));case 2:return e.abrupt("return",ON(this._delegate,t,hP));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mP(this.auth,kC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return yP(this.auth,function(e,t,n){return nN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return mP(this.auth,function(e,t,n){return yN.apply(this,arguments)}(this._delegate,e,hP))}},{key:"reauthenticateWithRedirect",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uP(tT(this.auth));case 2:return e.abrupt("return",RN(this._delegate,t,hP));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return VC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aC(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return HC(Eu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return HC(Eu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return aN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return WC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return zC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wP.USER_MAP=new WeakMap;var bP=qI,xP=function(){function e(t,n){if(Oo(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;bP(r,"invalid-api-key",{appName:t.name}),bP(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?hP:void 0;this._delegate=n.initialize({options:{persistence:SP(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(OI),this.linkUnderlyingAuth()}return Lo(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wP.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){rT(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return AC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return NC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return CC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Cu(Nu().mark((function e(t,n){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mP(this._delegate,OC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return UC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=VT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Cu(Nu().mark((function e(){var t;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bP(eP(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,LN(this._delegate,hP);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",mP(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){tT(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_P(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_P(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return LC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return TC.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Cu(Nu().mark((function e(t){var n,r;return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sP(this._delegate,t),e.t0=t,e.next=e.t0===iP.SESSION?4:e.t0===iP.LOCAL?6:e.t0===iP.NONE?11:13;break;case 4:return n=lA,e.abrupt("break",14);case 6:return e.next=8,GI(OA)._isAvailable();case 8:return r=e.sent,n=r?OA:uA,e.abrupt("break",14);case 11:return n=FE,e.abrupt("break",14);case 13:return e.abrupt("return",FI("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return mP(this._delegate,function(e){return tC.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return mP(this._delegate,vC(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return mP(this._delegate,function(e,t){return _C.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return mP(this._delegate,function(e,t,n){return vC(Eu(e),zT.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return mP(this._delegate,function(e,t,n){return MC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return yP(this._delegate,function(e,t,n){return ZA.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bP(eP(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",mP(this._delegate,vN(this._delegate,t,hP)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Cu(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bP(eP(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,uP(this._delegate);case 3:return e.abrupt("return",AN(this._delegate,t,hP));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return PC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _P(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wP.getOrCreate(e))},error:t,complete:n}}function SP(e,t){var n=function(e,t){var n=lP();if(!n)return[];var r=UE(oP,e,t);switch(n.getItem(r)){case iP.NONE:return[FE];case iP.LOCAL:return[OA,lA];case iP.SESSION:return[lA];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(OA)||n.push(OA),"undefined"!==typeof window)for(var r=0,i=[uA,lA];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(FE)||n.push(FE),n}xP.Persistence=iP;var IP=function(){function e(){Oo(this,e),this.providerId="phone",this._delegate=new oN(dP(Ic.auth()))}return Lo(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return oN.credential(e,t)}}]),e}();IP.PHONE_SIGN_IN_METHOD=oN.PHONE_SIGN_IN_METHOD,IP.PROVIDER_ID=oN.PROVIDER_ID;var EP=qI,TP=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic.app();Oo(this,e),EP(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new YA(t,n,i.auth()),this.type=this._delegate.type}return Lo(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ru("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new xP(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:EI,PASSWORD_RESET:TI,RECOVER_EMAIL:CI,REVERT_SECOND_FACTOR_ADDITION:AI,VERIFY_AND_CHANGE_EMAIL:NI,VERIFY_EMAIL:RI}},EmailAuthProvider:zT,FacebookAuthProvider:HT,GithubAuthProvider:GT,GoogleAuthProvider:KT,OAuthProvider:WT,SAMLAuthProvider:$T,PhoneAuthProvider:IP,PhoneMultiFactorGenerator:kR,RecaptchaVerifier:TP,TwitterAuthProvider:YT,Auth:xP,AuthCredential:oT,Error:du}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.8")}(Ic);var CP=Ic.initializeApp({apiKey:"AIzaSyBHuPYmFyqPSQJMHHCzUl31zmEpGfzGh_U",authDomain:"netflix-clone-aebf9.firebaseapp.com",projectId:"netflix-clone-aebf9",storageBucket:"netflix-clone-aebf9.appspot.com",messagingSenderId:"944424470969",appId:"1:944424470969:web:4db5c020a35426bc034e68"});a.render((0,mn.jsx)(mn.Fragment,{children:(0,mn.jsxs)(zs.Provider,{basename:"/netflix-clone",value:{firebase:CP},children:[(0,mn.jsx)($s,{}),(0,mn.jsx)(Qs,{})]})}),document.getElementById("root"))},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,I=60108,E=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),I=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,s,u){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},Et={};function Tt(e){if(It[e])return It[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return It[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Ee(e)),e=Jn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Sr.length;Ir++)Ot.set(Sr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Nt:u=wn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ii=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Ei(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Pi,Qi),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Ia(!0),Ta=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Nr(Er[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Nr(Er[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&zs)&&0===(134217727&Bs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=b.ReactCurrentDispatcher,Rs=b.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,$s=null,Ys=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(Bs|=t,4===Fs&&gu(e,Ls));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Pi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Eu();for(Os===e&&Ls===r||(Gs(),Su(e,r));;)try{Au();break}catch(u){Iu(e,u)}if(na(),Ns.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Fs),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&Bs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function _u(){Ms=js.current,li(js)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,qs=Bs=zs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Eu(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Eu();for(Os===e&&Ls===t||Su(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Ps=n,Ns.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Nu(Ds)}function Au(){for(;null!==Ds&&!Ci();)Nu(Ds)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Wi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,zr=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ge($s.stateNode,""),128&k){var w=$s.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Es($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Es($s.alternate,$s);break;case 4:Es($s.alternate,$s);break;case 8:Is(s,u=$s);var x=u.alternate;ws(u),null!==x&&ws(x)}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}$t=!!zr,Br=zr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var _=$s.flags;if(36&_&&ys(k,$s.alternate,$s),128&_){w=void 0;var S=$s.ref;if(null!==S){var I=$s.stateNode;$s.tag,w=I,"function"===typeof S?S(w):S.current=w}}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(mu(e,qi()),Ys)throw Ys=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>qi()-Hs?Su(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case E:return(e=Wu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case N:return(e=Wu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $u(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=wu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(E))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(E);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===_(E)&&S(E),D(n)}else S(E);A=_(E)}if(null!==A)var u=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(E,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/netflix-clone/";n(526)}();
//# sourceMappingURL=main.b4aa2bd2.js.map